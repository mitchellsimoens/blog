{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2015/08/13/format-your-numbers/","result":{"data":{"site":{"siteMetadata":{"title":"Mitchell Simoens Blog","author":"Mitchell Simoens"}},"markdownRemark":{"id":"cc4612de-5268-5720-b9c0-53a76e780832","excerpt":"Yesterday, I posted about a gripe on not pluralizing text based on the value that text was associated to. Today, I visited a site and noticed some of their…","html":"<p>Yesterday, I posted about a gripe on not <a href=\"https://sencha.guru/2015/08/12/pluralize-text/\">pluralizing text</a> based on the value that text was associated to. Today, I visited a site and noticed some of their numbers were not formatted (some were). Once again, I was surprised how much this annoyed me…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 250px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d7477e20ac6e713c749e98f890c89bd4/63868/bad-number-formatting_zqjzot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAwUlEQVQoz62P2QqDMBBF/f8fEloE10Kpe9q3KmoR7RcYl+Q2CZha+lKkA4eZMJkziQER0zQpOOdYlgWMMY08b9G95X1Hzq0Yq3AcR+yN7UIllDLOGeqqBslz9P0Tj6ZG1/Ug5IYsSZEIojhGUZZ4VA2Ke4lK5LbtPuRaCHCQLEcYRoguIQLfxVXITsEZvuPAcT3YtoM0JwhsD9bBgmkexSKiRH/98tcLpXAYBiWllP7GQNWMrOXcihbKxjzPqpZ5Ly/XtRuCBod7XgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bad number formatting\"\n        title=\"bad number formatting\"\n        src=\"/static/d7477e20ac6e713c749e98f890c89bd4/63868/bad-number-formatting_zqjzot.png\"\n        srcset=\"/static/d7477e20ac6e713c749e98f890c89bd4/12f09/bad-number-formatting_zqjzot.png 148w,\n/static/d7477e20ac6e713c749e98f890c89bd4/63868/bad-number-formatting_zqjzot.png 250w\"\n        sizes=\"(max-width: 250px) 100vw, 250px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>You can see the ‘1000000’ is not formatted, in fact I had to count a couple times to make sure I had enough zeros because my eyes were playing tricks on me when trying to count the number on the site. That’s why you format the numbers! So your users don’t have to struggle!</p>\n<p>Once again, Ext JS to the rescue! <code class=\"language-text\">Ext.util.Format</code> has a <code class=\"language-text\">number</code> method that will take a value and a format string. The format string has quite a lot of options and luckily is pretty well <a href=\"https://docs.sencha.com/extjs/6.0/6.0.0-classic/#!/api/Ext.util.Format-method-number\">documented</a>. Let’s look at a simple example that will format that text correctly (least for my locale):</p>\n<iframe src=\"https://fiddle.sencha.com/fiddle/s3q?height=200\" style=\"height:200px;width:600px;border:0;\"></iframe>\n<p>As you can see, it outputs ‘1,000,000’ and I can easily see what the actual value. Before formatting, it could have easily been 10,000,000 or 100,000 but now I know for sure it’s 1,000,000. Let’s look at usage in an <code class=\"language-text\">Ext.XTemplate</code>:</p>\n<iframe src=\"https://fiddle.sencha.com/fiddle/s3q?height=200\" style=\"height:200px;width:600px;border:0;\"></iframe>\n<p>Ext JS making it simple! Let’s look at doing this in a grid, there’s three ways to do it. Here’s a grid with three columns that’s doing it the three different ways:</p>\n<iframe src=\"https://fiddle.sencha.com/fiddle/s3s?height=400\" style=\"height:400px;width:600px;border:0;\"></iframe>\n<p>The first column has a renderer that uses <code class=\"language-text\">Ext.util.Format.number</code> directly, nothing really wrong with this but we can simplify this version by using <code class=\"language-text\">Ext.util.Format.numberRenderer</code> as in the second column. What the <code class=\"language-text\">numberRenderer</code> method does is basically returns a function and within this function uses <code class=\"language-text\">Ext.util.Format.number</code> just like in the first column. In fact, it’s exactly the same thing, just a shorthand version. Those two are more for manual usage and backwards compatibility. The third column, for a grid, is the preferred way using <code class=\"language-text\">Ext.grid.column.Number</code> with a simple format config. Just like before, <code class=\"language-text\">Ext.grid.column.Number</code> just defines the <code class=\"language-text\">renderer</code> config for you and uses <code class=\"language-text\">Ext.util.Format.number</code> method just like in the first column.</p>\n<p>When should you use one over the other. <code class=\"language-text\">Ext.grid.column.Number</code> was introduced in Ext JS 4.0 so if you are using Ext JS 3 or older, of course you cannot use it then, maybe you should update! :) The benefit of using <code class=\"language-text\">Ext.grid.column.Number</code> is it sets up the <code class=\"language-text\">updater</code> method on the column which means potential faster grid cell updates. I still use the other two when I need to use a different column but still need to format the number. For example, <code class=\"language-text\">Ext.tree.Panel</code> is actually just a grid but with a special column to show the expand and node icons. That means you have to use <code class=\"language-text\">Ext.tree.Column</code> and cannot use the <code class=\"language-text\">Ext.grid.column.Number</code> so you have to use one of the manual ways, like this:</p>\n<iframe src=\"https://fiddle.sencha.com/fiddle/s3u?height=400\" style=\"height:400px;width:600px;border:0;\"></iframe>\n<p>Here, we have to use the <code class=\"language-text\">treecolumn</code> so we can expand/collapse the Items node so we have to define the renderer. Since some <code class=\"language-text\">text</code> values may not be a number and therefore do not want to format them, I use a quick ternary to check if it’s a number then format it, otherwise return it.</p>","fields":{"readingTime":{"text":"3 min read"},"slug":"/2015/08/13/format-your-numbers/"},"frontmatter":{"title":"Format your numbers!","date":"August 13, 2015"}}},"pageContext":{"slug":"/2015/08/13/format-your-numbers/","previous":{"fields":{"slug":"/2015/08/12/pluralize-text/"},"frontmatter":{"title":"Pluralize text"}},"next":{"fields":{"slug":"/2015/08/15/this-is-undefined-what/"},"frontmatter":{"title":"this is undefined, what?"}}}}}