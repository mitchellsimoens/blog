{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2014/04/01/ext-create-or-ext-widget-or-new-what-the-heck/","webpackCompilationHash":"7a2b55a2d04ca1da1bf3","result":{"data":{"site":{"siteMetadata":{"title":"Mitchell Simoens Blog","author":"Mitchell Simoens"}},"markdownRemark":{"id":"c8abaecc-85c7-5e53-b3d2-e35d412f819d","excerpt":"There has been a conversation going on in a private forum on the Sencha Forums where it discusses what to use and what to recommend in regards to how to create…","html":"<p>There has been a conversation going on in a private forum on the Sencha Forums where it discusses what to use and what to recommend in regards to how to create an instance of a class in Ext JS (which spills over to Sencha Touch as well). You can use <code class=\"language-text\">Ext.create</code>, <code class=\"language-text\">Ext.widget</code> or the <code class=\"language-text\">new</code> keyword and the end result is the same. So which should you use? If you ask me, it depends on the situation but the more important thing to me is knowing what happens under the hood with each method. The more you understand about the framework the better off you will be (so long as you don’t get overwhelmed which I will try not to do :) ). I’m not trying to sway you to use one method, I want you to know what happens under the hood and some drawbacks I see from each method.</p>\n<h2>The <code class=\"language-text\">new</code> keyword</h2>\n<p>The simplest, most performant form of creating an instance is using the <code class=\"language-text\">new</code> keyword:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">new Ext.Component({\n    html : &#39;Hello there&#39;\n});</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This is the most performant means of creating an instance so why not always use it? Why have the other means? The first drawback of using the <code class=\"language-text\">new</code> keyword is that the class must always be loaded. In production this isn’t an issue as all classes should be loaded in a single (minified/obfuscated) file but in development the class may not be loaded. If the class isn’t loaded, a syntax error will be thrown. I would argue that you should setup your requires properly and this problem is now moot.</p>\n<p>I personally always use the new keyword even when saving a couple CPU cycles doesn’t matter. To me it’s simpler and cleaner, the others are just a waste of extra code in a production build where performance really matters.</p>\n<h2><code class=\"language-text\">Ext.create</code></h2>\n<p>The most common (and the officially recommended means by Sencha) to create an instance is using <code class=\"language-text\">Ext.create</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Ext.create(&#39;Ext.Component&#39;, {\n    html : &#39;Hello there&#39;\n});</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Not too different of a syntax from using the <code class=\"language-text\">new</code> keyword but there is more going on under the hood than just instantiating. The big drawback by using the <code class=\"language-text\">new</code> keyword is the class must already be loaded, <code class=\"language-text\">Ext.create</code> can be used even if the class has not been loaded, this is the reason why you pass in a string so it can look up if the class is loaded. If the class is not loaded, then <code class=\"language-text\">Ext.create</code> leans on <code class=\"language-text\">Ext.Loader</code> to synchronously load the class and then instantiate it.</p>\n<p>Couple things here that are not optimal. First is the check to see if the class has been loaded. This is a simple object lookup but one that is not needed in production. The second thing is synchronously loading the class meaning no other javascript will execute while that class is loading meaning your application is frozen. This may not mean much locally as the Xhr completes very fast but I’ve seen projects where they deploy the development version of an app to a remote server that mimics the production server which may be slow to load the class. Also, when loading a class, <code class=\"language-text\">Ext.Loader</code> has to inspect the class to see if it has any dependencies to load which it will have to synchronously load them as well and the browser will only load 4 things at any given time so you may be waiting for the class and dependencies to load. In production, the loading shouldn’t happen as you should have everything compiled into a single file so you are left with the minimal object lookup to get the class from the string which isn’t the worst thing in the world.</p>\n<p>I do use <code class=\"language-text\">Ext.create</code> when I have a string that I need to instantiate from. Imagine having a tree panel and clicking on a node you have the class name to instantiate. That class name is a string which <code class=\"language-text\">Ext.create</code> can handle.</p>\n<h2><code class=\"language-text\">Ext.widget</code></h2>\n<p>The last way to instantiate is using <code class=\"language-text\">Ext.widget</code> (do note this is only for components) which can be used like <code class=\"language-text\">Ext.create</code> (where you pass a string and an optional config object):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Ext.widget(&#39;component&#39;, {\n    html : &#39;Hello there&#39;\n});</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Or you can just use a config object which requires the <code class=\"language-text\">xtype</code> config:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Ext.widget({\n    xtype : &#39;component&#39;,\n    html  : &#39;Hello there&#39;\n});</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This has the same drawbacks and benefits of <code class=\"language-text\">Ext.create</code>. The added drawback is that Ext needs to know about the xtype you are using in some way. This can be from loading the class or from using Sencha Cmd that creates the bootstrap information that tells Ext about the xtypes it finds. Ext keeps an object mapping xtypes to their class so it’s a simple object lookup but you also have added code to check if the first argument is a string or an object which isn’t that bad of a performance hit at all.</p>\n<h2>Summary</h2>\n<p>Even though I personally use the <code class=\"language-text\">new</code> keyword, I do some times have to use <code class=\"language-text\">Ext.create</code> when I only have a string like I mentioned before. I always make sure the classes I am using are already loaded, I stay away from sync loading at all costs.</p>\n<p>I meant this blog not to sway you in any direction but to educate what happens under the hood for better clarification.</p>","fields":{"slug":"/2014/04/01/ext-create-or-ext-widget-or-new-what-the-heck/"},"frontmatter":{"title":"Ext.create or Ext.widget or new... what the heck?","date":"April 01, 2014"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2014/04/01/ext-create-or-ext-widget-or-new-what-the-heck/","previous":{"fields":{"slug":"/2014/04/01/prevent-browser-zoom-in-ext-js/"},"frontmatter":{"title":"Prevent browser zoom in Ext JS"}},"next":{"fields":{"slug":"/2014/04/30/loading-models-on-demand/"},"frontmatter":{"title":"Loading Model Data on Demand"}}}}}