<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Mitchell Simoens Blog]]></title><description><![CDATA[Blog articles about myself and tech topics!]]></description><link>https://mitchellsimoens.com</link><generator>RSS for Node</generator><lastBuildDate>Fri, 26 Jul 2019 17:21:51 GMT</lastBuildDate><item><title><![CDATA[Sencha Making The Same Mistakes]]></title><description><![CDATA[Let’s get something out before I start. Yes, I am an ex-employee of Sencha. No, I was not laid off (I left on principle seeing the knowledge…]]></description><link>https://mitchellsimoens.com/2018/06/18/sencha-making-the-same-mistakes/</link><guid isPermaLink="false">https://mitchellsimoens.com/2018/06/18/sencha-making-the-same-mistakes/</guid><pubDate>Mon, 18 Jun 2018 15:14:03 GMT</pubDate><content:encoded>&lt;p&gt;Let’s get something out before I start. Yes, I am an ex-employee of Sencha. No, I was not laid off (I left on principle seeing the knowledge of the company and friends get laid off). Yes, I have been critical of Sencha since the acquisition but this is something I’ve been doing internally for years so nothing new there.&lt;/p&gt;
&lt;h2&gt;Quick History&lt;/h2&gt;
&lt;p&gt;One of the necessary evils of the early 2000s was that JavaScript was really just a kid. You couldn’t do any real OOP like many languages could do for years. I come from a PHP background and had been using classes for a long time, I liked that type of programming. When I started dealing with JavaScript I had to do functional programming which worked and you could do what you need to but I always enjoyed my classes in PHP. It just felt structured to me.&lt;/p&gt;
&lt;p&gt;When I found Ext JS, not only did it have some great UI widgets but it had a form of OOP, it had a class system. Under the hood, all it was doing was using &lt;code class=&quot;language-text&quot;&gt;function&lt;/code&gt; with the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword and &lt;code class=&quot;language-text&quot;&gt;prototype&lt;/code&gt; to get that inheritance. So it was kind of a workaround to no classes to create a “manual” class system if you will. I love it and devoted the next decade to it!&lt;/p&gt;
&lt;h2&gt;Old Mistakes&lt;/h2&gt;
&lt;p&gt;With the renewed interest in furthering JavaScript the language, we now have classes. We have a lot of new things that Ext JS did manually (and in early days even applied onto native prototypes, thankfully we got away from that!). When we created the ExtReact, it was just an adapter layer. ExtReact is not a true React component library, it’s just a way to let Ext JS render a component somewhere in your React application.&lt;/p&gt;
&lt;p&gt;Ext JS isn’t alone in this but when React and other came onto the scene, Sencha was not prepared for it. We were fixing massive issues that Ext JS 4 brought. We were caught with our pants down, we were simply standing still while the entire ecosystem upended and ran right past us. To catch up, we needed to do more than incremental updates or else Ext JS was going to be destined for the legacy bin.&lt;/p&gt;
&lt;p&gt;You can look at things like Google Trends but in my own experience, in 2012 my primary job was helping people on Sencha’s forum and at my busiest month, I did almost 4,000 posts in a single month just trying to keep up. The community was vibrant and passionate. Look at the forum these days and you will see something vastly different. I wouldn’t be surprised if there wasn’t 4,000 posts total in a month let alone from a single person.&lt;/p&gt;
&lt;h2&gt;A Fix&lt;/h2&gt;
&lt;p&gt;One potential fix would have been to create true React (and other) component libraries. Let React do what React does best, render fast. Ext JS doesn’t do optimizations that things like virtual DOM do. Sure, there are some optimizations but that’s no where near what virtual DOM would get you, it’s more a little attempt to batch or delay certain things but it can also require the developer to code correctly whereas React basically just handles it for you. The only time you need to code a certain way is to do some advanced fine-tuning since not everything can know exactly what you want to do and how to handle it. Luckily, there are vibrant communities around React and other new libraries/frameworks.&lt;/p&gt;
&lt;p&gt;But doing a massive restructure of Ext JS would be a major undertaking for a monolithic company like Sencha which made certain execs not buy it. They have a board to report to so I can understand the short sighted sense of those decisions but there are also ways to piece meal a lot of it. Maybe it was because a sale was more preferred so revenue and margins were looked at differently than if a company was going to invest in it’s own future.&lt;/p&gt;
&lt;h2&gt;Today’s Mistake&lt;/h2&gt;
&lt;p&gt;I saw a &lt;a href=&quot;https://motivationalcodepro.com/sencha-npm-tooling-with-ext-js-6-6/&quot;&gt;blog&lt;/a&gt; about some new npm tooling and while you have to be a special MVP to get access today, there were some code snippets the blog showed. And once again, instead of using tried and battle-tested existing tools that have active communities they chose to build their own thing. It looks to be built from scratch so a perfect time to do it using existing tools.&lt;/p&gt;
&lt;p&gt;One example showed generating an application. First, some constructive feedback for the blog author is that showing a long command in multilines would help readability as the command is over 300 characters long (maybe it was just a command that is missing the special code formatting so it’s all thrown together). Here is my best guess at the nested nature of the command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;ext-gen &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  app &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    –template universalclassicmodern &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    –classictheme theme-graphite &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    –moderntheme theme-material &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    –name CoolUniversalAppext-gen &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  app–template classicdesktop &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    –classictheme theme-graphite &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    –name CoolDesktopAppext-gen &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  app &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
      –interactiveext-gen &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  app &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -a &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    —classictheme theme-graphite &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -n ClassicAppext-gen &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  app &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -a &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -t moderndesktop &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -n ModernApp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So there is an &lt;code class=&quot;language-text&quot;&gt;ext-gen&lt;/code&gt; tool that likely downloads (and maybe caches to local) templates from a GitHub repo (since Sencha uses GitHub with lots of private repos) or maybe from the customer only npm server. Just feels like Yeoman or the like could have done this. Honestly, this doesn’t give you much as it’s a command you execute at the start of a project and never against for that project so whatever.&lt;/p&gt;
&lt;p&gt;Another example is building an app where the generated app likely has some predefined scripts in it’s &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; that you can run things like &lt;code class=&quot;language-text&quot;&gt;npm run build-desktop-testing&lt;/code&gt;. Unfortunately the blog doesn’t show what is being used here as the script could even use Cmd:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;build-desktop-testing&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sencha app build testing&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or it could use a new tool or just the Cmd NodeJS wrapper. If it’s just a Node wrapper that executes Cmd commands for you then it’s no better than using Cmd by itself except you get to run Cmd commands a different way. It’s like using promises over callbacks, it’s still just a callback-hell just different and maybe prettier. If it’s a new tool altogether, I’ll be pleasantly shocked and will attempt to be the first to congratulate them but it’s still wouldn’t be a perfect solution. It’s still reliant on Ext JS development and with Ext JS being on it’s own tiny island not using the better libraries, the tooling can only do so much. For example, I talked about ExtReact not being a true React library and neither is it’s build tool. There is a Webpack plugin but it still uses Cmd under the hood but at least it allows you to use Webpack and not have to worry about Cmd. It at least tried to use what people want to use and not forcing a black box tool.&lt;/p&gt;
&lt;h2&gt;Suggestions&lt;/h2&gt;
&lt;p&gt;Ok, so I outlines some issues I see coming down the pipeline. If I were to have a wish list, I would love Sencha to follow Ionic’s path with web components. Ok, I just contradicted myself as going with web components wouldn’t make Ext JS a true React library like I said Ext JS should be but this is a wish list and this would be my top wish list item… one code base could work with or without another library but could seamlessly work with any library without any adapters like ExtReact (and the future ExtAngular and others) will use. But that won’t happen, however, it could have an adapter layer to get you web components without separate adapters for each new library you want to support, in fact I was playing around one day with this &lt;a href=&quot;https://fiddle.sencha.com/#fiddle/1u8k&quot;&gt;fiddle&lt;/a&gt; to prove a point internally.&lt;/p&gt;
&lt;p&gt;Past web components, properly abstract the rendering of components so that you could use React or alike as the rendering layer of a component. That means Ext JS would sit on-top of other libraries like React that can handle the DOM much more efficiently.&lt;/p&gt;
&lt;p&gt;Once you do some things with Ext JS, you can then use tooling that people want to use. You gotta stop wasting time getting new tools and force them on people. That’s not what the field wants these days. They want to use what they know so if someone loves Webpack or Rollup, enable the devs instead of forcing something on them. You’ll likely turn them off of everything including Ext JS.&lt;/p&gt;
&lt;p&gt;Should I say something about going with modern toolkit at the very least here? If you do none of the above, modern toolkit has much more promise than classic toolkit. Don’t walk backwards, you’ll never go forward.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Yes, I have been critical of Sencha and Idera but it’s nothing I haven’t been doing internally for years. These things I say here have been the same theme of what I’ve said for years internally. I firmly believe if you aren’t willing to do major surgery (or figure out how to do it in phases) then you will get left behind in this field. Every major framework/library that has rose to the top has fallen. Some like Ionic are trying to keep innovating to keep up and even push the tech forward (come on web components, you’ve been a promise for years but we are so close!). Some like Dojo have even gone under the knife to try and stay relevant. Even the mighty React doesn’t have a promised future. Ext JS is the tech of last decade, not the current and definitely not the future. If you want Ext JS to be around 10 years from now then you have to make some wild decisions and get experts to deliver on those.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What I miss at Sencha]]></title><description><![CDATA[It’s been a little bit since I left Sencha and while working here at Modus has been great so far, there is still something I miss about…]]></description><link>https://mitchellsimoens.com/2017/10/30/what-i-miss-at-sencha/</link><guid isPermaLink="false">https://mitchellsimoens.com/2017/10/30/what-i-miss-at-sencha/</guid><pubDate>Mon, 30 Oct 2017 20:55:03 GMT</pubDate><content:encoded>&lt;p&gt;It’s been a little bit since I &lt;a href=&quot;https://mitchellsimoens.com/next-chapter-in-2017/&quot;&gt;left Sencha&lt;/a&gt; and while working here at &lt;a href=&quot;https://moduscreate.com&quot;&gt;Modus&lt;/a&gt; has been great so far, there is still something I miss about Sencha. I worked at Sencha for almost 7 years and I did quite a lot of stuff during those years but there is one thing that I can say I miss…&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fiddle.sencha.com/&quot;&gt;Sencha Fiddle&lt;/a&gt; was something that was never officially announced but people just started using it. It was an application that I &lt;strong&gt;owned, maintained and furthered&lt;/strong&gt;. I was able to do things with it (both front and back ends) that was able to push me, make me learn new things and truly enjoy. If I had it my way, I have solely worked on it but of course it didn’t make money so I had to earn my salary other ways. Fiddle was also developed to streamline our internal processes but had obvious external usages such as support sharing code with a customer or someone helping someone else on the forums.&lt;/p&gt;
&lt;h2&gt;Fiddle 1&lt;/h2&gt;
&lt;p&gt;In version 1, it was an &lt;a href=&quot;https://www.sencha.com/products/extjs/&quot;&gt;Ext JS&lt;/a&gt; 4 application that was served with PHP/Apache. At this time, there were many different departments within Sencha that was wanting to use Fiddle but for their own purposes so I architected it so features that were not part of the core app were &lt;a href=&quot;https://www.sencha.com/products/sencha-cmd/&quot;&gt;Sencha Cmd&lt;/a&gt; packages. This way, I could produce separate builds for these separate installations and include only the features they wanted. This seemed great and having Fiddle accepted everywhere was great. For example, training has it’s own portal and code challenges that have to be run and of course that uses Ext JS so Fiddle was a no-brainer idea to be recycled.&lt;/p&gt;
&lt;h2&gt;Fiddle 1 Issues&lt;/h2&gt;
&lt;p&gt;Fiddle 1 was a big success both internally and externally even without being officially announced. In fact, the first time it was seen was Don Griffin using it at SenchaCon 2013 in Orlando where we “launched” it. But, with every 1.0 release, there are certain things that are going to come up as not working or could be improved and you should always be open to some criticism (hopefully it’s always constructive).&lt;/p&gt;
&lt;p&gt;First up was the infrastructure. When Fiddle 1 was first released, the IT department was being remade. I can remember even the main webstack going down every time a newsletter was released because of all the extra traffic (I jokingly said the newsletter started DDoS attacks). Mike Estes took over the IT department and together (mainly him but I tagged along and learned some DevOps along the way) we turned to AWS Elastic Beanstalk to have an infrastructure that could scale with the demand. Only time I’ve seen things go down is when AWS has gone down or I checked in code that threw server errors but that’s not the infrastructure’s fault.&lt;/p&gt;
&lt;p&gt;The way Fiddle ran it’s code was all local, it basically threw all the source together and ran it. This worked unless you did some common things that made it not work. And if you wanted to load data (which you often want with a grid), the mock data requests magically happened but there was no way for you to see it.&lt;/p&gt;
&lt;p&gt;The layout of Fiddle wasn’t very pleasing and I had many people that outright told me they hated it. I get it, I’m an engineer and engineers aren’t always the best at design. I focused on what worked, not too much how it should work.&lt;/p&gt;
&lt;h2&gt;Fixing Issues&lt;/h2&gt;
&lt;p&gt;I could have let the new infrastructure run the existing PHP codebase but at the same time I was working on a new support portal that was also using a PHP codebase. There were obvious common things so I decided to take a large leap and trash the existing code and develop a new &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt; codebase since at the time Node was really starting to get a lot of traction (wasn’t the 0.x days now!). Fiddle and the portal was now hosted by a Node server each but that was more used as an http server and for fiddle some extra things we’ll get to in a bit. The actual CRUD and login was powered by an api server. This api server opened up a lot of possibilities. I can say, all the Node servers vs the PHP servers, the Node servers are much more performant than the PHP servers and saved the company some money (except the old PHP servers are still running to host some legacy apps). Plus, my node modules were built with all the new ES6+ syntax to allow me to keep up to date on it too.&lt;/p&gt;
&lt;p&gt;Fiddle 2 decided to refactor the way code ran and used &lt;strong&gt;real&lt;/strong&gt; network requests. This changed everything! Now your xhr requests can be inspected in the browser dev tools, you can require classes and other things could run arbitrary code on Fiddle. Like the training portal I mentioned earlier, the api documentation uses Fiddle to run the code snippets. I did’t have to have separate Fiddle installations in order for other apps use Fiddle anymore which is definitely a win on many levels!&lt;/p&gt;
&lt;p&gt;Luckily, going through some designs with the portal allowed me to create a common Cmd theme that could be shared among my projects, Fiddle being the first one. The design process with the portal was incredibly frustrating. The first design was said to be the future design Sencha tools were going to use. Then, I started seeing other tools using other designs, ok. I went through many complete redesigns that delayed the portal’s release for over a year and there are people still not happy with it. These weren’t just simple color changes, complete layout changes which take time to implement and gives opportunities for me to be put on other projects that needed help. Fiddle 2 got wrapped up in the design as it also changed in a dot release. But, the layout of things was much better and was a bit more familiar to any modern editor users.&lt;/p&gt;
&lt;h2&gt;Pre 2.0&lt;/h2&gt;
&lt;p&gt;I was working on a few things that I actually scrapped.&lt;/p&gt;
&lt;p&gt;First was a mock data inspector which was basically what you have in the browser dev tools but worked with the client mock data feature. This was removed since I moved to using real network requests but I was very excited about this! Here is a preview of what it was:&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://player.vimeo.com/video/121247419&quot; frameborder=&quot;0&quot; webkitallowfullscreen mozallowfullscreen allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;p&gt;I also had a form of Sencha Test before Sencha Test was a thing. It could record the user interactions and play them back while running unit tests also. Here is a simple test of it:&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://player.vimeo.com/video/121037209&quot; frameborder=&quot;0&quot; webkitallowfullscreen mozallowfullscreen allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;h2&gt;New Stuff&lt;/h2&gt;
&lt;p&gt;There were many things that I did just because I wanted to. I mean, I was a major user of the tool also and there were things I wanted that others wouldn’t want. For example, did you know in the settings you can control where code was run? You can have it open a new tab or window and run code within it which allowed for device emulation and multiple monitor support (if you know me and my workstation, multiple monitor support is important). In fact, this affected how code was run also. When you press &lt;em&gt;Run&lt;/em&gt; in Fiddle, it’s the same exact thing as when the code snippets is run in the api docs! Any site can run code against Fiddle, I don’t block non sencha.com requests iirc.&lt;/p&gt;
&lt;p&gt;Since Fiddle uses real network requests, you can actually load code from one fiddle in another fiddle. I’ve had a base fiddle that had common code and just loaded those like I would in an Ext JS in other fiddles. This was more of a byproduct of how code is now running but it turned out to be handy.&lt;/p&gt;
&lt;h2&gt;What Could Have Been&lt;/h2&gt;
&lt;p&gt;I had many future things I felt Fiddle could do that was prevented after my exit. The one thing that &lt;strong&gt;could&lt;/strong&gt; have had a huge impact on the Ext JS ecosystem was what I called &lt;strong&gt;FU&lt;/strong&gt; (&lt;strong&gt;Fiddle University&lt;/strong&gt; with a fun acronym). Knowing that learning Ext JS at any stage is hard. The api docs and guides were much better but there wasn’t an in-depth, guided training. I also felt Sencha’s official training wasn’t the most comprehensive, advanced labeled courses weren’t very advanced but I have only attended one when I was there to help the students before a SenchaCon. So I was going to create a guided lesson plan that had code challenges and if management liked it, could have had videos that paused while a code challenge was waiting to be passed. You would write code by hand, run it and when ready submit it and there would have been different tests that would be run to provide a score. Get a good enough score and you could continue. I could have seen this provide huge value to the community to help new people to even more seasoned developers. And yes, I know, I would have likely killed training with it but it’s not like training bringing in a ton of money.&lt;/p&gt;
&lt;p&gt;Not that I was happy but there was a brand new theme that I believe Sencha Themer was the first to use that business wanted Fiddle to use. However, it wasn’t created in a way that was sharable for other apps to use so I had to start my own. Then I found out the designer had started one and Sencha Test also had one. You can imagine my immediate frustration seeing four different people working on the same thing but this was common around Sencha too. There have been a few times where I thought, “I see this thing will be used in different things, let’s create a reusable package/module!” but then get friction since people love doing things their way, but I digress. So I refactored Fiddle to use my new theme and it looks pretty good, I like it better than the overly white one. If you’d like to see it, looks like it’s still up on the &lt;a href=&quot;https://test-fiddle.sencha.com/&quot;&gt;test server&lt;/a&gt;. But I still heard bad things about it and it’s hard to please everyone. There were a couple that likes a light theme but some like a dark theme and more and more apps allow you to pick one, I was going to work on that!&lt;/p&gt;
&lt;p&gt;Depending on what else was going on, I was also going to migrate to use the modern toolkit which I thought would be great to say since Sencha was wanting to push the modern toolkit on people. This could also be an opportunity to clean up the code as there is always a better way and I’m sure there are opportunities there.&lt;/p&gt;
&lt;p&gt;There was code in Fiddle that allowed you to write code on a computer but when you press &lt;em&gt;Run&lt;/em&gt;, it would run locally (which could be disabled) but it would also run on remote browsers at the same time. I thought I had a video showing it but I had an iPhone, an Android tablet, iOS Simulator, Internet Explorer on a laptop among other browsers on my MacBook and the Windows laptop connected to my Fiddle session I had with Chrome on my MacBook. Press &lt;em&gt;Run&lt;/em&gt; in Chrome and all connected browsers started running all at once. This was pretty cool and worked great locally except I ran into an issue when deployed as since I was in a load balanced environment, I had sessions saved one one server which you can imagine didn’t work. So I made a &lt;code class=&quot;language-text&quot;&gt;TODO&lt;/code&gt; to circle back to use something like Redis where I could pub/sub or use some other messaging service. It really was pretty cool to see everything reload!&lt;/p&gt;
&lt;p&gt;Fiddle has always been the tool that pushed the Ext JS Router and since I was also the developer maintaining the router, I was going to finally embark on a new, declarative router that could have changed Ext JS development. Big words but I had lots of ideas that I felt could have made Ext JS better. Plus, we were on the verge of working on Ext JS 7 and having the router much more integrated throughout Ext JS to make things just work with minimal configuration would have been a perfect opportunity. And Fiddle could have been the tool to keep on testing these ideas in production (each version of fiddle has lots of overrides to add features to the router, it’s not using the out of the box router).&lt;/p&gt;
&lt;p&gt;Quickly, some others were going to be an example redux (Fiddle could replace &lt;a href=&quot;http://examples.sencha.com&quot;&gt;examples.sencha.com&lt;/a&gt;), named fiddles (so you could go to fiddle.sencha.com/#basic-grid and it’d load the associated fiddle) and I was going to get the KitchenSink to be built from individual fiddles.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Ok, a trip down memory lane was fun. Fiddle allowed me to push myself to build a tool used by many peers to make their work lives better. I can remember my first Monday as a non-Sencha employee starting work was odd and it wasn’t just because I was no longer at a company I had spent a ton of hours at… it was because of Fiddle. I loved working on Fiddle, I loved dreaming about what Fiddle could be or the different ways I could do things. There are projects that you do and kick ass on, but then there are projects that you absolutely love. If there was one project I defined myself while at Sencha, it was Fiddle. Not having access to the code so I could keep working on it to make it better makes me sad. But, like anything in life, there will always be another project to fall in love with.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Interracial in 2017]]></title><description><![CDATA[This last weekend, my wife and I decided that we wanted to take our daughter (who is 21 months old so almost 2 years old) to a pumpkin patch…]]></description><link>https://mitchellsimoens.com/2017/10/16/interracial-in-2017/</link><guid isPermaLink="false">https://mitchellsimoens.com/2017/10/16/interracial-in-2017/</guid><pubDate>Mon, 16 Oct 2017 19:50:03 GMT</pubDate><content:encoded>&lt;p&gt;This last weekend, my wife and I decided that we wanted to take our daughter (who is 21 months old so almost 2 years old) to a pumpkin patch. And not just pumpkin patch, a legit one where we walk out into a field and cut one off the vine. We didn’t want to just go somewhere like a church who has a bunch of pumpkins they got shipped in and set out on a field. So we Google’d and found one that was about a 30 minute drive away and had other activities like a hay ride and a corn maze. Fantastic! And before getting to the story, the end result was we had an amazing time. We got 5 pumpkins, bunch of pictures and some really great strawberry lemonade! And let me apologize if I start rambling and get off subject, this post is very emotional to me in a time where I am constantly emotional about my surroundings.&lt;/p&gt;
&lt;p&gt;Where we live is Northern Florida (Gainesville, home of the UF Gators) and it gets country real fast here so driving 30 minutes we got to gravel roads and such. No biggie, I grew up driving on dirt roads but one thing I really hate is seeing all the Confederate flags people fly here. Why is that important? I’m white, my wife is black and therefore my daughter is mixed. Seeing these flags all around (and in town too) makes my wife uneasy which makes me uneasy.&lt;/p&gt;
&lt;p&gt;On our way, we were just a couple miles away from this farm, when my wife said something that really upset me. She said, “I don’t know about this, I don’t feel comfortable out here. It really sucks that we don’t feel comfortable going somewhere.” And she’s right, it does really suck so I told her since we are almost there that we should drive up to it but if she isn’t comfortable, I won’t turn in and we’ll go home. This is something I hadn’t had to deal with myself until her and I started dating almost a decade ago. And it’s not just in our heads, we’ve gotten a lot of stares with disgusted looks (maybe they all have resting bitch face maybe?) and we have even been yelled at (can remember walking down town St. Louis and a chick yelling at me that I should be ashamed of myself).&lt;/p&gt;
&lt;p&gt;And now we live in a town in the south where in a couple days an extreme racist (Richard Spencer) is going to give a speech just a couple miles away. We are in a state that has a motto of “The Sunshine State” but is very liberal with gun laws so it’s nicknamed “The Gunshine State” and people flying the Confederate flags are definitely the kind that love their guns and would go down fighting if anyone tried to take them away. So we are in an area where we have armed racists that aren’t shy at being racist towards us.&lt;/p&gt;
&lt;p&gt;Before I got together with my now wife, I didn’t have to deal with this. Since I never saw it (I lived in Missouri in an area that was predominantly white) it didn’t exist. So it’s shocking to me that in 2017, racism is still a big thing. And to make matters worse, we have a president that is ok with being racist and religionist and even sexist which only emboldens those groups. So now I live in an area where people feel like it’s ok to be racist. So when people tell me to give Trump a chance, I’m sorry but you don’t understand a lot of what goes on even if you think you do, you don’t. I don’t think I wouldn’t either to be honest.&lt;/p&gt;
&lt;p&gt;There was a story my wife told me that this young kid, who was mixed, was walking and a few teenagers in a car started following him and yelling racist things at him. Luckily it was just words but that does leave scars and here I sit, a father of a mixed little girl who’s favorite phrase is “Thank you.” I fear for her, I fear she will have this adversity that I never had to deal with, never thought of. This is the world these kids are having to grow up in and it’s not a southern regional thing, it’s everywhere! It’s like my daughter has to win the lottery just to grow up without being attacked (physically or verbally) and that’s no way to live.&lt;/p&gt;
&lt;p&gt;I don’t think a lot of my friends and family think about this and still support Trump with how he is, how he doesn’t denounce outward racists. I know they only want us to be happy and I’m sorry to relate this story with Trump but he is seen as the President of the Racist States. You have no idea the mental drain we are always under when we go out together and that’s indefinite.&lt;/p&gt;
&lt;p&gt;How would you like to walk around where you have to look at people to see who is a threat? There was a time in a grocery store here where we were in the produce. I had my daughter in the cart with me but my wife went away to grab something. A white male approached her and he looked like he had a few screws loose. I see that and my eyes don’t leave my wife, my hands did not leave my daughter and I started going to my wife as quickly as I can. I have to treat people like they are guilty until proven otherwise in the produce section because the one time I don’t could just mean something happens. I’m not exaggerating this, we get looks and comments made towards us. Maybe I’m overreacting, it’s possible but I’d rather overreact than under-react and let something happen.&lt;/p&gt;
&lt;p&gt;So before you say that racism isn’t a thing, it very much is and this is a white guy saying this about white people. Making racist jokes even if they are only joking is still racism. Saying certain words even if it’s not in hatred is still racist. If you see racism, it’s not ok. You should always stop it if you can. There is no ok if you do not condone racism. If you voted for someone that is racist, you support it; there is no, “I support other things but not his racism.”&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Next Chapter in 2017]]></title><description><![CDATA[About 10 years ago, I was a lonely developer that was creating small web sites more as a hobby, I wasn’t getting paid much by some of the…]]></description><link>https://mitchellsimoens.com/2017/09/22/next-chapter-in-2017/</link><guid isPermaLink="false">https://mitchellsimoens.com/2017/09/22/next-chapter-in-2017/</guid><pubDate>Fri, 22 Sep 2017 18:43:03 GMT</pubDate><content:encoded>&lt;p&gt;About 10 years ago, I was a lonely developer that was creating small web sites more as a hobby, I wasn’t getting paid much by some of the people I was developing for. This was ok at the time as I needed to get different projects under my belt but I was using &lt;a href=&quot;http://www.php.net/&quot;&gt;PHP&lt;/a&gt; and some libraries such as &lt;a href=&quot;http://prototypejs.org/&quot;&gt;Prototype&lt;/a&gt; and &lt;a href=&quot;https://script.aculo.us/&quot;&gt;script.aculo.us&lt;/a&gt;. Then I saw &lt;a href=&quot;https://yuilibrary.com/&quot;&gt;YUI&lt;/a&gt; and then this thing called yui-ext and started moving all my development onto it. Eventually, it moved on to be called Ext JS and my life was forever changed.&lt;/p&gt;
&lt;h3&gt;Sencha&lt;/h3&gt;
&lt;p&gt;Today marks my last day, I’ve spent almost 7 years with Sencha and have met some amazing people and have done amazing things. Quite simply, the best group of people I have worked with. Looking at myself then and to today’s Mitchell, I can see a lot of changes and this was largely due to the people who have helped and mentored me. In my tenure at Sencha, I’ve served many roles from the professional services team to support, marketing, core developer and even IT team. Each team has always taken me in and helped me in more ways than they will ever know. I truly cannot thank these people enough and count them as lifelong friends (if they can put up with my hashbrown jokes). In fact, there were a couple people that I have met through working at Sencha that were in or attended my wedding.&lt;/p&gt;
&lt;p&gt;I’ve also been able to meet a lot of great people both in person and online from the community. I have seen a lot of growth in my dev relation skills; being challenged all the time may not be fun but I’ve come to appreciate it and see ways to benefit from these encounters. I’m just short of 40,000 posts on the &lt;a href=&quot;https://www.sencha.com/forum/&quot;&gt;Sencha Forum&lt;/a&gt; and I hope some of them posts have and will continue to help people.&lt;/p&gt;
&lt;p&gt;Also, I hope &lt;a href=&quot;https://fiddle.sencha.com&quot;&gt;Sencha Fiddle&lt;/a&gt; continues to be updated as new releases are released. If I had to pick one thing from Sencha that I’m most proud of, it’s Fiddle. Fiddle has done so much to help both Sencha employees (collect bugs, provide examples to developers) to the community and I hope it continues to provide the a great benefit.&lt;/p&gt;
&lt;h3&gt;My Future&lt;/h3&gt;
&lt;p&gt;As fate has it, when this acquisition was announced publicly, I saw a &lt;a href=&quot;https://twitter.com/ModusJesus/status/903352348700966912&quot;&gt;tweet&lt;/a&gt;. So I brushed up my resume (which a free GlassDoor resume review told me to just rewrite it) and applied to &lt;a href=&quot;https://moduscreate.com/&quot;&gt;Modus Create&lt;/a&gt; along with more than twenty other jobs I found while looking around. While I was one of the lucky few that were not being laid off immediately, I thought this may be the time to look for an opportunity where I can continue to grow and spread my wings and going through Modus’ interview process I was granted an offer and have accepted it. I had to make a tough decision as I was in the middle of two other interviews and their coding challenge portion of the process but I felt Modus would give me the greater chance to grow more as a professional. Basically, it boils down to I’ve been doing one thing for over a decade and it’s time for a new challenge.&lt;/p&gt;
&lt;p&gt;So on Monday (September 25, 2017), my new endeavor with Modus Create will start. One chapter is closing and a new one is starting. I’m very excited to be looking at a new challenge, challenges have been the fuel behind my growth and I see nothing but positive things ahead. I will not be working with many of my Sencha colleagues anymore and that makes me feel very sad, this change is bitter-sweet, but I know I’ll still be in contact with them and they will go on to do more amazing things. This makes me very excited to see them conquer their own challenges. If they ever need me, I’ll always be right there for anything they need.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[6.6 Router Improvements]]></title><description><![CDATA[If you know me, you know that the router is very important to every application I build. And like every iteration of Ext JS’ router, Sencha…]]></description><link>https://mitchellsimoens.com/2017/08/21/6-6-router-improvements/</link><guid isPermaLink="false">https://mitchellsimoens.com/2017/08/21/6-6-router-improvements/</guid><pubDate>Mon, 21 Aug 2017 18:48:03 GMT</pubDate><content:encoded>&lt;p&gt;If you know me, you know that the router is very important to every application I build. And like every iteration of Ext JS’ router, &lt;a href=&quot;https://fiddle.sencha.com/&quot;&gt;Sencha Fiddle&lt;/a&gt; is the application that has the most contribution and the most experimentation (Sencha Fiddle has a custom router with overrides to add new features to the Ext JS version it’s using) on the router. Once again, with Ext JS 6.6, Sencha Fiddle exposed some features that would be great but it’s also talking to the community that has provided many improvements as well. I want to talk about four new features that have landed in 6.6.&lt;/p&gt;
&lt;h1&gt;Exit Handler&lt;/h1&gt;
&lt;p&gt;This feature came from a community member (&lt;a href=&quot;https://www.sencha.com/forum/member.php?210320-LesJ&quot;&gt;LesJ&lt;/a&gt; from the Sencha Forums).&lt;/p&gt;
&lt;p&gt;There are many times when you create things in response to a route being executed that you may need to cleanup. For example, you may have opened an &lt;a href=&quot;https://docs.sencha.com/extjs/latest/classic/Ext.window.Window.html&quot;&gt;Ext.window.Window&lt;/a&gt; but when the route is executed, you need to close that window. So in your &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; handler, you create the window and likely cache it somewhere and when another route is executed you check to see if any windows are shown and clean that up. Ok, not the end of the world but this means code starts to get ugly and brittle and you start engineering things where Ext JS could make this easy.&lt;/p&gt;
&lt;p&gt;With Ext JS 6.6, we are going to make this easy with a new &lt;code class=&quot;language-text&quot;&gt;exit&lt;/code&gt; handler and the use of it is just like the &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; handler:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;foo/bar&amp;#39; : {
        action : &amp;#39;onFoo&amp;#39;,
        exit   : &amp;#39;onExit&amp;#39;,
        name   : &amp;#39;foo&amp;#39;
    }
},

onFoo : function () {},

onExit : function () {}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So now your route can handle when the route no longer recognizes anything in the hash. Internally, each route keeps track of the last token it was executed on which allows it to know if it was being exited which is needed if you use multiple tokens as is the case in my apps like Sencha Fiddle.&lt;/p&gt;
&lt;h1&gt;Single Routes&lt;/h1&gt;
&lt;p&gt;This improvement comes from a need for Sencha Fiddle.&lt;/p&gt;
&lt;p&gt;At the start of Sencha Fiddle (and the support portal) I have to check user session and I also wait for certain stores to load before I want to continue with showing views and such. Currently, I have a global route with a before, here is a small example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;*&amp;#39; : {
        before : &amp;#39;onBeforeGlobal&amp;#39;
    }
},

onBeforeGlobal : function () {
    return new Ext.Promise(function (resolve, reject) {
        // check if things have finished loading
    });
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I have an array of stores I go through and check if it has &lt;a href=&quot;https://docs.sencha.com/extjs/latest/classic/Ext.data.ProxyStore.html#method-isLoaded&quot;&gt;loaded&lt;/a&gt;. However, I felt like this was wasteful because it’s going to check if these stores are loaded for each route as the &lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt; wildcard route fires before all other routes; I only needed it to check upfront. Taking a page out of the Observable listeners where you can pass &lt;code class=&quot;language-text&quot;&gt;single: true&lt;/code&gt;, routes will be able to define their singleness:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;*&amp;#39; : {
        before : &amp;#39;onBeforeGlobal&amp;#39;,
        single : true
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tough syntax huh? This will remove the route from the router after the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; handlers have been executed. Once removed, the route will not longer be connected and will not execute anymore. Perfect!&lt;/p&gt;
&lt;p&gt;Or is it? Why wait for a full, successful execution to remove the route? Why not always remove it? Knowing that all applications (or developers) do not have the same requirements, we decided to give a bit more control and so the &lt;code class=&quot;language-text&quot;&gt;single&lt;/code&gt; option can also accept &lt;code class=&quot;language-text&quot;&gt;&amp;#39;before&amp;#39;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&amp;#39;after&amp;#39;&lt;/code&gt;. These string values are about when to remove the route.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#39;before&amp;#39;&lt;/code&gt; will remove the route before the configured &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; handler is executed. This means the route will always get removed regardless if the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; action is resolved or rejected.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#39;after&amp;#39;&lt;/code&gt; will remove the route right after the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; handler has been resolved but prior to the &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; handler to be removed. This can be seen as very similar to the &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; value since the &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; handler cannot be stopped (assuming to errors occur), however, the difference is when you have other routes that have a &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt;. Those other &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt;s may reject which would then not execute our single route’s &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; handler from executing which means the route would not get removed.&lt;/p&gt;
&lt;p&gt;Kind of hard to grok fully from just text so I’ll try another way of explaining it. When you defined the &lt;code class=&quot;language-text&quot;&gt;routes&lt;/code&gt; config, it will actually only create one route instance matching the route name (or pattern) and the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; handlers are then added to that route’s &lt;code class=&quot;language-text&quot;&gt;handlers&lt;/code&gt; array. So when a hash changes, it finds the matching route instance and then executes it. It creates two arrays: the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt;s and the &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt;s. Execution will go through each before in an async stack (each before has to resolve before moving onto the next before) and then it will go through the action stack. So there are three insert points on where the route can be removed: beginning of the before stack, within the before stack after the matching &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; action, and on the end of the action stack. So it’s very important to know when you’d want the route to be removed in that execution but the main point is whether to wait for a &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; or all &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt;s to resolve.&lt;/p&gt;
&lt;p&gt;We picked &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; to remove on the end of the action stack but are still discussing whether it should go on the beginning of the before stack so these values may change. This will be documented in the API Docs when 6.6 is released so I would recommend checking the final docs. Also, comment below if you feel strongly about this. I’ll even see if I can create an example and/or image to show this a bit better, I’m still trying to find a great way to explain it with so many duplicate terms.&lt;/p&gt;
&lt;h1&gt;Lazy Routes&lt;/h1&gt;
&lt;p&gt;This feature came out from the &lt;a href=&quot;https://github.com/sencha-extjs-examples/Coworkee&quot;&gt;coworkee app&lt;/a&gt; that was developed internally among some posts on the forum.&lt;/p&gt;
&lt;p&gt;One issue with using routes in ViewControllers is that the ViewController may not be instantiated when the route was already executed. I personally don’t spread routes around too much but people have been asking for this and it was easy to implement so ok. People asked for the routes defined on their ViewController to execute if it matches a current hash. We are calling this &lt;code class=&quot;language-text&quot;&gt;lazy&lt;/code&gt; and it can be defined like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;user/:id&amp;#39; : {
        action  : &amp;#39;onUser&amp;#39;,
        lazy    : true,
        name    : &amp;#39;user&amp;#39;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This means, if the hash is already &lt;code class=&quot;language-text&quot;&gt;#user/1234&lt;/code&gt; when the ViewController is instantiated, this route will execute.&lt;/p&gt;
&lt;p&gt;I’m personally not a fan of defining routes all around my application but I do see some value it in since I’ve built some heinous enterprise UIs and routes may only update a portion of the screen not simply swap out what view is in the center/content region.&lt;/p&gt;
&lt;h1&gt;Named Types&lt;/h1&gt;
&lt;p&gt;This feature came from a mix of things from Fiddle to support tickets to a conversation between Don Griffin and I. This feature also aims to fix two different problems.&lt;/p&gt;
&lt;p&gt;Ok, I teased this on Twitter and here is what this was about.&lt;/p&gt;
&lt;p&gt;The first “problem” is people currently have to define custom matching RegExp strings to control the format of a url parameter. What I mean is say you have a user route that accepts an ID but that ID will only be numeric so you can define it as such:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;user/:id&amp;#39; : {
        action     : &amp;#39;onUser&amp;#39;,
        name       : &amp;#39;user&amp;#39;,
        conditions : {
            &amp;#39;:id&amp;#39; : &amp;#39;([0-9]+)&amp;#39;
        }
    }
},

onUser : function (id) {}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, this route will only execute for hashes where &lt;code class=&quot;language-text&quot;&gt;:id&lt;/code&gt; is numeric such as &lt;code class=&quot;language-text&quot;&gt;user/1234&lt;/code&gt; but will not execute if there are other characters such as &lt;code class=&quot;language-text&quot;&gt;user/1234abc&lt;/code&gt;. One important note to make here is the &lt;a href=&quot;https://docs.sencha.com/extjs/latest/classic/Ext.route.Route.html#property-defaultMatcher&quot;&gt;defaultMatcher&lt;/a&gt; of a route is &lt;code class=&quot;language-text&quot;&gt;([%a-zA-Z0-9\\-\\_\\s,]+)&lt;/code&gt; so it will accept a few different characters that you may or may not want.&lt;/p&gt;
&lt;p&gt;My initial proof of concept had a syntax such as :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;user/:num&amp;#39; : {
        action : &amp;#39;onUser&amp;#39;,
        name   : &amp;#39;user&amp;#39;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And that &lt;code class=&quot;language-text&quot;&gt;:num&lt;/code&gt; would automatically use the &lt;code class=&quot;language-text&quot;&gt;([0-9]+)&lt;/code&gt; RegExp. This is pretty simple right? The issue with this syntax is what if you had a &lt;code class=&quot;language-text&quot;&gt;:num&lt;/code&gt; parameter in a route but didn’t want that exact RegExp? There was also &lt;code class=&quot;language-text&quot;&gt;:alpha&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;:alphanum&lt;/code&gt;. The chance of collision here was very tiny but if you were one of the unlucky people that would have a name conflict, it likely would be a silent failure and you’d find out about it in production which is not good at all. So we discussed how we can prevent this and a couple different ideas came up like &lt;code class=&quot;language-text&quot;&gt;:$num&lt;/code&gt; or some character to signify this was to be treated as a named type. But we decided on this format:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;user/:{id:num}&amp;#39; : {
        action : &amp;#39;onUser&amp;#39;,
        name   : &amp;#39;user&amp;#39;
    }
},

onUser : function (params) {
    var id = params.id;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So we surround the parameter name and type in curly braces. Quick note, the type (&lt;code class=&quot;language-text&quot;&gt;:num&lt;/code&gt; in this case) is optional so you can have &lt;code class=&quot;language-text&quot;&gt;:{id}&lt;/code&gt; and the &lt;code class=&quot;language-text&quot;&gt;defaultMatcher&lt;/code&gt; will then be used. Other default types are &lt;code class=&quot;language-text&quot;&gt;:alpha&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;:alphanum&lt;/code&gt;. Also, for &lt;code class=&quot;language-text&quot;&gt;:num&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;:alphanum&lt;/code&gt;, numbers will be cast using &lt;code class=&quot;language-text&quot;&gt;parseFloat&lt;/code&gt; so you can have &lt;code class=&quot;language-text&quot;&gt;#foo/10.4&lt;/code&gt; and 10.4 will be a float instead of just a string.&lt;/p&gt;
&lt;p&gt;Also notice in the &lt;code class=&quot;language-text&quot;&gt;onUser&lt;/code&gt; we have &lt;code class=&quot;language-text&quot;&gt;params&lt;/code&gt; which will be an object and the parameter names will not be the key of that object. This was another of the problems where having separate arguments in the functions could get a bit wildly and it can be a good rule of thumb if you have more than 3 arguments, an object will be more friendly. So if you use these new named typed, an object will always be passed to the handlers.&lt;/p&gt;
&lt;p&gt;We have some detection if you reuse a param name, an error will be thrown in the console with what name was duplicated and what route this was defined in. So if you have &lt;code class=&quot;language-text&quot;&gt;user/:{id}/:{id}&lt;/code&gt;, you’d get an error in the console such as:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;id&amp;quot; already defined in route &amp;quot;user/:{id}/:{id}&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also, if you have a type that is not known, you’ll also get an error. So say you have &lt;code class=&quot;language-text&quot;&gt;user/:{id:foo}&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;:foo&lt;/code&gt; is not a default type so you’d get this error:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Unknown parameter type &amp;quot;foo&amp;quot; in route &amp;quot;user/:{id:foo}&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since there is a difference between how the parameters are passed to the handlers, we don’t want the two syntaxes mixed in a route. The older syntax is called “positional” and the newer being called “named”. If you mix these syntaxes like so: &lt;code class=&quot;language-text&quot;&gt;foo/:bar/:{baz}&lt;/code&gt; you will get the error:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;URL parameter mismatch. Positional url parameter found while in named mode in the route &amp;quot;foo/:bar/:{baz}&amp;quot;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A couple thoughts here on the duplicate parameters. Right now, you cannot have duplicate parameter names in the same route. However, we’ve discussed turning the single value into an array to support duplicate names, however, we don’t really think this will be something that many will use and an error may be more helpful. Once again, let us know your thoughts as we can have a config to allow this if people would want it, just provide us with a real world scenario where you’d want it.&lt;/p&gt;
&lt;p&gt;You can define your own custom named types via an override. For example, in Sencha Fiddle a fiddle id will only be &lt;code class=&quot;language-text&quot;&gt;[a-z0-9]&lt;/code&gt; and I can have the route defined in a couple places so having a central place to have this and be able to be used anywhere would be a big pro. So you can add one:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.route.Route&amp;#39;, {
    override : &amp;#39;Ext.route.Route&amp;#39;,

    config : {
        types : {
            &amp;#39;fiddleid&amp;#39; : {
                re : &amp;#39;([a-z0-9]+)&amp;#39;
            }
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now I can define routes such as:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;fiddle/:{id:fiddleid}&amp;#39; : {
        action : &amp;#39;onFiddle&amp;#39;,
        name   : &amp;#39;fiddle&amp;#39;
    }
},

onFiddle : function (params) {
    Ext.Ajax
        .request({
            url : &amp;#39;/fiddle/get/&amp;#39; + params.id
        })
        .then(function (fiddle) {
            // ...
        });
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So since we are now parsing parameters and their types, there is one thing that I’ve seen people ask for and that would be supporting an arbitrary number of parameters in a hash. For example, say you want to support hashes like &lt;code class=&quot;language-text&quot;&gt;#view/foo&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;#view/foo/bar/baz&lt;/code&gt; in a single route. Before, you’d have to do something complex with conditions and if you didn’t want to get too complex, you’d have a static number of parameters defined in your pattern like &lt;code class=&quot;language-text&quot;&gt;view/:foo/:bar/:baz&lt;/code&gt; (this isn’t a very good, full example of what would be needed). So we are attempting to handle this with this syntax:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;view/:{args...}&amp;#39; : {
        action : &amp;#39;onView&amp;#39;,
        name   : &amp;#39;view&amp;#39;
    }
},

onView : function (params) {
    // Ext.isArray(params.args) === true
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By default, this syntax will match everything (uses &lt;code class=&quot;language-text&quot;&gt;(.+)?&lt;/code&gt;) and split on &lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt; so that you get an array of values. Like the &lt;code class=&quot;language-text&quot;&gt;:num&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;:alphanum&lt;/code&gt;, this will also attempt to cast numbers into floats. So if you have this hash &lt;code class=&quot;language-text&quot;&gt;#view/foo/12.45/bar&lt;/code&gt;, this is what the params object would be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    args : [ &amp;#39;foo&amp;#39;, 12.45, &amp;#39;bar&amp;#39; ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you would expect, you don’t need to have just the one parameter, you can have other parameters with their own types:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;view/:{which}/:{amount:num}:{args...}&amp;#39; : {
        action : &amp;#39;onView&amp;#39;,
        name   : &amp;#39;view&amp;#39;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The params object would then be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    amount : 12.45,
    args   : [ &amp;#39;bar&amp;#39; ],
    which  : &amp;#39;foo&amp;#39;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Most people would be fine with splitting by &lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt; but if you wanted another character you can override this via:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.route.Route&amp;#39;, {
    override : &amp;#39;Ext.route.Route&amp;#39;,

    config : {
        types : {
            &amp;#39;...&amp;#39; : {
                split : &amp;#39;-&amp;#39;
            }
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This also shows there are 3 things you can use when defining your own type. The &lt;code class=&quot;language-text&quot;&gt;...&lt;/code&gt; is just a type defined as such:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#39;...&amp;#39;: {
    re: &amp;#39;(.+)?&amp;#39;,
    split: &amp;#39;/&amp;#39;,
    parse: function (values) {
        var length, i, value;

        if (values) {
            length = values.length;

            for (i = 0; i &amp;lt; length; i++) {
                value = parseFloat(values[i]);

                if (!isNaN(value)) {
                    values[i] = value;
                }
            }
        } else if (Ext.isString(values)) {
            // IE8 may have values as an empty string
            // if there was no args that were matched
            values = undefined;
        }

        return values;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Simple to understand, the &lt;code class=&quot;language-text&quot;&gt;re&lt;/code&gt; is the string that will control what pattern will be matched, &lt;code class=&quot;language-text&quot;&gt;split&lt;/code&gt; will turn the value into an array (or undefined if no matches) and &lt;code class=&quot;language-text&quot;&gt;parse&lt;/code&gt; allows you to parse the value into something else.&lt;/p&gt;
&lt;p&gt;One type that could be useful and has come up a couple times in the last couple weeks is supporting query parameters in a hash. So you could use something like &lt;code class=&quot;language-text&quot;&gt;#foo?bar&amp;amp;baz=2&lt;/code&gt; and the query string like part would be turned into a nested object. You coul duse this override to support this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.route.Route&amp;#39;, {
    override : &amp;#39;Ext.route.Route&amp;#39;,

    config : {
        types : {
            queryString : {
                re    : &amp;#39;(?:\\?(.+))?&amp;#39;,
                parse : function (params) {
                    var name, value;

                    if (params) {
                        params = Ext.Object.fromQueryString(params);

                        for (name in params) {
                            value = params[name];

                            if (value) {
                                if (/^[0-9]+$/.test(value)) {
                                    // let&amp;#39;s turn this into a float
                                    params[name] = parseFloat(value);
                                }
                            }
                            // an empty string would be ?foo
                            // which can be seen as truthy
                            else if (Ext.isString(value)) {
                                params[name] = true;
                            }
                        }
                    }

                    return params;
                }
            }
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You’d then defined your route as:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;foo:{query:queryString}&amp;#39;   : {
        action : &amp;#39;onFoo&amp;#39;,
        name   : &amp;#39;foo&amp;#39;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So if you had the hash as &lt;code class=&quot;language-text&quot;&gt;#foo?bar&amp;amp;baz=2.1&lt;/code&gt; then the params send to the &lt;code class=&quot;language-text&quot;&gt;onFoo&lt;/code&gt; method would be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    query : {
        bar : true,
        baz : 2.1
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Summary&lt;/h1&gt;
&lt;p&gt;Once again, Sencha has listened to it’s community and along with what we learn as we use the router, the router is only getting better. More and more people are using in different applications and knowing how people use the router has been immensely helpful in crafting new features. Keep letting us know what you’d like. Open a forum thread and get my attention (Twitter is a great way, &lt;a href=&quot;https://twitter.com/@LikelyMitch&quot;&gt;@LikelyMitch&lt;/a&gt;) and I’d be more than happy to discuss it with you and give my honest personal opinion. :)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Package Loading on the Fly]]></title><description><![CDATA[Note This blog is talking about features that are not yet released and can change at any time prior to launch. Story Back in 2011, I was…]]></description><link>https://mitchellsimoens.com/2017/04/12/package-loading/</link><guid isPermaLink="false">https://mitchellsimoens.com/2017/04/12/package-loading/</guid><pubDate>Wed, 12 Apr 2017 14:37:03 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; This blog is talking about features that are not yet released and can change at any time prior to launch.&lt;/p&gt;
&lt;h2&gt;Story&lt;/h2&gt;
&lt;p&gt;Back in 2011, I was part of a contract for a very large financial company. This company had several departments (each department had to have it’s own PO too, silos are fun) but the company was wanting a single business to business (b2b) application that all it’s internal departments would take part of to interface with external businesses.&lt;/p&gt;
&lt;p&gt;This application would be in the millions of lines of code and we had to support IE6. At the time, Ext JS 3 was a very stable platform, however, serving a single JavaScript file that contained millions of lines of code to IE6 was just not going to work. Furthermore, we didn’t want to split the single file into loading several files at startup; basically we didn’t want startup time to be huge while it loads all that code. So we engineered a means of module loading so we only load what we need at any given time. Architecting this large application into modules was a good idea anyway to keep one silo’d department from working on the same code as another silo’d department.&lt;/p&gt;
&lt;p&gt;Ext JS never supported this module loading, that’s about to change. Together with Sencha Cmd 6.5, Ext JS applications will have support for module loading! I wanted to take a moment to discuss how to get this to work, it’s actually really simple. Sencha Cmd supports the concept of packages and each package can require or even extend another package, these packages are key to this loading as each package can be chosen to be loaded on the fly. In &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt;, there is a new &lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt; entry that is an array just like &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt;. This means, the application will use the package but it’s not required to be bundled within the application. Cmd can then build the package as part of an application build but keep the package’s source separate from the application so that you can load it on demand.&lt;/p&gt;
&lt;h2&gt;Let’s Code&lt;/h2&gt;
&lt;p&gt;First, we need to grab a copy of Ext JS 6.2 (this may change to 6.5 but currently I’m using the latest 6.2.2 nightly build) and use Sencha Cmd &lt;strong&gt;6.5&lt;/strong&gt; (6.5.0 will be the minimum version required for Cmd) to generate a modern toolkit Ext JS application. &lt;em&gt;For this test, I’m using Ext JS 6.2.2.309 and Cmd 6.5.0.146&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sencha --sdk /path/to/ext generate app -modern MyApp /path/to/MyApp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s get into the application and run a dev build:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cd /path/to/MyApp
sencha app build --dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you load up the application (&lt;a href=&quot;http://localhost/MyApp&quot;&gt;http://localhost/MyApp&lt;/a&gt; for me) you will see a tab panel with bottom tabs, first tab has a grid with the others having some simple lorem ipsum text. We now need to require the &lt;code class=&quot;language-text&quot;&gt;package-loader&lt;/code&gt; package that Cmd will download and install into your application automatically. To do this, we just need to add that package to the &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; array in &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt; which will look like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;requires&amp;quot;: [
    &amp;quot;font-awesome&amp;quot;,
    &amp;quot;package-loader&amp;quot;
],&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We need to now refresh the application:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sencha app refresh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you look at &lt;code class=&quot;language-text&quot;&gt;/path/to/MyApp/packages/remote&lt;/code&gt; you will see the &lt;code class=&quot;language-text&quot;&gt;package-loader&lt;/code&gt; package now. Right now, we don’t have any packages to load so let’s generate a package for three of the tabs (Users, Groups and Settings):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sencha generate package -require Users \
    then generate package -require Groups \
    then generate package -require Settings&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; the &lt;code class=&quot;language-text&quot;&gt;-require&lt;/code&gt; switch is there to prevent Cmd from adding the new packages to the &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; array.&lt;/p&gt;
&lt;p&gt;If you were to look in &lt;code class=&quot;language-text&quot;&gt;/path/to/MyApp/packages/local&lt;/code&gt; you will now see all three packages listed there now. In each package, let’s add a main view and let’s call them all &lt;code class=&quot;language-text&quot;&gt;MyApp.view.&amp;lt;pkgname&amp;gt;.Main&lt;/code&gt; where &lt;code class=&quot;language-text&quot;&gt;&amp;lt;pkgname&amp;gt;&lt;/code&gt; is the package name so we’d have &lt;code class=&quot;language-text&quot;&gt;MyApp.view.groups.Main&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;MyApp.view.settings.Main&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;MyApp.view.users.Main&lt;/code&gt;. Here is the source with the file location for the three views:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// /path/to/MyApp/package/local/Groups/src/Main.js
Ext.define(&amp;#39;MyApp.view.groups.Main&amp;#39;, {
    extend : &amp;#39;Ext.Component&amp;#39;,
    xtype  : &amp;#39;myapp-groups-main&amp;#39;,

    html    : &amp;#39;This is the &amp;lt;strong&amp;gt;groups&amp;lt;/strong&amp;gt; view!&amp;#39;,
    padding : 20
};

// /path/to/MyApp/package/local/Settings/src/Main.js
Ext.define(&amp;#39;MyApp.view.settings.Main&amp;#39;, {
    extend : &amp;#39;Ext.Component&amp;#39;,
    xtype  : &amp;#39;myapp-settings-main&amp;#39;,

    html    : &amp;#39;This is the &amp;lt;strong&amp;gt;settings&amp;lt;/strong&amp;gt; view!&amp;#39;,
    padding : 20
});

// /path/to/MyApp/package/local/Users/src/Main.js
Ext.define(&amp;#39;MyApp.view.users.Main&amp;#39;, {
    extend : &amp;#39;Ext.Component&amp;#39;,
    xtype  : &amp;#39;myapp-users-main&amp;#39;,

    html    : &amp;#39;This is the &amp;lt;strong&amp;gt;users&amp;lt;/strong&amp;gt; view!&amp;#39;,
    padding : 20
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok, very simple views but just enough to hopefully show a couple things. First, I want to point out that I am nesting the classes within the package in both the class name and xtype/alias. This is more optional but I think it’s important to do so for architecture purposes. I also named each class &lt;code class=&quot;language-text&quot;&gt;Main&lt;/code&gt;, this is a common pattern for the entry class for applications and packages but you can name it whatever you want. I’d pick something common for all your packages so the logic within your app is minimal.&lt;/p&gt;
&lt;p&gt;At this point, the application doesn’t know about these packages let alone the class within each. Like I mentioned before, we need to add the packages to the &lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt; array in &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt;, I like to place this array next to the &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; array just to keep similar things close to each other so I’d have:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;requires&amp;quot;: [
    &amp;quot;font-awesome&amp;quot;,
    &amp;quot;package-loader&amp;quot;
],

&amp;quot;uses&amp;quot;: [
    &amp;quot;Groups&amp;quot;,
    &amp;quot;Settings&amp;quot;,
    &amp;quot;Users&amp;quot;
],&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s run another build with a tweak to tell Cmd to look for the &lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt; array:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sencha app build --dev --uses&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You will see this will take a bit more time as it has to build those three packages and then build the app so essentially we are building four apps. It’s not only bundling the JavaScript sources, it will also use fashion to compile the &lt;code class=&quot;language-text&quot;&gt;scss&lt;/code&gt; files into a CSS file. Now that all the bootstrap data has been generated, we can now start using that &lt;code class=&quot;language-text&quot;&gt;package-loader&lt;/code&gt; package to load our package’s JavaScript and CSS files. Let’s prepare first by editing &lt;code class=&quot;language-text&quot;&gt;/path/to/MyApp/app/view/main/Main.js&lt;/code&gt; to add an &lt;code class=&quot;language-text&quot;&gt;activate&lt;/code&gt; listener and make the &lt;code class=&quot;language-text&quot;&gt;items&lt;/code&gt; array be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;items: [{
    title: &amp;#39;Home&amp;#39;,
    iconCls: &amp;#39;x-fa fa-home&amp;#39;,
    layout: &amp;#39;fit&amp;#39;,
    items: [{
        xtype: &amp;#39;mainlist&amp;#39;
    }]
}, {
    title: &amp;#39;Users&amp;#39;,
    iconCls: &amp;#39;x-fa fa-user&amp;#39;,
    layout: &amp;#39;fit&amp;#39;,
    pkg: &amp;#39;Users&amp;#39;
}, {
    title: &amp;#39;Groups&amp;#39;,
    iconCls: &amp;#39;x-fa fa-users&amp;#39;,
    layout: &amp;#39;fit&amp;#39;,
    pkg: &amp;#39;Groups&amp;#39;
}, {
    title: &amp;#39;Settings&amp;#39;,
    iconCls: &amp;#39;x-fa fa-cog&amp;#39;,
    layout: &amp;#39;fit&amp;#39;,
    pkg: &amp;#39;Settings&amp;#39;
}],

listeners: {
    activeitemchange: &amp;#39;onItemActivate&amp;#39;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s pause and see what we are expecting here. The first tab (&lt;code class=&quot;language-text&quot;&gt;Home&lt;/code&gt;) will use &lt;code class=&quot;language-text&quot;&gt;mainlist&lt;/code&gt; which is &lt;code class=&quot;language-text&quot;&gt;List.js&lt;/code&gt; in the application, this isn’t going to use the package loading but could if you choose too. The other three tabs have removed the &lt;code class=&quot;language-text&quot;&gt;bind&lt;/code&gt; statement and added the &lt;code class=&quot;language-text&quot;&gt;layout&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;pkg&lt;/code&gt; configs. The &lt;code class=&quot;language-text&quot;&gt;layout&lt;/code&gt; config is an Ext JS config as we need the tab to be present so the user can click on something but there are no items or anything as when we load the associated package (defined by the &lt;code class=&quot;language-text&quot;&gt;pkg&lt;/code&gt; custom config) we are going to add the &lt;code class=&quot;language-text&quot;&gt;Main&lt;/code&gt; view to this tab so fit layout is needed in this case. The listener is there to tell the controller about the tab change so that we can decide if we need to load the package or not.&lt;/p&gt;
&lt;p&gt;If you were to look at the app, the &lt;code class=&quot;language-text&quot;&gt;Home&lt;/code&gt; tab stayed the same but the other three tabs will show a blank screen because the tabs have no child items. We need to edit &lt;code class=&quot;language-text&quot;&gt;/path/to/MyApp/app/view/main/MainController.js&lt;/code&gt; to require the &lt;code class=&quot;language-text&quot;&gt;Ext.Package&lt;/code&gt; class that comes from the &lt;code class=&quot;language-text&quot;&gt;package-loader&lt;/code&gt; package by adding this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;requires: [
    &amp;#39;Ext.Package&amp;#39;
],&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we need to handle the &lt;code class=&quot;language-text&quot;&gt;activeitemchange&lt;/code&gt; event. For this, let’s a couple methods to &lt;code class=&quot;language-text&quot;&gt;MainController&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;onItemActivate: function (tabpanel, tab) {
    var pkg = tab.pkg;

    if (pkg) {
        if (Ext.Package.isLoaded(pkg)) {
            this.handlePackage(pkg);
        } else {
            tabpanel.setMasked({
                message: &amp;#39;Loading Package...&amp;#39;
            });

            Ext.Package
                .load(pkg)
                .then(this.handlePackage.bind(this, pkg));
        }
    }
},

handlePackage: function (pkg) {
    var tabpanel = this.getView(),
        tab = tabpanel.child(&amp;#39;[pkg=&amp;#39; + pkg + &amp;#39;]&amp;#39;);

    tabpanel.setMasked(null);

    //only add item if the item isn&amp;#39;t already added
    if (!tab.hasPkgItem) {
        tab.hasPkgItem = true;

        tab.add({
            xclass: &amp;#39;MyApp.view.&amp;#39; + pkg.toLowerCase() + &amp;#39;.Main&amp;#39;
        });
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In &lt;code class=&quot;language-text&quot;&gt;onItemActivate&lt;/code&gt;, if the tab has the &lt;code class=&quot;language-text&quot;&gt;pkg&lt;/code&gt; property, we need to check to see if the package is loaded or not. If it is, go ahead and jump to &lt;code class=&quot;language-text&quot;&gt;handlePackage&lt;/code&gt; but if not then we need to tell &lt;code class=&quot;language-text&quot;&gt;Ext.Package&lt;/code&gt; to load the package and then go to &lt;code class=&quot;language-text&quot;&gt;handlePackage&lt;/code&gt;. If a load is required, I like to mask the app so we don’t get racing conditions because the user clicked on something else. Within &lt;code class=&quot;language-text&quot;&gt;handlePackage&lt;/code&gt;, we have to get the tab, unmask the tab panel and check if the tab has the &lt;code class=&quot;language-text&quot;&gt;Main&lt;/code&gt; class already. For performance, I tend to set a property on the tab that can easily be checked. If it hasn’t been set, then we need to add the item with the generated class name; this is where having a common name format can help but this will depend on what your application is doing.&lt;/p&gt;
&lt;p&gt;Now if you load the app and click through the tabs, you will notice when a tab is first activated, it will load the bundled JavaScript and CSS assets and will then add the &lt;code class=&quot;language-text&quot;&gt;Main&lt;/code&gt; view to the appropriate tab and that’s it!&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;This was a simple example of how Sencha Cmd 6.5 and Ext JS are employing this dynamic package loading. Once Sencha Cmd 6.5 is released, we will have examples that are similar to this along with guides about some other Cmd commands instead of just the &lt;code class=&quot;language-text&quot;&gt;sencha app build --dev --uses&lt;/code&gt; that we used to accomplish some other things like working with packages in development without rerunning builds all the time.&lt;/p&gt;
&lt;p&gt;Imaging the possibilities with this. Startup times will improve since you can load only the core of the application and then load what you need as the user uses the application. I work a lot with user sessions and different permissions so I can see my server disallowing loading of a package based on the session since you cannot trust the client giving better security. Lots of great things now come from this and we hope you enjoy it!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[New Router for Ext JS]]></title><description><![CDATA[When Fiddle 1 was being developed back in 2013, Ext JS 5 was in development. At that time, Ext JS did not have a router but Fiddle did. It…]]></description><link>https://mitchellsimoens.com/2016/12/20/new-router-for-ext-js/</link><guid isPermaLink="false">https://mitchellsimoens.com/2016/12/20/new-router-for-ext-js/</guid><pubDate>Tue, 20 Dec 2016 17:34:03 GMT</pubDate><content:encoded>&lt;p&gt;When Fiddle 1 was being developed back in 2013, Ext JS 5 was in development. At that time, Ext JS did not have a router but Fiddle did. It was obvious that users of Ext JS would benefit so the router was implemented in Ext JS from what Fiddle did. Fast forward to today and we have a new support portal and a new fiddle and there are many things I needed from the router that the router simply did not support. So those new web apps are using a highly overridden router; wouldn’t it be great if Ext JS’ router would get an update with some of these new things? I thought so, so the next major version of Ext JS has an updated router and I’d like to take a minute to describe some of the updates.&lt;/p&gt;
&lt;h3&gt;Update (02-13-2016)&lt;/h3&gt;
&lt;p&gt;This will be part of the Ext JS 6.5 release. I do not have a release date to provide at this time.&lt;/p&gt;
&lt;h1&gt;Mixin&lt;/h1&gt;
&lt;p&gt;One thing I’ve seen many people ask for is a mixin to allow any class to use routes. This can be either because you aren’t using an architecture (MVC or MVVM) or your application is structured to use utility singletons. Regardless the reasoning, we will have &lt;code class=&quot;language-text&quot;&gt;Ext.route.Mixin&lt;/code&gt; so that you can use the router wherever you want… even a store if that’s your thing.&lt;/p&gt;
&lt;h1&gt;Global befores&lt;/h1&gt;
&lt;p&gt;The support portal requires a user to be logged in, fiddle wants to know the session state up-front. Therefore, the routes need to not fire before the session is checked. The way I was doing this was to have a shared before action but this didn’t scale very well. What is needed is a global means to have a before action to delay all routes. The router now has a wildcard route concept that will always fire before all routes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;*&amp;#39; : {
        before : &amp;#39;onBeforeRoute&amp;#39;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And like any other before, you just need to execute that &lt;code class=&quot;language-text&quot;&gt;action.resume()&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;action.stop()&lt;/code&gt;. A great place for this would be in your &lt;code class=&quot;language-text&quot;&gt;Application&lt;/code&gt; class.&lt;/p&gt;
&lt;h1&gt;Promise support in befores&lt;/h1&gt;
&lt;p&gt;One drawback to how befores work is the &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; argument is always the last argument which is important for routes having variable number of url parameters. It’s not that it’s hard to get the last argument, it’s just a bit ugly to always have that code. Also, if you’ve follow me on &lt;a href=&quot;https://www.twitter.com/LikelyMitch&quot;&gt;twitter&lt;/a&gt;, you may have noticed that I used to hate promises but now am a lover. So you can now use promises and &lt;code class=&quot;language-text&quot;&gt;resolve()&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;reject()&lt;/code&gt; to resume or stop the route’s execution:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;onBeforeRoute : function() {
    return new Ext.Promise((resolve, reject) =&amp;gt; {
        setTimeout(() =&amp;gt; {
            resolve();
        }, 500);
    });
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now you don’t need to find that last argument and some Ext JS classes support promises in their API so it feels much more natural. But the choice is yours, just don’t choose both. :)&lt;/p&gt;
&lt;h1&gt;Named routes&lt;/h1&gt;
&lt;p&gt;The support portal and fiddle use multiple tokens in the document fragment. In fiddle, you may see &lt;code class=&quot;language-text&quot;&gt;view/editor&amp;amp;fiddle/abc&lt;/code&gt; and there are two tokens/routes there: &lt;code class=&quot;language-text&quot;&gt;view/editor&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;fiddle/abc&lt;/code&gt;. Click on the search icon on the left and it updates to &lt;code class=&quot;language-text&quot;&gt;view/search&amp;amp;fiddle/abc&lt;/code&gt;. To do this with out-of-the-box router in Ext JS 5 or 6, you’d have to manually parse out the string and replace the single token, definitely not developer friendly.&lt;/p&gt;
&lt;p&gt;To solve this, a route can be named. So for this example, I could have this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;fiddle/:id&amp;#39; : {
        action : &amp;#39;onFiddleChange&amp;#39;,
        name   : &amp;#39;fiddle&amp;#39;
    },
    &amp;#39;view/:type&amp;#39; : {
        action : &amp;#39;onViewChange&amp;#39;,
        name   : &amp;#39;view&amp;#39;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In fiddle, I now can use &lt;code class=&quot;language-text&quot;&gt;redirectTo&lt;/code&gt; with an &lt;code class=&quot;language-text&quot;&gt;Object&lt;/code&gt; to update that one view token but leave the fiddle one alone:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;this.redirectTo({
    view : &amp;#39;view/search&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I wanted to remove the fiddle token but leave the view one intact, just pass &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;this.redirectTo({
    fiddle : null
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and the document fragment will then be &lt;code class=&quot;language-text&quot;&gt;view/editor&lt;/code&gt;. You can still pass a &lt;code class=&quot;language-text&quot;&gt;String&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;redirectTo&lt;/code&gt; if you want to completely replace the entire document fragment like you would in Ext JS 5 and 6.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If you do not specify a name in the route object, it will default to the url provided. So the name of this route would be &lt;code class=&quot;language-text&quot;&gt;view/:type&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;routes : {
    &amp;#39;view/:type&amp;#39; : &amp;#39;onViewChange&amp;#39;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;but that’s not really friendly but can be useful.&lt;/p&gt;
&lt;h1&gt;New &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; class&lt;/h1&gt;
&lt;p&gt;In a route’s before function, you may have used or seen the &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; argument. Before, this was just an &lt;code class=&quot;language-text&quot;&gt;Object&lt;/code&gt; literal with a &lt;code class=&quot;language-text&quot;&gt;resume&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;stop&lt;/code&gt; function. We are now elevating this to a class to add additional functionality and is really much more than that old &lt;code class=&quot;language-text&quot;&gt;Object&lt;/code&gt; literal. The job of the &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; class is more of a runner when a route is being executed. An &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; may have multiple &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; functions that need to be executed in sequence.&lt;/p&gt;
&lt;p&gt;Within a &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; action, you can now add a &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; as you please:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;action.before((action) =&amp;gt; {
    action.resume();
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also add handlers when the &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; class has either been fully resolved or if it was stopped by using the &lt;code class=&quot;language-text&quot;&gt;then&lt;/code&gt; method:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;action.then(function() {}, function() {});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Suspend/Resume the router&lt;/h1&gt;
&lt;p&gt;This is one feature I didn’t have a need for personally but I have been asked about it and it’s simple to implement. If you want to suspend the router completely during some task, you will be able to:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.route.Router.suspend();
Ext.route.Router.resume();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Boom! Done! Exactly like &lt;a href=&quot;http://docs.sencha.com/extjs/6.2.1/classic/Ext.mixin.Observable.html#method-suspendEvents&quot;&gt;suspendEvents&lt;/a&gt; and &lt;a href=&quot;http://docs.sencha.com/extjs/6.2.1/classic/Ext.mixin.Observable.html#method-resumeEvents&quot;&gt;resumeEvents&lt;/a&gt;, you can also tell the &lt;code class=&quot;language-text&quot;&gt;suspend&lt;/code&gt; method to queue the routes while the router is suspended or discard the routes when the &lt;code class=&quot;language-text&quot;&gt;resume&lt;/code&gt; method is executed:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.route.Router.suspend(false); //will not queue routes while is suspended
Ext.route.Router.resume(true);   //will dump the queue before it is resumed&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Unit tests&lt;/h1&gt;
&lt;p&gt;In today’s Sencha, having unit tests is a priority. We now have over a hundred unit tests for the 4 classes. Do note, you can never say you have enough unit tests so the number will be growing (100% code coverage !== no bugs).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[WebSockets Behind Elastic Beanstalk]]></title><description><![CDATA[Lately, I’ve been working on a few projects and I’ve been using Ext JS served with Node.js. We use AWS as our ISP using EB with Docker…]]></description><link>https://mitchellsimoens.com/2016/07/21/websockets-behind-elastic-beanstalk/</link><guid isPermaLink="false">https://mitchellsimoens.com/2016/07/21/websockets-behind-elastic-beanstalk/</guid><pubDate>Thu, 21 Jul 2016 19:02:03 GMT</pubDate><content:encoded>&lt;p&gt;Lately, I’ve been working on a few projects and I’ve been using &lt;a href=&quot;https://www.sencha.com/products/extjs/&quot;&gt;Ext JS&lt;/a&gt; served with &lt;a href=&quot;https://nodejs.org/&quot;&gt;Node.js&lt;/a&gt;. We use &lt;a href=&quot;https://aws.amazon.com/&quot;&gt;AWS&lt;/a&gt; as our ISP using &lt;a href=&quot;https://aws.amazon.com/elasticbeanstalk/&quot;&gt;EB&lt;/a&gt; with &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt;. Things are working very well for us but one of the projects I’ve been working on makes use of &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API&quot;&gt;WebSockets&lt;/a&gt; where I use &lt;a href=&quot;http://socket.io&quot;&gt;socket.io&lt;/a&gt;. Locally things are going great but one thing that I know is that EB doesn’t specifically like WebSockets. Well, it’s not that it doesn’t like WebSockets, it’s more that the default config doesn’t allow for it.&lt;/p&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;p&gt;First things first, let’s create a simple Node.js app that will allow us to use WebSockets and push events to all connected sockets. Since I don’t want to step through code in this blog, I’ve created a &lt;a href=&quot;https://github.com/mitchellsimoens/Simple-WebSocket&quot;&gt;GitHub repo&lt;/a&gt;. I also assume you have the &lt;a href=&quot;http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html&quot;&gt;eb cli&lt;/a&gt; installed.&lt;/p&gt;
&lt;p&gt;The eb cli wants to use git so you should have a git repo all setup. I always create git repos and commit code often to preserve a history and ease of rolling back code. So I assume that you have the code from my repo brought down and using your own git repo.&lt;/p&gt;
&lt;h2&gt;Initializing the eb project&lt;/h2&gt;
&lt;p&gt;In your local git clone, you need to execute &lt;a href=&quot;http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-init.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;eb init&lt;/code&gt;&lt;/a&gt;. I like to add the &lt;code class=&quot;language-text&quot;&gt;-i&lt;/code&gt; flag to force getting asked everything but it’s up to you. You’ll be asked what region you want to be deployed to, what application (you can create an app also), what type of application (select Docker) and version 1.11.1, and any SSH keys.&lt;/p&gt;
&lt;p&gt;Once you have your eb project initialized, you can create an environment. For this, you should use the &lt;a href=&quot;http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-create.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;eb create [env name]&lt;/code&gt;&lt;/a&gt; command. This should take a bit of time to setup everything and will also deploy your committed code.&lt;/p&gt;
&lt;p&gt;Once done, you can load your project in the browser. If you don’t know the URL then you can use the &lt;a href=&quot;http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-open.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;eb open&lt;/code&gt;&lt;/a&gt; command which will get the URL and open in your default browser. You should see some text and a button but if you were to check the dev tools you’ll notice the WebSocket handshake failed with a 400 status code. This is where I said EB doesn’t like WebSockets.&lt;/p&gt;
&lt;h2&gt;Configuring nginx&lt;/h2&gt;
&lt;p&gt;For those that do not know, EB uses &lt;a href=&quot;https://www.nginx.com/&quot;&gt;nginx&lt;/a&gt; as a proxy, basically nginx receives the request and determines what to do with it. We need to configure it to support WebSocket. I’m already checked in &lt;a href=&quot;https://github.com/mitchellsimoens/Simple-WebSocket/blob/master/.ebextensions/files.config&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;.ebextensions/files.config&lt;/code&gt;&lt;/a&gt; in my GitHub repo so what you already deployed has nginx configured. Also note that during my initial investigations I saw many different ways, this is the way I found that worked for me based on what an AWS team member originally suggested on their &lt;a href=&quot;https://forums.aws.amazon.com/thread.jspa?messageID=729795&quot;&gt;forums&lt;/a&gt; but without the shell script. So in the last 2 years, there may be a better way to configure nginx but anyway, nginx can now know how to handle WebSockets.&lt;/p&gt;
&lt;p&gt;Not all of the settings should be needed, the important bits are:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;proxy_http_version 1.1;
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection &amp;quot;upgrade&amp;quot;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Configuring EB&lt;/h2&gt;
&lt;p&gt;So nginx is configured and we still got the 400 status code on the handshake so what gives? At this point, I wasn’t 100% sure I’d figure this out. However, searching the web I kept seeing something about using TCP connections instead of HTTP. So I gave it a shot and all of a sudden everything started working! Using two browsers (Chrome and Firefox), I was able to click the button and each browser get the event pushed to it and I could see the WebSocket upgrade request.&lt;/p&gt;
&lt;p&gt;So how do we setup EB to use TCP connections? Go into the &lt;a href=&quot;https://us-west-2.console.aws.amazon.com/elasticbeanstalk/home&quot;&gt;EB dashboard&lt;/a&gt; and click on the environment for your app. This is where it shows some recent events, the health and other quick info. On the left, there is a vertical list and one of them is &lt;code class=&quot;language-text&quot;&gt;Configuration&lt;/code&gt; which you should click on. If you scroll down and find the Load Balancing box, click the edit tool in the upper-right corner of that box to configure the load balancer. In this form, the second field should be labeled &lt;code class=&quot;language-text&quot;&gt;Protocol&lt;/code&gt; and have two options: HTTP (which should be selected) and TCP. Yup, you guessed it, select TCP and scroll down and save. Go back to the Dashboard for your app’s environment and it should be deploying the new configuration.&lt;/p&gt;
&lt;p&gt;Once done, you should be all setup. Go to the url of your app and everything should be working!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Flowcharts for the win!]]></title><description><![CDATA[Through a lot of my professional life, I’ve been given steps. Sometimes I didn’t get all steps or the steps weren’t the most clear so I’d…]]></description><link>https://mitchellsimoens.com/2016/05/02/flowcharts-for-the-win/</link><guid isPermaLink="false">https://mitchellsimoens.com/2016/05/02/flowcharts-for-the-win/</guid><pubDate>Mon, 02 May 2016 13:40:03 GMT</pubDate><content:encoded>&lt;p&gt;Through a lot of my professional life, I’ve been given steps. Sometimes I didn’t get all steps or the steps weren’t the most clear so I’d have to figure things out which is fine and in many cases I prefer. The more complex the steps were, the more I’d have to figure things out. I love the challenge; it’s like a murder mystery. As I’ve grown in my roles, the less steps people give me and the more I have to pass down. Knowing that sometimes without proper direction, the project can be quite frustrating for some people. This is where flowcharts are a perfect tool to keep everyone on the same page.&lt;/p&gt;
&lt;h2&gt;Flow what?&lt;/h2&gt;
&lt;p&gt;So what is a flowchart? Well, it’s basically a picture of the individual steps (at any certain accuracy) with connectors between the steps to show the flow. &lt;a href=&quot;https://en.wikipedia.org/wiki/Flowchart&quot;&gt;Wikipedia&lt;/a&gt; has a great explanation as usual. In fact, here is a very simple flowchart from there:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 220px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/20007e4298bd7280ca9dc677ee8e22d5/cbeb6/220px-LampFlowchart.svg.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 136.36363636363637%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsSAAALEgHS3X78AAAFT0lEQVRIx5VVDUxTVxR+LQUGIlE3UAtzEw1RZlxgI8yJRERFBYMgDlFB3SzSQv/7XqGlpbVUEUSGKAZRJ+iUTSkyRStQqyIIygAFRSxkjLiBbouOCJlCOLv3aXFumdabnJxz/753zj3fOY8I8fvUwbR7X1xr0dHk6/u/4f5YWMxrPlDCQzbv2r5DeC6szMwNI9AAAGJjKG3+/+CEr5prOVYGP50oh/snz0D3cQN0fYvnp+FhuRF+O30BruYf6F8dFDwOnz+hymC8FjBhZeRHXQjwAbr8e0UVDdJvOA8DlRfh0ZkaGDJegabC4vtTJr3rjM8Xp6a/3sOwzwLtKjKyl1fvyo8xZuVFIzvmgJCMQ/OoH/S71lzI2hP7Xbr+c2vIsSFLibcd74THRv/nFgazaWyJWkbU5RQzTUf1Dng+bSLpmiJXpz8HGWZdPJhlX7+7hImm9Nut1K0iOAYuU3BRyuRXi5n8GgktSUaRXVTOFwzCx2cyuphrZ/2A2ZygsFgk7adOxcVa11paRKwxT3tt9FSjWeLX0SFrANiNotuDJBuam4Ung4K82HjfxcVpNlL0h788nrCAb5Is4lYKghPP8oMFJmkwp4wbsli21J3w9WW71tXxsh8/1g4D5ENPT+qwyZQw0turGMHA/f2qP4zGLXyE4xWzJNpPVkjxqWYlpLaoQdmmgbTbWiAbFbC9bxckV4lziICAaZ63b0tvYI/q65NGq6s5w2bz1tGGhuRnfX0q5GkumM2JpQjQmeRIQ6iClP2a3u2Q0qyC1FY1bOvJBEmdHLIf5YG4Vl40FnJp6Xr+vXvU4NCQHp48yRjFoXd1yXuKiqJfLQ0fwoF3TkiR1xUqBKQU11JKZCuEZql2dW6MLyEWL2BYKSGVBnlZLHLj4KAebt4Uf42WHJ9nuxpnmdAXZDJtSggKm7BYSGsmmfPmuQYg7Y6EDdD4CkiocgWRZBSyJFflLNEVkiXGUkuxhJdkrHUH4xmEQDAfeZCFjs6hLwiF69xFIjLC399zqpMTC4MSHh6uBJvt+nblcfhw/AsP14wTiag067pWu4L20NGRRRObPdeT+Or7rZjITN45AZN3XjgmGw5vYhALF3q9Quza2kR1d7e0w2CI32hde/p0x9h+VUMVwyYPdbrQgM5OsgkgB+Uoz0rsisjIOZ4viD0TqfHYji3YELDhyKbQuCObF68riscSEle8edlydfh0IjDww4mIf/kDA7pRTGxEneGaGs7I4GAGIvZeePBA/WdVFUeGcLzDQ8OWynaQMXyz5JG2ezso2zWgQVp1Vwe6nzMRD6lKws/Pg42IfW1kJBNu3RJDYyN/GBMc1e8zVDW0p5cucY8hQIf0FFUIuYOSi+rJv5RtWpBdS6UrRXErHdSdGZjgV8ZCLimJSbxzRzaAMg6Y3KOjO6GtTdJVWBgV+u/n4Z4VJKLL6Yg6CtFlUolEgext6w9tXEzw+fPHiC0UBk67e5c8OzCQAe3tkqyXxDbQmRbJpEyb+qKHmzNRaUqwtxJ71myWP9If4PoFeMj4Z4P1XjSLSK4W25HXlSxZQ6odElqjBsHaUsZ9XgTkZdnLf0zsWtekRHHY1PH2kzA4Xps8043ec5vh9mbvEsp5tGb7eEyYEek9JWLzKt8UtXzv9OUz3D+O8PXAXuJ9d+/JtlfJJ2v9J6CHbUbt6HHaHe2vZKuiR9mu7VN36obQY5e+CJnhNMHJNsBwXcT7CtQsMa/kTWmgsejpXqf/JRvQBzqsb+jynovNTjqgbpuX0qKqRL3NQDWllVNNyjLqhtK4tSJJig80QCvD3tn+jUB/A2jZs3IdQTU1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;simple flowchart&quot;
        title=&quot;simple flowchart&quot;
        src=&quot;/static/20007e4298bd7280ca9dc677ee8e22d5/cbeb6/220px-LampFlowchart.svg.png&quot;
        srcset=&quot;/static/20007e4298bd7280ca9dc677ee8e22d5/cf440/220px-LampFlowchart.svg.png 148w,
/static/20007e4298bd7280ca9dc677ee8e22d5/cbeb6/220px-LampFlowchart.svg.png 220w&quot;
        sizes=&quot;(max-width: 220px) 100vw, 220px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As you can see above, each shape is a step and each step is connected with arrow connectors so you can see the flow of turning a lamp on. Now imagine if you apply this to a project or the flow of a particular feature within a project.&lt;/p&gt;
&lt;h2&gt;When to flowchart, when to not&lt;/h2&gt;
&lt;p&gt;Normally I start with a high level flowchart at the beginning of the project without doing work first. I look at the project and get the overall view and build that chart. Usually, there are areas of the project that are more crucial (maybe even due to a deadline) that I need to drill in with another flowchart. You can really get as detailed and have as high project coverage as you want but I normally only focus on high level and crucial areas of a project. As the project goes on, I’ll create more on the fly as I see where the project goes.&lt;/p&gt;
&lt;p&gt;I wouldn’t create a flowchart for everything, it can also be a waste of time. For example, the lamp flowchart above is really not needed, it’s really too simple. It definitely depends on the project and what parts of that project are but starting high level and focusing on the crucial areas is a great start and drilling down as needed.&lt;/p&gt;
&lt;p&gt;If someone is having a hard time understanding how something should work, a flowchart is a great visual way to explain things to get people on the same page. For example, I had a project where we had a tight deadline. I know most of it but there was a part where someone else know exactly how it’s supposed to work. I created a flowchart for the overall flow and with that person’s input on the part I didn’t know, I was able to finish the flowchart so that everyone knew exactly how it works. Without a flowchart, it’s was up to people describing how things work and in meetings (especially online meetings) people tend to drift off and miss parts of the meeting.&lt;/p&gt;
&lt;h2&gt;Tools&lt;/h2&gt;
&lt;p&gt;So how do I create flowcharts? I’ve used &lt;a href=&quot;https://www.omnigroup.com/omnigraffle&quot;&gt;omnigraffle&lt;/a&gt; quite a bit before but have since moved onto &lt;a href=&quot;https://www.draw.io/&quot;&gt;draw.io&lt;/a&gt;. What I like about draw.io (other than it’s free) is that it’s integrated into &lt;a href=&quot;https://drive.google.com/&quot;&gt;Google Drive&lt;/a&gt; and is just a well made web app. I’ve applauded them on their execution of this app, it’s dead simple and automatically saves to Google Drive for me which also allows for other people to contribute (I haven’t yet had multiple people working on the same chart at the same time). The only drawback is sharing, it shares the rendered flowchart but is usually quite small of a preview making me take screenshots to share.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Full featured or lightweight, cannot have both]]></title><description><![CDATA[Earlier today, I noticed a conversation about how React was “far more flexible when it comes to customizing” than Ext JS. So being an Ext JS…]]></description><link>https://mitchellsimoens.com/2016/04/11/full-featured-or-lightweight-cannot-have-both/</link><guid isPermaLink="false">https://mitchellsimoens.com/2016/04/11/full-featured-or-lightweight-cannot-have-both/</guid><pubDate>Mon, 11 Apr 2016 15:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Earlier today, I noticed a conversation about how &lt;a href=&quot;https://facebook.github.io/react/&quot;&gt;React&lt;/a&gt; was “far more flexible when it comes to customizing” than &lt;a href=&quot;https://www.sencha.com/products/extjs/&quot;&gt;Ext JS&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;&lt;a href=&quot;https://twitter.com/dmitrybrin&quot;&gt;@dmitrybrin&lt;/a&gt; It&amp;#39;s component-based like Ext JS but far more flexible when it comes to customizing. Also really fast.&lt;/p&gt;&amp;mdash; Arthur Kay (@arthurakay) &lt;a href=&quot;https://twitter.com/arthurakay/status/719477208012578817&quot;&gt;April 11, 2016&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;p&gt;So being an Ext JS dev, I disagree with this statement except the last sentence, React is really fast no doubt. React being far more flexible is very debatable. Yes, with React you are the one creating the DOM whereas Ext JS’ produced DOM can be bloated a bit and if you’re writing your own library of widgets to suit your application you can create it in a way that is best for your application. However, comparing React to Ext JS is like comparing a go-kart to a semi truck. React doesn’t do that much, it’s just the view layer that you can build on top of whereas Ext JS is a full framework and gives a huge set of widgets out-of-the-box. Sure, you can drive a go-kart but you can’t haul things like a semi can.&lt;/p&gt;
&lt;p&gt;Let’s be honest, having a full framework like Ext JS has it’s pros and cons. The pros are self evident (huge set of widgets, opinionated code structure, etc) however there are cons like the produced DOM. That DOM may be bloated for your use but when you flex the full functionality of the framework, that “bloat” isn’t actually bloat. I bet you don’t use every feature of Microsoft Word but still use it (and yes, I’m sure still holds true for OpenOffice etc). But with Ext JS, you don’t have to build and maintain the set of widgets which can quickly get expensive and risky of developer lock-in and supporting all the features it does and configurations developers need it to support for the vast difference of applications out there, that “bloat” is needed. And I’ll be honest again, I’m sure not all the bloat is necessary, I’m sure there are opportunities for improvement but it wouldn’t be night and day I’m sure.&lt;/p&gt;
&lt;p&gt;It really shouldn’t be React vs Ext JS as either will win for what either attempts to fulfill. Each project should determine which thing it should use. You cannot say:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I want to have all these features built-in but still be lightweight.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You cannot have both. You cannot make a truck be as fast as a sports car but still be as lightweight as the car. I know, I’m analogy full today.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[npm failed me]]></title><description><![CDATA[Last week, we deployed a major update to an application and after a couple days it finally fell on it’s face. The server, hosted on AWS…]]></description><link>https://mitchellsimoens.com/2016/04/06/npm-failed-me/</link><guid isPermaLink="false">https://mitchellsimoens.com/2016/04/06/npm-failed-me/</guid><pubDate>Wed, 06 Apr 2016 16:42:03 GMT</pubDate><content:encoded>&lt;p&gt;Last week, we deployed a major update to an application and after a couple days it finally fell on it’s face. The server, hosted on AWS, randomly went into a red state and was unreachable from outside requests overnight. The servers were using an older version of Docker and Elastic Beanstalk commands were taking a long time to complete so we initially thought it was in our AWS setup. I know, noob mistake to jump at guessing the issue instead of looking at the logs.&lt;/p&gt;
&lt;p&gt;After trying 15 different configurations, we took a look at the logs and noticed npm was throwing some errors. The errors were during the &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; and the JSON that was being returned would randomly fail to fully return causing issues when npm tried to parse the JSON. We then noticed that the install npm’s version was 1.3 whereas what we were using locally would be v3. We installed v3 and that issue went away, however, we were not very happy.&lt;/p&gt;
&lt;p&gt;The server is running Ubuntu 14.0.4 LTS. Normally vendors do a decent job adhering to the LTS standing but doing an &lt;code class=&quot;language-text&quot;&gt;apt-get install -y npm&lt;/code&gt; would install npm 1.3 but that version is not supported anymore. What npm should do is update what is installable in apt. To work around this, we installed Node v5:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;apt-get update
apt-get install -y build-essential curl
curl -sL https://deb.nodesource.com/setup_5.x | sudo -E bash -
apt-get install -y nodejs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we have Node 5 and npm v3. So thanks npm!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[No dependencies, no drama!]]></title><description><![CDATA[Open source is great, except when it’s not. If you were under a rock this week, some big projects broke due to a module being removed (left…]]></description><link>https://mitchellsimoens.com/2016/03/24/no-dependencies-no-drama/</link><guid isPermaLink="false">https://mitchellsimoens.com/2016/03/24/no-dependencies-no-drama/</guid><pubDate>Thu, 24 Mar 2016 14:08:03 GMT</pubDate><content:encoded>&lt;p&gt;Open source is great, except when it’s not. If you were under a rock this week, some big projects broke due to a module being removed (left-pad). So if you were using Babel or React, it broke if you attempted to &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; it. You can read about it &lt;a href=&quot;http://www.theregister.co.uk/2016/03/23/npm_left_pad_chaos/&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;http://www.haneycodes.net/npm-left-pad-have-we-forgotten-how-to-program/&quot;&gt;here&lt;/a&gt;. Now of course this will be incredibly simple to fix as the required code is extremely small but it also shows that open source comes with it’s risks.&lt;/p&gt;
&lt;p&gt;I personally think this whole fiasco could have been handled much better, when you use a piece of code, you get into a sort of contract with the maintainer. As an author of a few repos on GitHub that some people do use, I attempted to work with people to make what I made work better for them (implement features, change features) but life got busy and I simply didn’t have time to maintain it. It’s not that I didn’t have intention to keep maintaining it, I simple couldn’t dedicate any time to it so as a maintainer, I failed the open source community and therefore broke the contract where they were using my code and expected it to work.&lt;/p&gt;
&lt;p&gt;The drama this week was much more than simply not having enough time to maintain left-pad but since this blog is geared towards Sencha products, I’ll highlight one of the big benefits of using something from Sencha. While the whole web dev community is hot on building their own framework made up of many different libraries, Sencha provides a framework that is setup to work together. So if you want components and MVC/MVVM, Sencha works to have it work out of the box. Want a data package with charting? Sencha has it all working and they maintain it. So instead of mixing React with Bootstrap and Highcharts and so on, you just need to download Ext JS and start working. If one of the libraries in your DIY framework is updated and you want to use it, you have to update it and make sure all the different pieces of your DIY framework work with that update. Whereas with Ext JS, when an update is released you just need to replace Ext JS.&lt;/p&gt;
&lt;p&gt;We all know that any software update may come with API changes and Sencha has been releasing &lt;a href=&quot;http://docs.sencha.com/extjs/6.0/api_diffs/601_classic_diff.html&quot;&gt;API Diffs&lt;/a&gt; now and even really good upgrade guides for major version upgrade like &lt;a href=&quot;http://docs.sencha.com/extjs/6.0/upgrades_migrations/extjs_upgrade_guide.html&quot;&gt;this&lt;/a&gt;. Sencha has been putting a lot of effort into documenting any API changes and keeping backwards compatibility where possible.&lt;/p&gt;
&lt;p&gt;So in the open source vs commercial company debate, I won’t say which is better. What I will say, commercial still has a place these days. Sure commercial isn’t always the cheapest but when you look at what you get, it may actually be cheaper in the long run. What you get with Ext JS can outweigh the cost of developing your DIY framework, maintaining it and training new people on it.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Custom Two Way Binding!]]></title><description><![CDATA[When Ext JS 5 was released it brought with it data binding including two-way data binding. Although some argue that two way data binding is…]]></description><link>https://mitchellsimoens.com/2015/12/03/custom-two-way-binding/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/12/03/custom-two-way-binding/</guid><pubDate>Thu, 03 Dec 2015 16:39:03 GMT</pubDate><content:encoded>&lt;p&gt;When &lt;a href=&quot;https://www.sencha.com/products/extjs/&quot;&gt;Ext JS&lt;/a&gt; 5 was released it brought with it data binding including two-way data binding. Although some argue that two way data binding is an anti-pattern, it does have it’s uses. Many Ext JS components have two-way binding ready by default (for example, &lt;a href=&quot;http://examples.sencha.com/extjs/6.0.1/examples/kitchensink/#binding-two-way&quot;&gt;this Kitchen Sink example&lt;/a&gt;) but there may be cases where you want to setup a custom bindings. At a high level, what I want is when one component changes, another component changes in response automatically and if that second component changes, the first component also changes.&lt;/p&gt;
&lt;h2&gt;First Attempt&lt;/h2&gt;
&lt;p&gt;As a use case, I was recently asked how to collapse/expand a &lt;code class=&quot;language-text&quot;&gt;Ext.form.FieldSet&lt;/code&gt; using data binding. Without any custom things, it’s possible like so:&lt;/p&gt;
&lt;iframe style=&quot;border: 0;height: 600px;width: 600px;&quot; src=&quot;https://fiddle.sencha.com/fiddle/120u&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;In this fiddle, the&lt;code class=&quot;language-text&quot;&gt;Ext.form.field.Checkbox&lt;/code&gt; under the &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt; will toggle whether the &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt; is expanded or not. However, that’s kind of weird because we are binding to &lt;code class=&quot;language-text&quot;&gt;expanded&lt;/code&gt; but that’s not a config of &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt;. The reason I used it is because binding requires a setter function so in this case the &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt; needs (and does albeit being private) have a &lt;code class=&quot;language-text&quot;&gt;setExpanded&lt;/code&gt; method in order for binding to work. &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt; does have a &lt;code class=&quot;language-text&quot;&gt;collapsed&lt;/code&gt; config but binding needs a setter and there is no &lt;code class=&quot;language-text&quot;&gt;setCollapsed&lt;/code&gt; method. We could create a simple override to add one:&lt;/p&gt;
&lt;iframe style=&quot;border: 0;height: 600px;width: 600px;&quot; src=&quot;https://fiddle.sencha.com/fiddle/120v&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;That looks better! However, if we manually collapse/expand the &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt;, the &lt;code class=&quot;language-text&quot;&gt;Checkbox&lt;/code&gt; will not reflect this change so it’s only one-way currently. This is where we need to do some custom stuff in order to have two-way binding. There are two ways to have two-way binding and which to use depends on if the config you want to change is within the config object (so setter and getter methods are automatically created for you).&lt;/p&gt;
&lt;h2&gt;Manual Two-Way Binding&lt;/h2&gt;
&lt;p&gt;To get the new value up to the &lt;code class=&quot;language-text&quot;&gt;Ext.app.ViewModel&lt;/code&gt; on the form, the &lt;code class=&quot;language-text&quot;&gt;publishState&lt;/code&gt; method must be executed passing in the name and value. The &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt; will fire &lt;code class=&quot;language-text&quot;&gt;collapse&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;expand&lt;/code&gt; events when it has been collapsed/expanded so we can add listeners to it in order to execute that &lt;code class=&quot;language-text&quot;&gt;publishState&lt;/code&gt; method:&lt;/p&gt;
&lt;iframe style=&quot;border: 0;height: 600px;width: 600px;&quot; src=&quot;https://fiddle.sencha.com/fiddle/120t&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;In the &lt;code class=&quot;language-text&quot;&gt;initComponent&lt;/code&gt; method, I add listeners to the &lt;code class=&quot;language-text&quot;&gt;collapse&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;expand&lt;/code&gt; events which will execute the &lt;code class=&quot;language-text&quot;&gt;publishCollapsed&lt;/code&gt; method. If rendered, this will execute &lt;code class=&quot;language-text&quot;&gt;publishState&lt;/code&gt; meaning two-way binding is setup.&lt;/p&gt;
&lt;h2&gt;Automatic Two-Way Binding&lt;/h2&gt;
&lt;p&gt;Like I said before, the way to know if you need to hookup the &lt;code class=&quot;language-text&quot;&gt;publishState&lt;/code&gt; method execution or if Ext JS can handle it automatically for you is whether the config you are binding to is within the config object. The &lt;code class=&quot;language-text&quot;&gt;collapsed&lt;/code&gt; config is not part of the config object but what if we had a custom config, how can we get that custom config to be two-way bindable? This is where &lt;code class=&quot;language-text&quot;&gt;twoWayBindable&lt;/code&gt; comes in handy to hook things up for us:&lt;/p&gt;
&lt;iframe style=&quot;border: 0;height: 600px;width: 600px;&quot; src=&quot;https://fiddle.sencha.com/fiddle/121e&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;When &lt;code class=&quot;language-text&quot;&gt;setFoo&lt;/code&gt; is executed, we check to see if the &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt; is already collapsed/expanded and then execute the &lt;code class=&quot;language-text&quot;&gt;setExpanded&lt;/code&gt; if not. We had to add the &lt;code class=&quot;language-text&quot;&gt;setFoo&lt;/code&gt; call to &lt;code class=&quot;language-text&quot;&gt;setExpanded&lt;/code&gt; also to hook into when the &lt;code class=&quot;language-text&quot;&gt;FieldSet&lt;/code&gt; is manually collapsed/expanded by the user. That has nothing to do with the binding tho, the bit to pay attention to is the config object and the &lt;code class=&quot;language-text&quot;&gt;twoWayBindable&lt;/code&gt; property. The &lt;code class=&quot;language-text&quot;&gt;twoWayBindable&lt;/code&gt; property is an array of configs and it will then hook into the &lt;code class=&quot;language-text&quot;&gt;updater&lt;/code&gt; for that config to then automatically execute that &lt;code class=&quot;language-text&quot;&gt;publishState&lt;/code&gt; method. So the binding is automatic, the other code is to handle collapsing/expanding when the &lt;code class=&quot;language-text&quot;&gt;foo&lt;/code&gt; config changes.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Data binding can be a bit mysterious but having some form of understanding the sequence of things helps go a long way. Knowing that &lt;code class=&quot;language-text&quot;&gt;publishState&lt;/code&gt; and having an associated setter method are important pieces of the binding puzzle. For more, check out the &lt;a href=&quot;http://docs.sencha.com/extjs/6.0/application_architecture/view_models_data_binding.html&quot;&gt;guide&lt;/a&gt; that goes over binding.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Loading Ext.Direct api]]></title><description><![CDATA[Personally, I use a technology called Ext.Direct for my projects. Ext.Direct is platform and language agnostic remote procedure call…]]></description><link>https://mitchellsimoens.com/2015/09/22/loading-ext-direct-api/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/09/22/loading-ext-direct-api/</guid><pubDate>Tue, 22 Sep 2015 14:58:03 GMT</pubDate><content:encoded>&lt;p&gt;Personally, I use a technology called Ext.Direct for my projects. Ext.Direct is platform and language agnostic remote procedure call protocol. I’m not going to go into the features and benefits of using Ext.Direct in this post, I’ll save it for a different post but you can check out the &lt;a href=&quot;http://docs.sencha.com/extjs/latest/direct/specification.html&quot;&gt;spec&lt;/a&gt; we released.&lt;/p&gt;
&lt;h3&gt;Bad Ways&lt;/h3&gt;
&lt;p&gt;Lately, I’ve seen a few methods people are using to load the api descriptor and I’d like to show them and discuss why they are a bad idea and then of course show the proper way. First means of loading the api I recently saw is this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.DirectAPI&amp;#39;, {
    requires: [&amp;#39;Ext.direct.*&amp;#39;, &amp;#39;Ext.Ajax&amp;#39;]
}, function() {
    Ext.Ajax.request({
        url: &amp;quot;/DirectApi&amp;quot;,
        async: false,
        success: function(xhr) {
            Ext.globalEval(xhr.responseText);
        },
        failure: function(xhr) {
            throw &amp;quot;Direct API load failed with error code &amp;quot; + xhr.status + &amp;quot;: &amp;quot; + xhr.statusText;
        }
    });
    Ext.direct.Manager.addProvider(Ext.app.REMOTING_API);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What this is doing is if the application requires &lt;code class=&quot;language-text&quot;&gt;MyApp.DirectAPI&lt;/code&gt; it will then do a synchronous ajax call, eval the response and then add the provider.&lt;/p&gt;
&lt;p&gt;Another means I saw is:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.DirectAPI&amp;#39;, {
    requires: [&amp;#39;Ext.direct.*&amp;#39;]
}, function() {
    Ext.Loader.loadScriptsSync(&amp;#39;api.php&amp;#39;);
    /*
    Add provider. Name must match settings on serverside
    */
    Ext.direct.Manager.addProvider(Ext.app.REMOTING_API);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is basically the same thing as the first code, just uses &lt;code class=&quot;language-text&quot;&gt;Ext.Loader.loadScriptsSync&lt;/code&gt; instead of &lt;code class=&quot;language-text&quot;&gt;Ext.Ajax.request&lt;/code&gt;. The only difference is the &lt;code class=&quot;language-text&quot;&gt;loadScriptsSync&lt;/code&gt; does the eval for you, both use &lt;code class=&quot;language-text&quot;&gt;XMLHttpRequest&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;The Why&lt;/h3&gt;
&lt;p&gt;So these techniques work but why are they bad? The main issue in both is the use of a synchronous call. Let’s look at this from a user standpoint. The user has to wait for the application to load (Ext JS apps are normally larger), then the browser locks up for a period of time and then the application renders. What would you do if every time you visit an app you had a period where it locks up the entire browser? Honestly, I wouldn’t use it or if I had to I’d complain about it. Networks fail, servers can be complex and slow. If the call to load the Ext.Direct api took 10 seconds, you’d have 10 seconds where the user is sitting looking at the screen with a browser that cannot do anything. I’ve forced closed apps for that before. In fact, at one client an async request took over a minute to complete and I fought to have them fix that, their solution was for me to raise the timeout. People need to look at the issue and see the proper way to fix issues, not just what’s fast and easy.&lt;/p&gt;
&lt;h3&gt;The Proper Way&lt;/h3&gt;
&lt;p&gt;If you are using &lt;a href=&quot;https://www.sencha.com/products/extjs/#sencha-cmd&quot;&gt;Sencha Cmd&lt;/a&gt; (which I would highly recommend), instead of the code ways above all you have to do is add the script to the &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt;’s &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; array:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;js&amp;quot;: [
    {
        &amp;quot;path&amp;quot;: &amp;quot;app.js&amp;quot;,
        &amp;quot;bundle&amp;quot;: true
    },
    {
        &amp;quot;path&amp;quot;: &amp;quot;/direct/api&amp;quot;,
        &amp;quot;remote&amp;quot;: true
    }
]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, after you run a &lt;code class=&quot;language-text&quot;&gt;sencha app watch&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;sencha app build&lt;/code&gt;, Ext JS will automatically create a &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tag to load the direct api and defer the application’s &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method from executing until it has loaded. Then in the &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method you can then use the &lt;code class=&quot;language-text&quot;&gt;Ext.direct.Manager.addProvider&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you’re not using Sencha Cmd, then all you have to do is add a &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; to your index.html and your application’s &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method or &lt;code class=&quot;language-text&quot;&gt;Ext.onReady&lt;/code&gt; will defer till it loads:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; charset=&amp;quot;UTF-8&amp;quot; src=&amp;quot;/direct/api&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Without doing anything on the server, the application will still wait for the direct api to load so you still will have that issue to contend with but the browser will not be locked up. If the person wants to close the browser for whatever reason or open a new tab to do something else they can. So the difference is if the browser will be locked up or not, I’d choose not to lock the user’s browser up. Even if the load takes &amp;#x3C; 1 second, since there is a way not to do it I wouldn’t.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[SFTP server in Node.js]]></title><description><![CDATA[I have a project that I want to start working on but first needed to create a quick proof-of-concept (POC) to make sure I can do what I…]]></description><link>https://mitchellsimoens.com/2015/09/17/sftp-server-in-node-js/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/09/17/sftp-server-in-node-js/</guid><pubDate>Thu, 17 Sep 2015 18:45:03 GMT</pubDate><content:encoded>&lt;p&gt;I have a project that I want to start working on but first needed to create a quick proof-of-concept (POC) to make sure I can do what I wanted. I was about 99% sure what I want to do is possible, just that 1% is due to never doing it. So the POC was to create a SFTP server that saved public keys in a database like GitHub does. I know you can install an ssh server and use the &lt;a href=&quot;http://linux.die.net/man/5/sshd_config&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;AuthorizedKeysCommand&lt;/code&gt;&lt;/a&gt; but if possible, I wanted to do everything within &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt;, not install another server onto my server.&lt;/p&gt;
&lt;p&gt;First thing most people do, off to search &lt;a href=&quot;https://www.npmjs.com/&quot;&gt;npm&lt;/a&gt;. I quickly found the &lt;a href=&quot;https://www.npmjs.com/package/ssh2&quot;&gt;ssh2&lt;/a&gt; module which seemed to have active development still (GitHub repo started in August 2012 and still has commits from a couple days ago). After setting up example server and client scripts, I needed to get a file downloaded from the server. I did have a bit of trouble with this but &lt;a href=&quot;https://github.com/mscdex&quot;&gt;mscdex&lt;/a&gt; gave me a &lt;a href=&quot;https://github.com/mscdex/ssh2/issues/322#issuecomment-140930439&quot;&gt;boost&lt;/a&gt;, much obliged! So I got a file downloading and even got it to authenticate based on private/public keys reading from my filesystem. Looking at the code, it’s async so I knew I could do this by saving it in a MySQL database and it’s was extremely easy.&lt;/p&gt;
&lt;p&gt;I’ve setup a simple example GitHub &lt;a href=&quot;https://github.com/mitchellsimoens/SFTPServer&quot;&gt;repo&lt;/a&gt;. The server is &lt;code class=&quot;language-text&quot;&gt;server.js&lt;/code&gt; and a test client script is in &lt;code class=&quot;language-text&quot;&gt;client_test.js&lt;/code&gt;. You’ll have to change some configs in both scripts. You’ll also need to setup the table I use, this is what I have:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;CREATE TABLE `user_public_keys` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(200) NOT NULL,
  `name` varchar(25) NOT NULL,
  `key` text NOT NULL,
  `added` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once you setup the MySQL connection details in &lt;code class=&quot;language-text&quot;&gt;server.js&lt;/code&gt; you’ll be able to read from the table. You’ll have to generate an RSA host key, check out &lt;code class=&quot;language-text&quot;&gt;keys/README.md&lt;/code&gt;, it’s a simple command but pay attention to where it wants to save the file, I placed it at &lt;code class=&quot;language-text&quot;&gt;keys/host_rsa&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Not sure what other steps are needed but that should be it. Some configs in &lt;code class=&quot;language-text&quot;&gt;server.js&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;client_test.js&lt;/code&gt;, MySQL table, host key and of course the &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; command to install module dependencies. Should be able to start the server (&lt;code class=&quot;language-text&quot;&gt;node server&lt;/code&gt;) and then try the client script (&lt;code class=&quot;language-text&quot;&gt;node client_test&lt;/code&gt;) and it should download the file. The server will remain up and you should see some logs that show the OPEN, FSTAT, READ and CLOSE steps.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[React dispatcher, improved]]></title><description><![CDATA[React is a very fast view layer and that’s it. Ok, we all know that (I hope). React doesn’t handle any business logic for user interactions…]]></description><link>https://mitchellsimoens.com/2015/08/26/react-dispatcher-improved/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/08/26/react-dispatcher-improved/</guid><pubDate>Wed, 26 Aug 2015 19:41:03 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://facebook.github.io/react/&quot;&gt;React&lt;/a&gt; is a very fast view layer and that’s it. Ok, we all know that (I hope). React doesn’t handle any business logic for user interactions. For example, if someone clicks on a button React doesn’t do anything. For that, you would need to use a dispatcher (or some other means).&lt;/p&gt;
&lt;h2&gt;Improved event handling&lt;/h2&gt;
&lt;p&gt;Luckily, &lt;a href=&quot;https://www.facebook.com/&quot;&gt;Facebook&lt;/a&gt; also has &lt;a href=&quot;https://facebook.github.io/flux/&quot;&gt;Flux&lt;/a&gt; which has a &lt;a href=&quot;https://facebook.github.io/flux/docs/dispatcher.html#content&quot;&gt;dispatcher&lt;/a&gt; class where you can register callback listeners for when something is dispatched. Here’s a simple example of this (taken from their documentation):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var flightDispatcher = new Dispatcher();

flightDispatcher.register(function(payload) {
    if (payload.actionType === &amp;#39;city-update&amp;#39;) {
        CityStore.city = payload.selectedCity;
    }
});

flightDispatcher.dispatch({
    actionType: &amp;#39;city-update&amp;#39;,
    selectedCity: &amp;#39;paris&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok, that’s pretty simple. However, in practice I don’t like one thing and that is when something is dispatched, &lt;strong&gt;ALL&lt;/strong&gt; registered callbacks will execute. Each callback has to check if they care about the dispatched event. This seams quite wasteful and unneeded logic in the callback especially since you will likely have lots of registered callbacks. Sure, you can build something on top of it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function callbackCreatorThing(property, value, callback) {
    return function(payload) {
        if (payload[property] === value) {
            callback(payload);
        }
    }
}

flightDispatcher.register(
    callbackCreatorThing(&amp;#39;actionType&amp;#39;, &amp;#39;city-update&amp;#39;, function(payload) {
        CityStore.city = payload.selectedCity;
    })
);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So I created a function factory that will call the actual callback when &lt;code class=&quot;language-text&quot;&gt;payload.actionType&lt;/code&gt; is equal to &lt;code class=&quot;language-text&quot;&gt;city-update&lt;/code&gt;. Ok, so that’s not the end of the world and of course there are many other ways to do it but still… more work than you should have to do. I come from an &lt;a href=&quot;https://www.sencha.com/products/extjs/&quot;&gt;Ext JS&lt;/a&gt; world where things are event driven meaning you add a listener for when a certain event is driven. So I’d do something like this in Ext JS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cls.on(&amp;#39;city-update&amp;#39;, function(payload) {
    CityStore.city = payload.selectedCity;
});

cls.fireEvent(&amp;#39;city-update&amp;#39;, payload);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So when the &lt;code class=&quot;language-text&quot;&gt;fireEvent&lt;/code&gt; is called, only those listeners listening to that event will be fired. So I need this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;flightDispatcher.register(&amp;#39;city-update&amp;#39;, function(payload) {
    CityStore.city = payload.selectedCity;
});

flightDispatcher.dispatch(&amp;#39;city-update&amp;#39;, {
    selectedCity: &amp;#39;paris&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So I have to create my own dispatcher class (which is very easy). While I’m at it, why not extend this and allow certain actions to be dispatched and registered so a user can really get fine grained:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;flightDispatcher.register(&amp;#39;city&amp;#39;, &amp;#39;update&amp;#39;, function(payload, listener) {
    CityStore.city = payload.selectedCity;
});

flightDispatcher.dispatch(&amp;#39;city&amp;#39;, &amp;#39;update&amp;#39;, {
    selectedCity: &amp;#39;paris&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here, the event is &lt;code class=&quot;language-text&quot;&gt;city&lt;/code&gt; and the action being taken is &lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;. I even get access to the listener. In fact, we could support all three cases:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;flightDispatcher.register(&amp;#39;city&amp;#39;, &amp;#39;update&amp;#39;, function(payload, listener) {
    CityStore.city = payload.selectedCity;
});
flightDispatcher.register(&amp;#39;city&amp;#39;, function(payload, listener) {
    //something happened to a city
});
flightDispatcher.register(function(payload, listener) {
    //something happened
});

flightDispatcher.dispatch(&amp;#39;city&amp;#39;, &amp;#39;update&amp;#39;, {
    selectedCity: &amp;#39;paris&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There are valid reasons to have catch all listeners like what Flux has.&lt;/p&gt;
&lt;h2&gt;Event Class&lt;/h2&gt;
&lt;p&gt;So the listening to dispatched events has been improved. However, there is one more thing that I like in Ext JS: the separate event (&lt;code class=&quot;language-text&quot;&gt;Ext.event.Event&lt;/code&gt;) class. This class holds many things but one thing I use a lot is the ability to stop an event in a listener. Maybe some business logic says that the user isn’t able to update a city, then you should be able to stop an event from firing other listeners. For this, I created a separate Event class which the Dispatcher creates when it finds all the listeners for the event and action being dispatched. So now you can do this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;flightDispatcher.register(&amp;#39;city&amp;#39;, &amp;#39;update&amp;#39;, function(e) {
    e.stop();
});
flightDispatcher.register(&amp;#39;city&amp;#39;, function(e) {
    //something happened to a city
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the first registered callback, I stop the event from firing so the second registered callback will not be executed. This gives further control over the flow of the events in an application.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Using React with Flux versus using Ext JS shows how mature Ext JS is, it’s been around for almost 10 years now so I’d expect it to be. However, this doesn’t mean that some ideas from Ext JS cannot be applied to a React application.&lt;/p&gt;
&lt;p&gt;I’ve quickly put the code up on &lt;a href=&quot;https://github.com/mitchellsimoens/react-idispatcher&quot;&gt;GitHub&lt;/a&gt; and &lt;a href=&quot;https://www.npmjs.com/package/react-idispatcher&quot;&gt;npm&lt;/a&gt;. The dispatcher class is a singleton (I create an instance and return it in &lt;code class=&quot;language-text&quot;&gt;module.exports&lt;/code&gt; as there really should only be one message bus.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[this is undefined, what?]]></title><description><![CDATA[Playing around the other day with ES6 and classes and ran upon a strange error. It was simple code, a base class, a subclass and a…]]></description><link>https://mitchellsimoens.com/2015/08/15/this-is-undefined-what/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/08/15/this-is-undefined-what/</guid><pubDate>Sat, 15 Aug 2015 14:38:03 GMT</pubDate><content:encoded>&lt;p&gt;Playing around the other day with ES6 and classes and ran upon a strange error. It was simple code, a base class, a subclass and a constructor:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;class Base {}

class Sub extends Base {
    constructor(config) {
        console.log(this);
    };
}

new Sub();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This resulting in a &lt;code class=&quot;language-text&quot;&gt;ReferenceError&lt;/code&gt; that &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; was &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;. This was, quite simply, the only time I’ve ever see &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; be &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;. I mean, even if I were to try to make it &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt; I couldn’t:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function Foo() {
    console.log(this);
}

Foo.call(undefined);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Within &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; would be equal to &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;. So how can it ever be &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;? My first thought was that ES6 is very new and not fully implemented anywhere yet (Babel and Traceur are coming close to transpiling it though) and the browsers are definitely not close for real native development (see kangax’s &lt;a href=&quot;https://kangax.github.io/compat-table/es6/&quot;&gt;chart&lt;/a&gt;) so then it must just be a browser error. Since I know Babel is quite far along and they have a &lt;a href=&quot;https://babeljs.io/repl/&quot;&gt;playground&lt;/a&gt; that can run in the browser I threw the code in there and finally got an error that explains it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#39;this&amp;#39; is not allowed before super()&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What a curious bug but trying it out this code does indeed work:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;class Base {}

class Sub extends Base {
    constructor(config) {
        super(config);

        console.log(this);
    };
}

new Sub();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; can only be used after calling &lt;code class=&quot;language-text&quot;&gt;super&lt;/code&gt; huh? Why? And I don’t mean technically why but theoretically why? What if I wanted to do something before calling the superclass’ method and use &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt;? So now a superclass has to take into account any subclasses. So if I wanted to do something, I guess I would have to execute a function in the superclass so that a subclass can enact on it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;class Base {
    constructor(config) {
        if (this.doSomething) {
            this.doSomething(config);
        }
    }
}

class Sub extends Base {
    constructor(config) {
        super(config);

        console.log(this);
    };

    doSomething(config) {
        console.log(this);
    }
}

new Sub();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yuck! I hope someone else has found a better way to use &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; in a subclass.&lt;/p&gt;
&lt;p&gt;Ok, so there’s a limitation there and as developers we can beat our heads against a brick wall (you can’t beat the interpreter) or you can develop around the limitation. I was just hoping, in a new spec in modern day, that I wouldn’t have such limitations. I come from a PHP background and have no problems like this. Currently use Ext JS and it’s class system and have no problems like this.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Format your numbers!]]></title><description><![CDATA[Yesterday, I posted about a gripe on not pluralizing text based on the value that text was associated to. Today, I visited a site and…]]></description><link>https://mitchellsimoens.com/2015/08/13/format-your-numbers/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/08/13/format-your-numbers/</guid><pubDate>Thu, 13 Aug 2015 14:48:03 GMT</pubDate><content:encoded>&lt;p&gt;Yesterday, I posted about a gripe on not &lt;a href=&quot;https://sencha.guru/2015/08/12/pluralize-text/&quot;&gt;pluralizing text&lt;/a&gt; based on the value that text was associated to. Today, I visited a site and noticed some of their numbers were not formatted (some were). Once again, I was surprised how much this annoyed me…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 250px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d7477e20ac6e713c749e98f890c89bd4/5039d/bad-number-formatting_zqjzot.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.8%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAwUlEQVQoz62P2QqDMBBF/f8fEloE10Kpe9q3KmoR7RcYl+Q2CZha+lKkA4eZMJkziQER0zQpOOdYlgWMMY08b9G95X1Hzq0Yq3AcR+yN7UIllDLOGeqqBslz9P0Tj6ZG1/Ug5IYsSZEIojhGUZZ4VA2Ke4lK5LbtPuRaCHCQLEcYRoguIQLfxVXITsEZvuPAcT3YtoM0JwhsD9bBgmkexSKiRH/98tcLpXAYBiWllP7GQNWMrOXcihbKxjzPqpZ5Ly/XtRuCBod7XgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;bad number formatting&quot;
        title=&quot;bad number formatting&quot;
        src=&quot;/static/d7477e20ac6e713c749e98f890c89bd4/5039d/bad-number-formatting_zqjzot.png&quot;
        srcset=&quot;/static/d7477e20ac6e713c749e98f890c89bd4/cf440/bad-number-formatting_zqjzot.png 148w,
/static/d7477e20ac6e713c749e98f890c89bd4/5039d/bad-number-formatting_zqjzot.png 250w&quot;
        sizes=&quot;(max-width: 250px) 100vw, 250px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You can see the ‘1000000’ is not formatted, in fact I had to count a couple times to make sure I had enough zeros because my eyes were playing tricks on me when trying to count the number on the site. That’s why you format the numbers! So your users don’t have to struggle!&lt;/p&gt;
&lt;p&gt;Once again, Ext JS to the rescue! &lt;code class=&quot;language-text&quot;&gt;Ext.util.Format&lt;/code&gt; has a &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt; method that will take a value and a format string. The format string has quite a lot of options and luckily is pretty well &lt;a href=&quot;https://docs.sencha.com/extjs/6.0/6.0.0-classic/#!/api/Ext.util.Format-method-number&quot;&gt;documented&lt;/a&gt;. Let’s look at a simple example that will format that text correctly (least for my locale):&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s3q?height=200&quot; style=&quot;height:200px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;As you can see, it outputs ‘1,000,000’ and I can easily see what the actual value. Before formatting, it could have easily been 10,000,000 or 100,000 but now I know for sure it’s 1,000,000. Let’s look at usage in an &lt;code class=&quot;language-text&quot;&gt;Ext.XTemplate&lt;/code&gt;:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s3q?height=200&quot; style=&quot;height:200px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Ext JS making it simple! Let’s look at doing this in a grid, there’s three ways to do it. Here’s a grid with three columns that’s doing it the three different ways:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s3s?height=400&quot; style=&quot;height:400px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;The first column has a renderer that uses &lt;code class=&quot;language-text&quot;&gt;Ext.util.Format.number&lt;/code&gt; directly, nothing really wrong with this but we can simplify this version by using &lt;code class=&quot;language-text&quot;&gt;Ext.util.Format.numberRenderer&lt;/code&gt; as in the second column. What the &lt;code class=&quot;language-text&quot;&gt;numberRenderer&lt;/code&gt; method does is basically returns a function and within this function uses &lt;code class=&quot;language-text&quot;&gt;Ext.util.Format.number&lt;/code&gt; just like in the first column. In fact, it’s exactly the same thing, just a shorthand version. Those two are more for manual usage and backwards compatibility. The third column, for a grid, is the preferred way using &lt;code class=&quot;language-text&quot;&gt;Ext.grid.column.Number&lt;/code&gt; with a simple format config. Just like before, &lt;code class=&quot;language-text&quot;&gt;Ext.grid.column.Number&lt;/code&gt; just defines the &lt;code class=&quot;language-text&quot;&gt;renderer&lt;/code&gt; config for you and uses &lt;code class=&quot;language-text&quot;&gt;Ext.util.Format.number&lt;/code&gt; method just like in the first column.&lt;/p&gt;
&lt;p&gt;When should you use one over the other. &lt;code class=&quot;language-text&quot;&gt;Ext.grid.column.Number&lt;/code&gt; was introduced in Ext JS 4.0 so if you are using Ext JS 3 or older, of course you cannot use it then, maybe you should update! :) The benefit of using &lt;code class=&quot;language-text&quot;&gt;Ext.grid.column.Number&lt;/code&gt; is it sets up the &lt;code class=&quot;language-text&quot;&gt;updater&lt;/code&gt; method on the column which means potential faster grid cell updates. I still use the other two when I need to use a different column but still need to format the number. For example, &lt;code class=&quot;language-text&quot;&gt;Ext.tree.Panel&lt;/code&gt; is actually just a grid but with a special column to show the expand and node icons. That means you have to use &lt;code class=&quot;language-text&quot;&gt;Ext.tree.Column&lt;/code&gt; and cannot use the &lt;code class=&quot;language-text&quot;&gt;Ext.grid.column.Number&lt;/code&gt; so you have to use one of the manual ways, like this:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s3u?height=400&quot; style=&quot;height:400px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Here, we have to use the &lt;code class=&quot;language-text&quot;&gt;treecolumn&lt;/code&gt; so we can expand/collapse the Items node so we have to define the renderer. Since some &lt;code class=&quot;language-text&quot;&gt;text&lt;/code&gt; values may not be a number and therefore do not want to format them, I use a quick ternary to check if it’s a number then format it, otherwise return it.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Pluralize text]]></title><description><![CDATA[One of my gripes is when I see text that should be singular but shows plural when the value before it is one. It’s 2015, surely we can…]]></description><link>https://mitchellsimoens.com/2015/08/12/pluralize-text/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/08/12/pluralize-text/</guid><pubDate>Wed, 12 Aug 2015 16:21:03 GMT</pubDate><content:encoded>&lt;p&gt;One of my gripes is when I see text that should be singular but shows plural when the value before it is one. It’s 2015, surely we can detect when we should show singular there. Now admittedly, I’ve missed these opportunities but I do try to show the appropriate form of a word. So if you see &lt;code class=&quot;language-text&quot;&gt;1 items&lt;/code&gt; wrong! Should be &lt;code class=&quot;language-text&quot;&gt;1 item&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;3 items&lt;/code&gt;. I mean all that has to be done is a simple ternary expression:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s41?height=200&quot; style=&quot;height:200px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Done! So what does this have to do with Ext JS? Ext JS makes this a bit easier and has a function that you can call. That code there can be replaced with:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s40?height=200&quot; style=&quot;height:200px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;All the &lt;code class=&quot;language-text&quot;&gt;plural&lt;/code&gt; method does is adds the ‘s’ onto the term you pass but also prepends the value you pass in. The &lt;code class=&quot;language-text&quot;&gt;plural&lt;/code&gt; method doesn’t do too much magic in determining whether or not to add the ‘s’ so for words that need to be changed more than just adding the ‘s’ then you can pass the plural version as the third argument:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s42?height=200&quot; style=&quot;height:200px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Ok, so this isn’t really getting me much except a friendly API. Where I really love using this is in an &lt;code class=&quot;language-text&quot;&gt;XTemplate&lt;/code&gt;. Code like this:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s43?height=200&quot; style=&quot;height:200px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;can be replaced with this:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s44?height=200&quot; style=&quot;height:200px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Super clean! In a grouped grid, I use &lt;code class=&quot;language-text&quot;&gt;plural&lt;/code&gt; in the &lt;code class=&quot;language-text&quot;&gt;groupHeaderTpl&lt;/code&gt; and love how clean it is. Just for completeness, you can still pass the plural version too:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/s45?height=200&quot; style=&quot;height:200px;width:600px;border:0;&quot;&gt;&lt;/iframe&gt;</content:encoded></item><item><title><![CDATA[Instances on prototype are bad!]]></title><description><![CDATA[I’ve been seeing something a lot lately and I wanted to take a quick second to talk about it. This is creating instances and placing them on…]]></description><link>https://mitchellsimoens.com/2015/07/29/instances-on-prototype-are-bad/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/07/29/instances-on-prototype-are-bad/</guid><pubDate>Wed, 29 Jul 2015 16:56:03 GMT</pubDate><content:encoded>&lt;p&gt;I’ve been seeing something a lot lately and I wanted to take a quick second to talk about it. This is creating instances and placing them on the prototype and all the issues this can cause and it may not be obvious to the developer. Let’s take a look at such a case:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.Main&amp;#39;, {
    extend : &amp;#39;Ext.grid.Panel&amp;#39;,
    xtype  : &amp;#39;myapp-main&amp;#39;,

    requires : [
        &amp;#39;MyApp.store.Foo&amp;#39;,
        &amp;#39;MyApp.store.Bar&amp;#39;
    ],

    store : Ext.create(&amp;#39;MyApp.store.Foo&amp;#39;),

    columns : [
        {
            text      : &amp;#39;Foo&amp;#39;,
            dataIndex : &amp;#39;foo&amp;#39;,
            flex      : 1,
            editor    : new Ext.form.field.ComboBox({
                store : {
                    type : &amp;#39;myapp-bar&amp;#39;
                }
            })
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here, I am creating two store instances and placing them on the prototype; yes, this code does have missing bits to not have super long code. I use &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; to create an instance of the &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Foo&lt;/code&gt; class and using the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword to create a &lt;code class=&quot;language-text&quot;&gt;ComboBox&lt;/code&gt; instance as the editor of a column and in the &lt;code class=&quot;language-text&quot;&gt;ComboBox&lt;/code&gt; I specify the store using a config object that will use the &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Bar&lt;/code&gt; via it’s alias.&lt;/p&gt;
&lt;p&gt;Let’s first look at the &lt;code class=&quot;language-text&quot;&gt;store : Ext.create(&amp;#39;MyApp.store.Foo&amp;#39;),&lt;/code&gt; line and why it’s bad. Even though &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; is requiring &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Foo&lt;/code&gt;, which is proper, the &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; call will be executed by the browser right away before anything else happens, even before the &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; class is defined. This is because the browser evaluates the code in that file when the file is downloaded, all prototype members are evaluated to create the object literal being passed into the &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; call. This means the &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; call will be executed before the requires is even required. Therefor &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; will then synchronously load the &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Foo&lt;/code&gt; class and create an instance and place it on the &lt;code class=&quot;language-text&quot;&gt;store&lt;/code&gt; member of that object. This is bad for a couple reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The class is synchronously loaded and therefor affects startup performance&lt;/li&gt;
&lt;li&gt;You expect a new store class to be created for each &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; instance creation however all &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; instances will share the same &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Foo&lt;/code&gt; store instance because the instance is set onto the prototype. This means if you sort/filter one instance, any and all other instances of &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; will reflect that sort/filter even if the instance of &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; is created later. It’s sharing the store instance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To fix this part of the code, it should be using a config object:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;store : {
    type : &amp;#39;myapp-foo&amp;#39;
    //xclass : &amp;#39;MyApp.store.Foo&amp;#39; //or using xclass
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This way, each time an instance of &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; is created, a new instance of &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Foo&lt;/code&gt; is created. If you do want to share a store instance, I’d suggest adding the store to your application’s &lt;code class=&quot;language-text&quot;&gt;stores&lt;/code&gt; config and then setting the &lt;code class=&quot;language-text&quot;&gt;store&lt;/code&gt; config on &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; to the appropriate &lt;code class=&quot;language-text&quot;&gt;storeId&lt;/code&gt; your global store is given.&lt;/p&gt;
&lt;p&gt;Next, let’s look at the &lt;code class=&quot;language-text&quot;&gt;ComboBox&lt;/code&gt;. Let’s assume &lt;code class=&quot;language-text&quot;&gt;Ext.form.field.ComboBox&lt;/code&gt; has already been defined (otherwise you’d get a nice syntax error) the underlying issue is the same as with the &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; usage, the browser will try to create an instance of &lt;code class=&quot;language-text&quot;&gt;Ext.form.field.ComboBox&lt;/code&gt; which will then try to create an instance of the store before the &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; is ever defined which then means those two stores being required are not even requested to be required. You’ll then get a nice pretty error from Ext JS like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[Ext.createByAlias] Unrecognized alias: store.myapp-bar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This error is basically saying the &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Bar&lt;/code&gt; store has not been defined yet which is to be expected since the &lt;code class=&quot;language-text&quot;&gt;ComboBox&lt;/code&gt; is being instantiated before the store is ever required.&lt;/p&gt;
&lt;p&gt;To fix this part of the code, you simply use a config object for the &lt;code class=&quot;language-text&quot;&gt;ComboBox&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;        columns : [
        {
            text      : &amp;#39;Foo&amp;#39;,
            dataIndex : &amp;#39;foo&amp;#39;,
            flex      : 1,
            editor    : {
                xtype  : &amp;#39;combobox&amp;#39;,
                store  : {
                    type : &amp;#39;myapp-bar&amp;#39;
                }
            }
        }
    ]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, when the &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; is instantiated, when that &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; column is instantiated it will create an instance of the &lt;code class=&quot;language-text&quot;&gt;ComboBox&lt;/code&gt; properly.&lt;/p&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;I never create an instance and place it on the prototype. There are much better ways to have a global instance of something.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[List and the scrollDock config]]></title><description><![CDATA[With Ext JS 6 modern toolkit and Sencha Touch 2, you can have docked items on an  without wrapping the  in a  or  like this: Notice the…]]></description><link>https://mitchellsimoens.com/2015/07/24/list-scrolldock-config/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/07/24/list-scrolldock-config/</guid><pubDate>Fri, 24 Jul 2015 14:33:03 GMT</pubDate><content:encoded>&lt;p&gt;With &lt;a href=&quot;https://www.sencha.com/products/extjs/&quot;&gt;Ext JS 6&lt;/a&gt; modern toolkit and &lt;a href=&quot;https://www.sencha.com/products/touch/&quot;&gt;Sencha Touch 2&lt;/a&gt;, you can have docked items on an &lt;code class=&quot;language-text&quot;&gt;Ext.dataview.List&lt;/code&gt; without wrapping the &lt;code class=&quot;language-text&quot;&gt;List&lt;/code&gt; in a &lt;code class=&quot;language-text&quot;&gt;Container&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;Panel&lt;/code&gt; like this:&lt;/p&gt;
&lt;iframe style=&quot;border:0;width:600px;height:600px;&quot; src=&quot;https://fiddle.sencha.com/fiddle/r3a&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Notice the &lt;code class=&quot;language-text&quot;&gt;docked&lt;/code&gt; config on the toolbar and notice in the preview this adds the toolbar to the bottom of the list and does not take part in the scrolling of the list. What if you wanted to add a component to be beginning or end of the list and take part in the scrolling of the list? For this, Sencha Touch 2 has had the &lt;code class=&quot;language-text&quot;&gt;scrollDock&lt;/code&gt; config since 2.4.0 I believe, not sure exactly when this was first introduced and of course in the merge of Ext JS and Sencha Touch into Ext JS 6, this config still exists. You use it just like the &lt;code class=&quot;language-text&quot;&gt;docked&lt;/code&gt; config:&lt;/p&gt;
&lt;iframe style=&quot;border:0;width:600px;height:600px;&quot; src=&quot;https://fiddle.sencha.com/fiddle/r3b&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Now the toolbar isn’t just docked to the bottom but is at the end of the list and will scroll with the list.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ext JS Router Mixin!]]></title><description><![CDATA[Ever since I was able to implement a router into Ext JS (beginning with 5.0.0) it has been one of the best feature adds for application…]]></description><link>https://mitchellsimoens.com/2015/07/13/ext-js-router-mixin/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/07/13/ext-js-router-mixin/</guid><pubDate>Mon, 13 Jul 2015 15:56:03 GMT</pubDate><content:encoded>&lt;p&gt;Ever since I was able to implement a router into Ext JS (beginning with 5.0.0) it has been one of the best feature adds for application developers. It may not be flashy or spoken about a lot but it one of those missing features that should be a requirement for single page web applications. If you don’t have it in your Ext JS application, you should drop everything and implement it. :)&lt;/p&gt;
&lt;p&gt;Using it a lot myself and hearing of others using it, there are a few improvements to the Router to make it much better. It’s incredibly useful now, it can be much more useful. I’m currently rewriting the support portal (in internal testing currently) and Sencha Fiddle (almost ready for internal testing) and I’m testing some overrides for many of the improvements. One such improvement is implementing the listening of routes and the &lt;code class=&quot;language-text&quot;&gt;redirectTo&lt;/code&gt; method as a mixin so you can literally work with the Router in any class such as a utility singleton.&lt;/p&gt;
&lt;p&gt;All the router functionality is meant to work within a controller whether if be a global controller (extending &lt;code class=&quot;language-text&quot;&gt;Ext.app.Controller&lt;/code&gt;) or a view controller (extending &lt;code class=&quot;language-text&quot;&gt;Ext.app.ViewController&lt;/code&gt;) and since I wrote it I knew it was all implemented in the &lt;code class=&quot;language-text&quot;&gt;Ext.app.BaseController&lt;/code&gt;. So all I have to do is get the code from &lt;code class=&quot;language-text&quot;&gt;BaseController&lt;/code&gt; onto a mixin class and Ext JS has a method that makes this extremely easy. You’ll be surprised how easy this was:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Ext.app.route.Mixin&amp;#39;, {
    extend : &amp;#39;Ext.Mixin&amp;#39;,

    requires : [
        &amp;#39;Ext.app.BaseController&amp;#39;
    ],

    mixinConfig : {
        id : &amp;#39;route&amp;#39;
    },

    config : {
        routes : null
    }
}, function(Mixin) {
    Mixin.borrow(Ext.app.BaseController, [&amp;#39;redirectTo&amp;#39;, &amp;#39;updateRoutes&amp;#39;, &amp;#39;getBefore&amp;#39;, &amp;#39;isActive&amp;#39;]);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The important part here is the third argument I pass into &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; which is a callback method that gets called when the class I’m defining is defined. In this method, I use the &lt;a href=&quot;http://docs.sencha.com/extjs/6.0/6.0.0-classic/#!/api/Ext.Base-static-method-borrow&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;borrow&lt;/code&gt;&lt;/a&gt; method which will take an array of strings that are members (can be methods or properties) to take the 4 methods from &lt;code class=&quot;language-text&quot;&gt;BaseController&lt;/code&gt; and apply them onto my mixin class. Now, any class I mix in this mixin class, they will get those 4 methods and therefore will be able to use the router as if the class was a controller.&lt;/p&gt;
&lt;p&gt;Let’s look at how to then implement it. First, this class needs to be placed where it can be loaded. For this, since I use Sencha Cmd for all my apps, there is a way to include this without requiring it. Any class placed in the &lt;code class=&quot;language-text&quot;&gt;overrides&lt;/code&gt; directory will automatically be included regardless if it’s an override or not. So I place this class in the &lt;code class=&quot;language-text&quot;&gt;overrides/app/route/Mixin.js&lt;/code&gt; and after a &lt;code class=&quot;language-text&quot;&gt;sencha app watch&lt;/code&gt; (or a build or refresh) and this mixin will automatically be included in my app. I do this because when this gets implemented into the framework, I don’t have to look for any requires throughout my app, I can just remove the file.&lt;/p&gt;
&lt;p&gt;Next, we need to add the mixin into a class. For this I create a ViewRouter utility class for starters:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Fiddle.util.ViewRouter&amp;#39;, {
    singleton : true,

    mixins : [
        &amp;#39;Ext.app.route.Mixin&amp;#39;
    ],

    config : {
        routes : {
            &amp;#39;home&amp;#39;            : &amp;#39;onHome&amp;#39;,
            &amp;#39;view/:view:item&amp;#39; : {
                action     : &amp;#39;onView&amp;#39;,
                conditions : {
                    //make :item optional
                    &amp;#39;:item&amp;#39; : &amp;#39;(?:(?:/){1}([a-z]+))?&amp;#39;
                }
            }
        }
    },

    onHome : function() { /* */ },

    onView : function(view, item) { /* */ }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Just like you’d expect, you can listen for routes as if this singleton was a controller. You can also use &lt;code class=&quot;language-text&quot;&gt;this.redirectTo(&amp;#39;foo&amp;#39;)&lt;/code&gt; in this class to redirect the app to a hash also.&lt;/p&gt;
&lt;h1&gt;Disclaimer&lt;/h1&gt;
&lt;p&gt;Writing about this here makes no promise of it actually being implemented into Ext JS. I do want to but do not make any promise of if or when. If implemented, this will be 100% backwards compatible with Ext JS 5 and 6 applications where you would be handling the routes within a controller.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Saving hierarchical data in MySQL with Node.js]]></title><description><![CDATA[I have a need that I’ve solved before but have never been happy with my solutions. So today I decided to give it another go. It’s taking…]]></description><link>https://mitchellsimoens.com/2015/07/03/saving-hierarchal-data-in-mysql-with-node-js/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/07/03/saving-hierarchal-data-in-mysql-with-node-js/</guid><pubDate>Fri, 03 Jul 2015 13:13:03 GMT</pubDate><content:encoded>&lt;p&gt;I have a need that I’ve solved before but have never been happy with my solutions. So today I decided to give it another go. It’s taking hierarchical data (tree data) and saving it into a MySQL database. Searching around, there wasn’t a solution that I liked. Some were SQL only but didn’t seem to fit how I am presented with data. Some were using server-side frameworks, however, I’m not using any.&lt;/p&gt;
&lt;h3&gt;Server Overview&lt;/h3&gt;
&lt;p&gt;When I said I’m not using any server-side framework it’s not 100% true. I am using &lt;a href=&quot;http://expressjs.com/&quot;&gt;ExpressJS&lt;/a&gt; which is a framework but not in the sense of a framework that manages data; it’s much more of a framework around creating a server. There isn’t an MVC aspect of it. I’ve built my own framework to be custom to the projects I own within &lt;a href=&quot;https://www.sencha.com/&quot;&gt;Sencha&lt;/a&gt; and I name it node-sencha (not on npm currently) and reflects the API of Ext JS. So I basically have a pretty bare bones setup that I’ve built on top. For communication with my MySQL databases I use the &lt;a href=&quot;https://www.npmjs.com/package/mysql&quot;&gt;mysql&lt;/a&gt; module. I feel using ExpressJS and mysql module is a very common setup so I won’t go into it more than just that. Technically, the mysql module isn’t required for this but it’s serving as an important piece on how I construct the SQL queries.&lt;/p&gt;
&lt;h3&gt;Pre-Thoughts&lt;/h3&gt;
&lt;p&gt;I’ve seen some solutions that had some pros and cons and some of the cons were that it was very expensive. I control both the client (which is Ext JS) and the server so I can do things any way I want (some would be jealous, some would be scared :) ). Starting off I decided to go ahead and send the full tree when saving regardless of if the nodes had been changed or not. This is great for its total ease but something I’ll definitely have to revisit at a later time to better the performance and not have unneeded queries.&lt;/p&gt;
&lt;p&gt;For saving tree data you need to deal with creating, updating and deleting nodes. Since I’m going to have the full tree, this will be easy to do all three actions in a single MySQL transaction. The only hard part is dealing with the parent-to-child relationship where the parent may or may not already exist.&lt;/p&gt;
&lt;h3&gt;Ext JS&lt;/h3&gt;
&lt;p&gt;When using &lt;code class=&quot;language-text&quot;&gt;Ext.data.TreeStore&lt;/code&gt; and the related classes, Ext JS will create IDs for each node that you create on the client. I can use this to determine if the node passed to the server is a phantom (does not exist in the db) or not. Ext JS does set the &lt;code class=&quot;language-text&quot;&gt;phantom&lt;/code&gt; property on the model but using the ID is a single way to handle create vs update. The data I send back to the server is like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
    {
        &amp;quot;id&amp;quot;       : &amp;quot;Model-1&amp;quot;,
        &amp;quot;text&amp;quot;     : &amp;quot;Parent 1.1&amp;quot;,
        &amp;quot;children&amp;quot; : [
            {
                &amp;quot;id&amp;quot;   : &amp;quot;Model-3&amp;quot;,
                &amp;quot;text&amp;quot; : &amp;quot;Leaf 1.1&amp;quot;
            }
        ]
    },
    {
        &amp;quot;id&amp;quot;       : &amp;quot;Model-2&amp;quot;,
        &amp;quot;text&amp;quot;     : &amp;quot;Parent 1.2&amp;quot;,
        &amp;quot;children&amp;quot; : [
            {
                &amp;quot;id&amp;quot;   : &amp;quot;Model-4&amp;quot;,
                &amp;quot;text&amp;quot; : &amp;quot;Leaf 1.2&amp;quot;
            }
        ]
    }
]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Each node is an Object in the JSON and each node can have a &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt; property and can nest as many children. If we look at the &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; property, it’s in a format that has the Ext JS model’s class name and an auto-incremented number joined by a hyphen. This is Ext JS creating a client side ID for a phantom record. In the database, I expect only integers for IDs so if it’s a string and has a hyphen, chances are it’s a phantom. Right there is how I determine if the node needs to be created or updated. In the database I also have a &lt;code class=&quot;language-text&quot;&gt;parentid&lt;/code&gt; field in the table so that a child can relate to its parent. You can see there is no &lt;code class=&quot;language-text&quot;&gt;parentid&lt;/code&gt; because on the server I can just get it from when I iterate through things. The trick there is to determine if the parent is phantom or not and getting the ID when the parent is being created.&lt;/p&gt;
&lt;h3&gt;Server Stuff&lt;/h3&gt;
&lt;p&gt;On the server, I pass the data to a &lt;code class=&quot;language-text&quot;&gt;Tree&lt;/code&gt; function and execute the &lt;code class=&quot;language-text&quot;&gt;save&lt;/code&gt; method on it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var Tree = require(&amp;#39;./Tree&amp;#39;);

new Tree(data).save(function() { /* */ });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the &lt;code class=&quot;language-text&quot;&gt;Tree.js&lt;/code&gt; file, I start with code like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var mysql       = require(&amp;#39;mysql&amp;#39;),
    phantomIdRe = /-/g;

function Tree(data) {
    this.data    = data;
    this.sqls    = [];
    this.inserts = [];
    this.vars    = {};
    this.realIds = [];

    return this;
}

Tree.prototype.isArray = function(value) {
    return Object.prototype.toString.call(value) === &amp;#39;[object Array]&amp;#39;;
};

Tree.prototype.isIdPhantom = function(id) {
    return typeof id === &amp;#39;string&amp;#39; &amp;amp;&amp;amp; id.indexOf(&amp;#39;-&amp;#39;) &amp;gt; -1;
};

Tree.prototype.parsePhantomId = function(id) {
    return id.replace(phantomIdRe, &amp;#39;_&amp;#39;);
};

Tree.prototype.save = function(callback) {
    var data    = this.data,
        sqls    = this.sqls,
        inserts = this.inserts,
        tree;

    this.parseChildren(data);

    if (this.realIds &amp;amp;&amp;amp; this.realIds.length) {
        //delete any nodes that were not passed
        sqls.unshift(&amp;#39;DELETE FROM my_table WHERE id NOT IN(?);&amp;#39;);
        inserts.unshift(this.realIds);
    }

    //execute the sqls
    console.log(mysql.format(sqls.join(&amp;#39;&amp;#39;), inserts));

    callback();
};

module.exports = Tree;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nothing special so far, the &lt;code class=&quot;language-text&quot;&gt;isIdPhantom&lt;/code&gt; function will do the checking if the id has a hyphen. The &lt;code class=&quot;language-text&quot;&gt;parsePhantomId&lt;/code&gt; will replace hyphens with underscores, more about that later. The &lt;code class=&quot;language-text&quot;&gt;save&lt;/code&gt; method is what really kicks things off. It first executes the &lt;code class=&quot;language-text&quot;&gt;parseChildren&lt;/code&gt; method which allows for recursion:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Tree.prototype.parseChildren = function(children, parent) {
    if (!this.isArray(children)) {
        children = children.children;
    }

    var i        = 0,
        length   = children.length,
        parentid = parent &amp;amp;&amp;amp; parent.id,
        node;

    if (length) {
        for (; i &amp;lt; length; i++) {
            node = children[i];

            this.parseNode(node, parentid);

            if (node.children) {
                this.parseChildren(node.children, node);
            }
        }
    }
};&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The important part here is it’ll call &lt;code class=&quot;language-text&quot;&gt;parseChildren&lt;/code&gt; if the current node has any children but also the new &lt;code class=&quot;language-text&quot;&gt;parseNode&lt;/code&gt; method which does the real “magic”. Hope I’m not loosing you yet, here’s &lt;code class=&quot;language-text&quot;&gt;parseNode&lt;/code&gt; and it’s a little long:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Tree.prototype.parseNode = function(node, parentid) {
    var sqls    = this.sqls,
        inserts = this.inserts,
        vars    = this.vars,
        id      = node.id,
        parentVar;

    if (parentid) {
        if (this.isIdPhantom(parentid)) {
            parentVar = vars[parentid];

            if (!parentVar) {
                //no variable means it wasn&amp;#39;t a phantom
                parentVar = &amp;#39;?&amp;#39;;
                inserts.push(parentid);
            }
        } else {
            //wasn&amp;#39;t a phantom
            parentVar = &amp;#39;?&amp;#39;;
            inserts.push(parentid);
        }
    } else {
        //is a root child node
        parentVar = &amp;#39;?&amp;#39;;
        inserts.push(null);
    }

    if (this.isIdPhantom(id)) {
        sqls.push(&amp;#39;INSERT INTO my_table (`parentid`, `text`) VALUES (&amp;#39; + parentVar + &amp;#39;, ?);&amp;#39;);

        inserts.push(
            node.text
        );

        if (node.children) {
            id = this.parsePhantomId(id);

            //create the mapping of the phantom id to the SQL variable
            vars[node.id] = &amp;#39;@&amp;#39; + id;

            //use SET query to set the variable to the last inserted id
            sqls.push(&amp;#39;SET @&amp;#39; + id + &amp;#39; = LAST_INSERT_ID();&amp;#39;);
        }
    } else {
        this.realIds.push(id);

        sqls.push(&amp;#39;UPDATE my_table SET `parentid` = &amp;#39; + parentVar + &amp;#39;, `text` = ?  WHERE id = ?;&amp;#39;);

        inserts.push(
            node.text,
            id
        );
    }
};&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So let’s take this slowly. First, we have to check if the &lt;code class=&quot;language-text&quot;&gt;parentid&lt;/code&gt; exists for the sake of if the node has a parent or if it’s a root child. This is also where we check if the parent is being created or updated. This also exposes the trick of handling create vs update, I use SQL variables. We’ll talk about that more in a bit. If the parent wasn’t a phantom (it already exists in the db) then we can set the &lt;code class=&quot;language-text&quot;&gt;parentVar&lt;/code&gt; variable to the &lt;code class=&quot;language-text&quot;&gt;?&lt;/code&gt; so that the mysql module can insert the parent’s id into the ending SQL query. If the parent is a phantom, then we are going to use the assigned SQL query for the parent node.&lt;/p&gt;
&lt;p&gt;Next, we handle the current node. We first check if the node’s &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; designates it as a phantom or not. If it does then we add the INSERT SQL query to the array of queries but we use that &lt;code class=&quot;language-text&quot;&gt;parentVar&lt;/code&gt; that is either &lt;code class=&quot;language-text&quot;&gt;?&lt;/code&gt; or the SQL variable. If the node has children, then we need to assign that node a SQL safe variable (using the &lt;code class=&quot;language-text&quot;&gt;parsePhantomId&lt;/code&gt; method that replaces hyphens with underscores), cache that SQL variable to the &lt;code class=&quot;language-text&quot;&gt;vars&lt;/code&gt; Object for lookup in child nodes and then add the SET SQL query that will set the SQL variable to the last insert id from the last INSERT query. So now we see something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;INSERT INTO my_table (`parentid`, `text`) VALUES (?, ?);
SET @Model_1 = LAST_INSERT_ID();
INSERT INTO my_table (`parentid`, `text`) VALUES (@Model_1, ?);
SET @Model_3 = LAST_INSERT_ID();
INSERT INTO my_table (`parentid`, `text`) VALUES (@Model_3, ?);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So now you can start to understand what I’m building. Using SQL variables to cache that real last insert id in the db will allow the whole tree data to be saved to the db in a single transaction. Of course if the node already exists I use an UPDATE instead of an INSERT and of course I don’t need to set a SQL variable since the parent exists. So I could have something like this if the first node existed:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;UPDATE my_table SET `parentid` = ?, `text` = ? WHERE id = ?;
INSERT INTO my_table (`parentid`, `text`) VALUES (@Model_1, ?);
SET @Model_3 = LAST_INSERT_ID();
INSERT INTO my_table (`parentid`, `text`) VALUES (@Model_3, ?);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However with a node that already exists, I do cache the real id to the &lt;code class=&quot;language-text&quot;&gt;realIds&lt;/code&gt; array so that I can delete all existing nodes that do not match those IDs since I expect the entire tree data to be sent back to the server.&lt;/p&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;I hope I didn’t loose you, it can be hard to blog about something like this and not just dump a bunch of code on you. I wanted to show that with a single flat array of SQL queries you can save a hierarchical tree structured data in a way where it can account for if the node and its parent are already existing in the database or not with the use of SQL variables. I’m really enjoying the actual simplicity of this and is thus far really working well. Like I said at the start, I am sending the entire data tree back which isn’t optimal but for a start is perfect. I’d have to deal with deletes and specifying the parent’s id on the client with the nodes being sent to the server to help with the relationship.&lt;/p&gt;
&lt;p&gt;Just in case the broken up code is a bit hard to follow, here is the &lt;code class=&quot;language-text&quot;&gt;Tree.js&lt;/code&gt; file I have:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var mysql       = require(&amp;#39;mysql&amp;#39;),
    phantomIdRe = /-/g;

function Tree(data) {
    this.data    = data;
    this.sqls    = [];
    this.inserts = [];
    this.vars    = {};
    this.realIds = [];

    return this;
}

Tree.prototype.isArray = function(value) {
    return Object.prototype.toString.call(value) === &amp;#39;[object Array]&amp;#39;;
};

Tree.prototype.isIdPhantom = function(id) {
    return typeof id === &amp;#39;string&amp;#39; &amp;amp;&amp;amp; id.indexOf(&amp;#39;-&amp;#39;) &amp;gt; -1;
};

Tree.prototype.parsePhantomId = function(id) {
    return id.replace(phantomIdRe, &amp;#39;_&amp;#39;);
};

Tree.prototype.save = function(callback) {
    var data    = this.data,
        sqls    = this.sqls,
        inserts = this.inserts,
        tree;

    this.parseChildren(data);

    if (this.realIds &amp;amp;&amp;amp; this.realIds.length) {
        sqls.unshift(&amp;#39;DELETE FROM my_table WHERE id NOT IN(?);&amp;#39;);
        inserts.unshift(this.realIds);
    }

    //execute the sqls
    console.log(mysql.format(sqls.join(&amp;#39;&amp;#39;), inserts));

    callback();
};

Tree.prototype.parseChildren = function(children, parent) {
    if (!this.isArray(children)) {
        children = children.children;
    }

    var i        = 0,
        length   = children.length,
        parentid = parent &amp;amp;&amp;amp; parent.id,
        node;

    if (length) {
        for (; i &amp;lt; length; i++) {
            node = children[i];

            this.parseNode(node, parentid);

            if (node.children) {
                this.parseChildren(node.children, node);
            }
        }
    }
};

Tree.prototype.parseNode = function(node, parentid) {
    var sqls    = this.sqls,
        inserts = this.inserts,
        vars    = this.vars,
        id      = node.id,
        parentVar;

    if (parentid) {
        if (this.isIdPhantom(parentid)) {
            parentVar = vars[parentid];

            if (!parentVar) {
                //no variable means it wasn&amp;#39;t a phantom
                parentVar = &amp;#39;?&amp;#39;;
                inserts.push(parentid);
            }
        } else {
            //wasn&amp;#39;t a phantom
            parentVar = &amp;#39;?&amp;#39;;
            inserts.push(parentid);
        }
    } else {
        //is a root child node
        parentVar = &amp;#39;?&amp;#39;;
        inserts.push(null);
    }

    if (this.isIdPhantom(id)) {
        sqls.push(&amp;#39;INSERT INTO my_table (`parentid`, `text`) VALUES (&amp;#39; + parentVar + &amp;#39;, ?);&amp;#39;);

        inserts.push(
            node.text
        );

        if (node.children) {
            id = this.parsePhantomId(id);

            //create the mapping of the phantom id to the SQL variable
            vars[node.id] = &amp;#39;@&amp;#39; + id;

            //use SET query to set the variable to the last inserted id
            sqls.push(&amp;#39;SET @&amp;#39; + id + &amp;#39; = LAST_INSERT_ID();&amp;#39;);
        }
    } else {
        this.realIds.push(id);

        sqls.push(&amp;#39;UPDATE my_table SET `parentid` = &amp;#39; + parentVar + &amp;#39;, `text` = ? WHERE id = ?;&amp;#39;);

        inserts.push(
            node.text,
            id
        );
    }
};

module.exports = Tree;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Handling user session with routes]]></title><description><![CDATA[I’d like to first state that there are literally thousands of ways to handle this and is dependent on how you handle user sessions within…]]></description><link>https://mitchellsimoens.com/2015/07/02/handling-user-session-with-routes/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/07/02/handling-user-session-with-routes/</guid><pubDate>Thu, 02 Jul 2015 20:38:03 GMT</pubDate><content:encoded>&lt;p&gt;I’d like to first state that there are literally thousands of ways to handle this and is dependent on how you handle user sessions within your application.&lt;/p&gt;
&lt;h3&gt;Simple Beginnings&lt;/h3&gt;
&lt;p&gt;In almost every Ext JS application I’ve built I’ve had to deal with user sessions. Most apps require login before entering the application (like the &lt;a href=&quot;https://support.sencha.com&quot;&gt;support portal&lt;/a&gt;, new one on the way too!), some allow you to use parts of the app without a login (like &lt;a href=&quot;https://fiddle.sencha.com&quot;&gt;Sencha Fiddle&lt;/a&gt;, new on on the way too!). At the start of the application I check to see if there is an active user session from the server. I personally use Ext.Direct to do this but I’ll stick with a plain &lt;code class=&quot;language-text&quot;&gt;Ext.Ajax&lt;/code&gt; request:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.Ajax.request({
    url     : &amp;#39;/session&amp;#39;,
    failure : function() {},
    success : function(response) {
        MyApp.user = Ext.decode(response.responseText);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This code is simplified and not complete but what’s happening is when the request succeeds decode the JSON and set it to the &lt;code class=&quot;language-text&quot;&gt;user&lt;/code&gt; property on the &lt;code class=&quot;language-text&quot;&gt;MyApp&lt;/code&gt; namespace. If the request fails (returning a 403 for example), there is no session. I’ll state again, this code is simplified and not complete, just showing an example and saving it to &lt;code class=&quot;language-text&quot;&gt;MyApp.user&lt;/code&gt; for ease of retrieval. (and yes, you can use promises with Ext JS 6 instead of callbacks but that has nothing to do with this)&lt;/p&gt;
&lt;p&gt;When an application starts, it may have a hash in the URI and therefore Ext JS is going to take action on it. This will likely be before the above &lt;code class=&quot;language-text&quot;&gt;Ext.Ajax.request&lt;/code&gt; is finished which would cause an issue. If the user is already logged in, then the route may be ok to execute but if there is no session, you need to prevent the route from executing and redirect them to the login. For this, I use the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; config on my routes and check &lt;code class=&quot;language-text&quot;&gt;MyApp.app&lt;/code&gt; and take appropriate action. Here is a simple controller to show this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.MainController&amp;#39;, {
    extend : &amp;#39;Ext.app.ViewController&amp;#39;,
    alias  : &amp;#39;controller.myapp-main&amp;#39;,

    routes : {
        &amp;#39;user&amp;#39; : {
            before : &amp;#39;checkSession&amp;#39;,
            action : &amp;#39;showUser&amp;#39;
        }
    },

    checkSession : function() {
        var args   = Ext.Array.slice(arguments),
            action = args[args.length - 1];

        if (MyApp.user) {
            action.resume();
        } else {
            action.stop();

            this.redirectTo(&amp;#39;login&amp;#39;);
        }
    },

    showUser : function() {}
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Inspecting this controller, we have a single route with the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; configs. In the before, we get the action argument (it’ll always be the last argument but some routes may have many arguments), check if &lt;code class=&quot;language-text&quot;&gt;MyApp.user&lt;/code&gt; exists and if so then resume the action. If it’s not, we stop it and then redirect the app to the &lt;code class=&quot;language-text&quot;&gt;#login&lt;/code&gt; hash.&lt;/p&gt;
&lt;p&gt;So now, the &lt;code class=&quot;language-text&quot;&gt;user&lt;/code&gt; route requires a user session. If you have a route that doesn’t require a user session, you can simply remove not have the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; config and it will execute regardless of the &lt;code class=&quot;language-text&quot;&gt;checkSession&lt;/code&gt; method.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Side Note:&lt;/strong&gt; Each action would need to have the &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; config. We do have some feature requests to help in this area to have a single before action that will execute for all routes.&lt;/p&gt;
&lt;h3&gt;More Advanced&lt;/h3&gt;
&lt;p&gt;That’s great but a keen mind will understand that if the &lt;code class=&quot;language-text&quot;&gt;Ext.Ajax.request&lt;/code&gt; finishes after the &lt;code class=&quot;language-text&quot;&gt;checkSession&lt;/code&gt; method executes from an initial route execution, the action will be stopped regardless if that user session check was successful. Not good. For this I set a property signifying the app is ready and fire an event on the application instance. This way the &lt;code class=&quot;language-text&quot;&gt;checkSession&lt;/code&gt; method can tell if the app is actually ready to handle things. First, let’s look at how the &lt;code class=&quot;language-text&quot;&gt;Ext.Ajax.request&lt;/code&gt; would be changed to do this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;launch : function() {
    Ext.Ajax.request({
        url     : &amp;#39;/session&amp;#39;,
        scope   : this,
        failure : function() {
            this.onUser();
        },
        success : function(response) {
            this.onUser(
                MyApp.user = Ext.decode(response.responseText);
            );
        }
    });
},

onUser : function(user) {
    this.appready = true;
    this.fireEvent(&amp;#39;appready&amp;#39;, this, user);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This would be code you can have in your &lt;code class=&quot;language-text&quot;&gt;app/Application.js&lt;/code&gt;. In the &lt;code class=&quot;language-text&quot;&gt;failure&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;success&lt;/code&gt; callbacks, I execute the &lt;code class=&quot;language-text&quot;&gt;onUser&lt;/code&gt; method. In this method, I set the &lt;code class=&quot;language-text&quot;&gt;appready&lt;/code&gt; property to &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; so anything can check &lt;code class=&quot;language-text&quot;&gt;MyApp.app.appready&lt;/code&gt; to see if it’s ready. Along with the property, the application also will fire the &lt;code class=&quot;language-text&quot;&gt;appready&lt;/code&gt; event passing the application (it’s a convention to pass the class firing the event as the first parameter) and the user if one was set. So now we can react to both the property and event in our &lt;code class=&quot;language-text&quot;&gt;before&lt;/code&gt; action:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;checkSession : function() {
    var me     = this,
        args   = Ext.Array.slice(arguments),
        action = args[args.length - 1],
        app    = MyApp.app;

    if (app.appready) {
        if (MyApp.user) {
            action.resume();
        } else {
            action.stop();

            me.redirectTo(&amp;#39;login&amp;#39;);
        }
    } else {
        app.on(
            &amp;#39;appready&amp;#39;,
            Ext.Function.bind(me.checkSession, me, args),
            me,
            { single : true }
        );
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this new &lt;code class=&quot;language-text&quot;&gt;checkSession&lt;/code&gt; method I do a few things. First I set an &lt;code class=&quot;language-text&quot;&gt;app&lt;/code&gt; variable to &lt;code class=&quot;language-text&quot;&gt;MyApp.app&lt;/code&gt;, this is your application instance where we set the &lt;code class=&quot;language-text&quot;&gt;appready&lt;/code&gt; property. If the &lt;code class=&quot;language-text&quot;&gt;appready&lt;/code&gt; property is &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; then we know the user session check has already happened and therefore we can check the &lt;code class=&quot;language-text&quot;&gt;user&lt;/code&gt; property and resume/stop the action. If the &lt;code class=&quot;language-text&quot;&gt;appready&lt;/code&gt; property is &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt; then we need to add a listener to the &lt;code class=&quot;language-text&quot;&gt;appready&lt;/code&gt; event. The reason I use &lt;code class=&quot;language-text&quot;&gt;Ext.Function.bind&lt;/code&gt; is because I need to control what arguments are passed when the event is fired so that the &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; argument is the last argument. With this function binding, I know the arguments will be the same as when it originally was executed. And lastly I make sure that when the event is first listened to it will remove itself with the &lt;code class=&quot;language-text&quot;&gt;single&lt;/code&gt; event option.&lt;/p&gt;
&lt;p&gt;So now if the &lt;code class=&quot;language-text&quot;&gt;MyApp.app.appready&lt;/code&gt; property is &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;, the user session request is still happening. When that request finishes, successful or not, the &lt;code class=&quot;language-text&quot;&gt;checkSession&lt;/code&gt; method listen for the &lt;code class=&quot;language-text&quot;&gt;appready&lt;/code&gt; event to fire signifying the user session was completed.&lt;/p&gt;
&lt;h3&gt;Even More Advanced&lt;/h3&gt;
&lt;p&gt;To go a step further, I often have to deal with different user types like normal user and admin. Admins should have access to certain parts of the application a user should not and therefore we need to stop a user trying to gain access. For this, I have a separate method that will look like &lt;code class=&quot;language-text&quot;&gt;checkSession&lt;/code&gt; but will check what kind of user is present:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;checkIsAdmin : function() {
    var me     = this,
        args   = Ext.Array.slice(arguments),
        action = args[args.length - 1],
        app    = MyApp.app;

    if (app.appready) {
        if (MyApp.user) {
            if (MyApp.user.user_type === &amp;#39;admin&amp;#39;) {
                action.resume();
            } else {
                action.stop();

                me.redirectTo(&amp;#39;home&amp;#39;);
            }
        } else {
            action.stop();

            me.redirectTo(&amp;#39;login&amp;#39;);
        }
    } else {
        app.on(
            &amp;#39;appready&amp;#39;,
            Ext.Function.bind(me.checkSession, me, args),
            me,
            { single : true }
        );
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this before action the difference is within the first conditional. If &lt;code class=&quot;language-text&quot;&gt;MyApp.user&lt;/code&gt; is &lt;code class=&quot;language-text&quot;&gt;truthy&lt;/code&gt; then we need to check the type of user. If the user is an admin, resume the action. If not, stop the action and send the user back to &lt;code class=&quot;language-text&quot;&gt;#home&lt;/code&gt;. Now, to not have duplicate code you can have a shared method:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;handleSessionCheck : function(beAdmin, args) {
    args = Ext.Array.slice(args);

    var me     = this,
        action = args[args.length - 1],
        app    = MyApp.app;

    if (app.appready) {
        if (MyApp.user) {
            if (!beAdmin || MyApp.user.user_type === &amp;#39;admin&amp;#39;) {
                action.resume();
            } else {
                action.stop();

                me.redirectTo(&amp;#39;home&amp;#39;);
            }
        } else {
            action.stop();

            me.redirectTo(&amp;#39;login&amp;#39;);
        }
    } else {
        app.on(
            &amp;#39;appready&amp;#39;,
            Ext.Function.bind(me.handleSessionCheck, me, [beAdmin, args]),
            me,
            { single : true }
        );
    }
},

checkSession : function() {
    this.handleSessionCheck(false, arguments);
},

checkIsAdmin : function() {
    this.handleSessionCheck(true, arguments);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, &lt;code class=&quot;language-text&quot;&gt;checkSession&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;checkIsAdmin&lt;/code&gt; both simply execute the &lt;code class=&quot;language-text&quot;&gt;handleSessionCheck&lt;/code&gt; method but pass whether or not the user is required to be an admin and the arguments. &lt;code class=&quot;language-text&quot;&gt;handleSessionCheck&lt;/code&gt; looks very similar to the old &lt;code class=&quot;language-text&quot;&gt;checkIsAdmin&lt;/code&gt; method except for a couple different changes. First is the conditional check the user type, it first checks if &lt;code class=&quot;language-text&quot;&gt;beAdmin&lt;/code&gt; is falsey, if so then it will allow the route to be resumed other wise it’ll check if the user is an admin. The other change is to the &lt;code class=&quot;language-text&quot;&gt;Ext.Function.bind&lt;/code&gt; in the &lt;code class=&quot;language-text&quot;&gt;appready&lt;/code&gt; event listener. I changed the function being bound and also the third argument is now an array of the &lt;code class=&quot;language-text&quot;&gt;handleSessionCheck&lt;/code&gt; arguments. This allows code reuse in a dynamic fashion which is good!&lt;/p&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;Being able to handle user sessions with routes really isn’t hard but there isn’t a decent example that I’ve seen. The code snippets I provided are simplified but should show the techniques I employ in my Ext JS application.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Delaying launch for stores to load]]></title><description><![CDATA[A common request I hear from many people is how to delay the application’s  method from being executed. First, let’s investigate the problem…]]></description><link>https://mitchellsimoens.com/2015/07/02/delaying-launch-for-stores-to-load/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/07/02/delaying-launch-for-stores-to-load/</guid><pubDate>Thu, 02 Jul 2015 13:07:03 GMT</pubDate><content:encoded>&lt;p&gt;A common request I hear from many people is how to delay the application’s &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method from being executed. First, let’s investigate the problem. Say you have a normal &lt;code class=&quot;language-text&quot;&gt;app/Application.js&lt;/code&gt; that looks like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Fiddle.Application&amp;#39;, {
    extend : &amp;#39;Ext.app.Application&amp;#39;,

    name : &amp;#39;Fiddle&amp;#39;,

    stores : [
        &amp;#39;Store1&amp;#39;,
        &amp;#39;Store2&amp;#39;,
        &amp;#39;Store3&amp;#39;
    ],

    launch : function() {
        var store1 = Ext.getStore(&amp;#39;Store1&amp;#39;),
            store2 = Ext.getStore(&amp;#39;Store2&amp;#39;),
            store3 = Ext.getStore(&amp;#39;Store3&amp;#39;);

        console.log(&amp;#39;store1 isLoaded&amp;#39;, store1.isLoaded());
        console.log(&amp;#39;store2 isLoaded&amp;#39;, store2.isLoaded());
        console.log(&amp;#39;store3 isLoaded&amp;#39;, store3.isLoaded());

        Ext.Msg.alert(&amp;#39;Fiddle&amp;#39;, &amp;#39;All stores are loaded!&amp;#39;);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method you have some code that depends on the stores being loaded. Ok, this example just has some &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;s so use your imagination some. I could add logic to the launch method and execute some other method on this class sure but there may be a more elegant way. If you were to run this right now, your &lt;code class=&quot;language-text&quot;&gt;Ext.Msg.alert&lt;/code&gt; would happen but all the &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;s would show &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt; for the &lt;code class=&quot;language-text&quot;&gt;isLoaded&lt;/code&gt; method calls because the load hasn’t happened yet. So what we need to do is add &lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt; listeners to the stores and only execute the &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method when all stores have loaded.&lt;/p&gt;
&lt;p&gt;What I like to do is keep &lt;code class=&quot;language-text&quot;&gt;app/Application.js&lt;/code&gt; looking like it is and create an override on the &lt;code class=&quot;language-text&quot;&gt;Ext.app.Application&lt;/code&gt; class. What this override will do is change the &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method so that we can check if the stores have loaded. When they have all loaded, then execute the original &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method.&lt;/p&gt;
&lt;p&gt;Let’s take a look at a &lt;a href=&quot;https://fiddle.sencha.com&quot;&gt;Sencha Fiddle&lt;/a&gt; as an example:&lt;/p&gt;
&lt;iframe style=&quot;border:0;width:600px;height:600px;&quot; src=&quot;https://fiddle.sencha.com/fiddle/pq4&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Looking at the different files, we have the 3 stores defined. &lt;code class=&quot;language-text&quot;&gt;Store1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Store3&lt;/code&gt; have &lt;code class=&quot;language-text&quot;&gt;autoLoad&lt;/code&gt; set to &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; but &lt;code class=&quot;language-text&quot;&gt;Store2&lt;/code&gt; does not so we only need to wait for &lt;code class=&quot;language-text&quot;&gt;Store1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Store3&lt;/code&gt; to load.&lt;/p&gt;
&lt;p&gt;If you want, you can take a peak at &lt;code class=&quot;language-text&quot;&gt;overrides/app/Application.js&lt;/code&gt; to see how I take control of the &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method. Here’s a rundown. The &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method gets transformed in the cleverly named &lt;code class=&quot;language-text&quot;&gt;transformLaunch&lt;/code&gt; method into a function that checks if all stores are loaded. The other method that is important is the &lt;code class=&quot;language-text&quot;&gt;isStoreLoaded&lt;/code&gt; method, this is important because this tells the override if the store has loaded in order to add the &lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt; listener and to tell if all stores have loaded. You may need to add additional logic dependent on your application’s situation. If you need to modify that logic, I like to keep the override like it is and add that logic into my &lt;code class=&quot;language-text&quot;&gt;app/Application.js&lt;/code&gt; class so the logic is upfront in the app.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The death of major versions?]]></title><description><![CDATA[<rant> I for one, love updating an app and seeing a new major version released. It’s like Christmas morning, what new goodies am I gonna get…]]></description><link>https://mitchellsimoens.com/2015/06/30/the-death-of-major-versions/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/06/30/the-death-of-major-versions/</guid><pubDate>Tue, 30 Jun 2015 16:34:03 GMT</pubDate><content:encoded>&lt;p&gt;&amp;#x3C;rant&gt;&lt;/p&gt;
&lt;p&gt;I for one, love updating an app and seeing a new major version released. It’s like Christmas morning, what new goodies am I gonna get to enjoy?! In the case of some apps like Chrome and Firefox, a new major version may just be some bug fixes… (sadpanda)&lt;/p&gt;
&lt;p&gt;Don’t get me wrong, I love that Chrome and Firefox are being agile and releasing often on a schedule but why change the major version if nothing is big enough to dictate a new major version. To me, a new major version should have a few big new features or enough rewrite under the hood to deserve such a version. Why not use a dot release so instead of Chrome 43 it’d be something like Chrome 4.27 or something like that? So when Chrome 5 comes out, you know there was something major has happened.&lt;/p&gt;
&lt;p&gt;If I created a browser extension that relies on some feature but that feature was added in… crap, what version again? Oh, Chrome 243. Ok cool… Knowing that Chrome 6 added the feature is a lot easier to remember.&lt;/p&gt;
&lt;p&gt;Small potatoes huh? Yes and no. Yes, knowing something changed in version 6 versus 243 is just a different number but maybe version 6 brought many changes whereas version 174, 243 and 257 brought the changes so now you can only target 257+. What if version 6 replaced V8 with something new? That should definitely be a new major version that is distinguishable right? Nah, it’s version whatever.&lt;/p&gt;
&lt;p&gt;Man, I woke up on the nitpicking side of the bed today.&lt;/p&gt;
&lt;p&gt;&amp;#x3C;/rant&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Requiring classes]]></title><description><![CDATA[Since Ext JS 4 came out, Ext JS supported loading classes on demand during development. You do this using the  property in your  statement…]]></description><link>https://mitchellsimoens.com/2015/05/21/requiring-classes/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/05/21/requiring-classes/</guid><pubDate>Thu, 21 May 2015 14:41:03 GMT</pubDate><content:encoded>&lt;p&gt;Since Ext JS 4 came out, Ext JS supported loading classes on demand during development. You do this using the &lt;a href=&quot;http://docs.sencha.com/extjs/latest/apidocs/#!/api/Ext.Class-cfg-requires&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt;&lt;/a&gt; property in your &lt;a href=&quot;http://docs.sencha.com/extjs/latest/apidocs/#!/api/Ext-method-define&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt;&lt;/a&gt; statement or using &lt;a href=&quot;http://docs.sencha.com/extjs/latest/apidocs/#!/api/Ext-method-require&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.require&lt;/code&gt;&lt;/a&gt;. Furthermore, ever since Sencha Cmd was released, it will check out these means of requiring classes and create a build of only those classes that are required.&lt;/p&gt;
&lt;h3&gt;&lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; property&lt;/h3&gt;
&lt;p&gt;As mentioned, when using &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; you should use the &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; property to require classes. Let’s look at a sample class without the requires property:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.user.Form&amp;#39;, {
    extend : &amp;#39;Ext.form.Panel&amp;#39;,
    xtype  : &amp;#39;myapp-user-form&amp;#39;,

    items : [
        {
            xtype : &amp;#39;fieldset&amp;#39;,
            title : &amp;#39;Details&amp;#39;,
            items : [
                {
                    xtype      : &amp;#39;textfield&amp;#39;,
                    fieldLabel : &amp;#39;Name&amp;#39;,
                    name       : &amp;#39;name&amp;#39;
                },
                {
                    xtype      : &amp;#39;textfield&amp;#39;,
                    fieldLabel : &amp;#39;Email&amp;#39;,
                    name       : &amp;#39;email&amp;#39;,
                    vtype      : &amp;#39;email&amp;#39;
                }
            ]
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we use this class in our application things may work depending on if the classes are required elsewhere. However, your application will be changing as time goes on so this may work now but may break a production build later. For this reason, I tend to make sure each class requires that classes it uses. The requires property would then look like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.user.Form&amp;#39;, {
    extend : &amp;#39;Ext.form.Panel&amp;#39;,
    xtype  : &amp;#39;myapp-user-form&amp;#39;,

    requires : [
        &amp;#39;Ext.form.field.Text&amp;#39;,
        &amp;#39;Ext.form.FieldSet&amp;#39;
    ],

    items : [
        {
            xtype : &amp;#39;fieldset&amp;#39;,
            title : &amp;#39;Details&amp;#39;,
            items : [
                {
                    xtype      : &amp;#39;textfield&amp;#39;,
                    fieldLabel : &amp;#39;Name&amp;#39;,
                    name       : &amp;#39;name&amp;#39;
                },
                {
                    xtype      : &amp;#39;textfield&amp;#39;,
                    fieldLabel : &amp;#39;Email&amp;#39;,
                    name       : &amp;#39;email&amp;#39;,
                    vtype      : &amp;#39;email&amp;#39;
                }
            ]
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now I know that no matter what else goes on in my application, this class will be safe as far as what it needs.&lt;/p&gt;
&lt;p&gt;Remember, your &lt;code class=&quot;language-text&quot;&gt;MyApp.Application&lt;/code&gt; class can use the requires property also for any classes that need to be there for startup. For example, that’s where I put my &lt;a href=&quot;https://sencha.guru/2015/03/23/use-of-a-base-url-in-a-utility-class/&quot;&gt;utility singletons&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.require&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you’re not using MVC/MVVM and therefore don’t have an Application class, well, first shame on you! Ext JS doesn’t require the MVC/MVVM pattern but I very much recommend it. Anyway, to require classes before &lt;code class=&quot;language-text&quot;&gt;Ext.onReady&lt;/code&gt; executes you can use &lt;code class=&quot;language-text&quot;&gt;Ext.require&lt;/code&gt; to require classes much the same way:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.require(&amp;#39;Ext.form.FieldSet&amp;#39;);
// or use an array:
Ext.require([
    &amp;#39;Ext.form.field.Text&amp;#39;,
    &amp;#39;Ext.form.FieldSet&amp;#39;
]);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; vs &lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; property will ensure those classes are loaded and defined before the class being required is defined. Cmd will use the &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; to build a dependency map and include the files in order based on the requires. However, in development the &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; property may cause synchronous loading so that your code will work (this depends on if &lt;code class=&quot;language-text&quot;&gt;Ext.onReady&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;Ext.application&lt;/code&gt;’s &lt;a href=&quot;http://docs.sencha.com/extjs/latest/apidocs/#!/api/Ext.app.Application-method-launch&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt;&lt;/a&gt; method has executed) which can slow things down. This is where the &lt;a href=&quot;http://docs.sencha.com/extjs/latest/apidocs/#!/api/Ext.Class-cfg-uses&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt;&lt;/a&gt; property can be used. This is what the &lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt; property looks like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.user.Form&amp;#39;, {
    extend : &amp;#39;Ext.form.Panel&amp;#39;,
    xtype  : &amp;#39;myapp-user-form&amp;#39;,

    uses : [
        &amp;#39;Ext.form.field.Text&amp;#39;,
        &amp;#39;Ext.form.FieldSet&amp;#39;
    ],

    items : [
        {
            xtype : &amp;#39;fieldset&amp;#39;,
            title : &amp;#39;Details&amp;#39;,
            items : [
                {
                    xtype      : &amp;#39;textfield&amp;#39;,
                    fieldLabel : &amp;#39;Name&amp;#39;,
                    name       : &amp;#39;name&amp;#39;
                },
                {
                    xtype      : &amp;#39;textfield&amp;#39;,
                    fieldLabel : &amp;#39;Email&amp;#39;,
                    name       : &amp;#39;email&amp;#39;,
                    vtype      : &amp;#39;email&amp;#39;
                }
            ]
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The difference between &lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; is unlike how &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; will load it’s classes before the &lt;code class=&quot;language-text&quot;&gt;MyApp.view.user.Form&lt;/code&gt; is defined, &lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt; will define &lt;code class=&quot;language-text&quot;&gt;MyApp.view.user.Form&lt;/code&gt; even if the classes are not loaded. &lt;code class=&quot;language-text&quot;&gt;Ext.form.field.Text&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Ext.form.FieldSet&lt;/code&gt; may be loaded and defined after &lt;code class=&quot;language-text&quot;&gt;MyApp.view.user.Form&lt;/code&gt; is defined since &lt;code class=&quot;language-text&quot;&gt;MyApp.view.user.Form&lt;/code&gt; doesn’t require them to be loaded before it is defined.&lt;/p&gt;
&lt;h3&gt;Many requires&lt;/h3&gt;
&lt;p&gt;Requiring a class many times will not affect performance, if a class is already defined it will not be loaded again and will be skipped. Also, requiring classes on the fly like this is only for development. When you do a build with Sencha Cmd, Cmd will remove these automatically for you so in a production build this code will simply not be there. So I play it safe and add all the classes in the requires.&lt;/p&gt;
&lt;p&gt;I will say that having knowledge of what classes are then requiring other classes helps. So if I require &lt;code class=&quot;language-text&quot;&gt;Ext.form.field.Text&lt;/code&gt;, I know that it already requires &lt;code class=&quot;language-text&quot;&gt;Ext.form.field.VTypes&lt;/code&gt;. Since I use the &lt;code class=&quot;language-text&quot;&gt;vtype&lt;/code&gt; config, I do need &lt;code class=&quot;language-text&quot;&gt;Ext.form.field.VTypes&lt;/code&gt; to be loaded but my code doesn’t have to require it since &lt;code class=&quot;language-text&quot;&gt;Ext.form.field.Text&lt;/code&gt; is already requiring it. The &lt;a href=&quot;http://docs.sencha.com/extjs/latest/apidocs/#!/api/Ext.form.field.Text&quot;&gt;API docs&lt;/a&gt; denote what it’s requiring on the right.&lt;/p&gt;
&lt;h3&gt;Other means of requiring&lt;/h3&gt;
&lt;p&gt;Ext JS also has other means of requiring classes for you. If you &lt;a href=&quot;http://docs.sencha.com/extjs/latest/apidocs/#!/api/Ext.Class-cfg-extend&quot;&gt;extend&lt;/a&gt; a class, Ext JS will require that class for you as expected. If you define &lt;a href=&quot;http://docs.sencha.com/extjs/latest/apidocs/#!/api/Ext.Class-cfg-mixins&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;mixins&lt;/code&gt;&lt;/a&gt;, those too will also be required for you.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[How Not To Recruit]]></title><description><![CDATA[Recruiters… more precisely tech recruiters… You are a necessary evil but there is a right way and a wrong way to go about recruiting. First…]]></description><link>https://mitchellsimoens.com/2015/05/12/how-not-to-recruit/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/05/12/how-not-to-recruit/</guid><pubDate>Tue, 12 May 2015 15:40:03 GMT</pubDate><content:encoded>&lt;p&gt;Recruiters… more precisely tech recruiters… You are a necessary evil but there is a right way and a wrong way to go about recruiting. First off, my hat is off to you for doing your job, I could never do it. The few I’ve talked to in person have been actually great conversations. I’m not sure if it’s because of your job or if you’re really that way but that part of recruiting I enjoy even if I’m not interested I’m still involved in a great conversation.&lt;/p&gt;
&lt;h3&gt;Email &gt; Phone&lt;/h3&gt;
&lt;p&gt;There are many ways to get ahold of someone: email, phone call, LinkedIn, etc. Many people like me prefer email for many reasons. It’s easy to ignore and it’s easy not to be distracted. I hate getting a phone call because I am likely in the middle of something (probably my job which I don’t want to spend company time talking to a recruiter) and I have now been conditioned to not answer unknown numbers. What if the phone call is an emergency now? Well, I hope if it’s an emergency they will use a phone already in my contacts or else I won’t answer it. Please leave a message and I’ll get back to you as soon as I can.&lt;/p&gt;
&lt;h3&gt;Story Time!&lt;/h3&gt;
&lt;p&gt;I wanna tell you of a recruiter that just tried contacting me in order to show how not to recruit. I didn’t talk to the person because of how aggressive this person was at trying to get ahold of me. I received 3 emails (on different email addresses I have), LinkedIn message, Facebook message and 3 phone calls on the same number each call with an associated voicemail. Let’s break each down:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3 emails&lt;/strong&gt; - I have many different email addresses but they are all very similar enough so that you definitely know they are the same person. My last name isn’t a common last name, it’s me. Each email was the same thing just copied and pasted into a new email. The email was poorly formatted, spelling and grammar errors (which I make my fair share of also) and impersonal. If you really were interested in me, you’d have a professional looking email at least somewhat tailored to me. Oh, and you wouldn’t go spamming every email address you can find.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LinkedIn&lt;/strong&gt; - This is very much like an email. I get LinkedIn is a great place to find someone, in fact it’s a great place. Except the amount of recruiters out there searching for keywords. I’m not sure if you actually read what I have up there or not but I get the feeling you search for a term and you message those who match.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Facebook&lt;/strong&gt; - I have my Facebook profile private, I don’t want the general public to know what’s going on in my private life. So if I have my profile private, it means I’m not wanting to get spammed by people wanting to recruit me or anything. It’s for my friends and family, this is not a great way to get ahold of me for an open position.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Phone calls&lt;/strong&gt; - Like I said before, I hate recruiters calling me. The person trying to contact me tried calling me 3 times back-to-back as if the person was a teenage girlfriend I was ignoring. No joke, just got a fourth round. You have been blocked now with the voicemails deleted without listening to them. What do you think is going to happen? I’m magically going to answer one after your persistence? You think I’m in a happy mood that you keep calling me so much and it’s going to be a good conversation now? STOP!&lt;/p&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;Like I said before, recruiters are a necessary evil. We need recruiters, they are crucial. But there is a wrong way to recruit and I see the same mistakes over and over. I wonder what their success rate is with these practices.&lt;/p&gt;
&lt;p&gt;My friend Arthur Kay also has an open letter I’d like to point you too: &lt;a href=&quot;http://www.akawebdesign.com/2013/11/20/open-letter-tech-recruiters/&quot;&gt;http://www.akawebdesign.com/2013/11/20/open-letter-tech-recruiters/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;P.S.&lt;/strong&gt; Oh, and if you do get to talk to me and I am not interested, I do not wan to do your job. If I know of someone looking for a job that I would recommend, I’m hiring. Even if I wasn’t hiring, can I have your cut for finding someone since I was the one who found someone?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[I hate running in Florida]]></title><description><![CDATA[For the last year, I’ve lived in Florida. In this year, my training has been quite different than it did in Missouri (where I lived prior…]]></description><link>https://mitchellsimoens.com/2015/04/14/hate-running-in-florida/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/04/14/hate-running-in-florida/</guid><pubDate>Tue, 14 Apr 2015 22:03:03 GMT</pubDate><content:encoded>&lt;p&gt;For the last year, I’ve lived in Florida. In this year, my training has been quite different than it did in Missouri (where I lived prior). Why? Read on.&lt;/p&gt;
&lt;h2&gt;Hot and humid&lt;/h2&gt;
&lt;p&gt;Of course I expected it to be hot but this has had an immense affect on my running. Missouri still got hot and humid during the summer but it wasn’t for as long as in Florida. I live in the northern part of Florida so for 3 months it was in the 30s and 40s which is perfect weather for me, especially for running. The other 9 months it’s hot and humid. In Missouri, it still got hot but was only for a couple months in the summer. So I have summer a half a year extra now.&lt;/p&gt;
&lt;p&gt;So why does this matter? Do you get used to it? Current, I start running between 8am and 9am trying to get running before the heat of the day, except it’s already hot and humid at that time. I have to take more breaks to rehydrate, within the first mile my hat is already soaked.&lt;/p&gt;
&lt;p&gt;Today’s run was 6 miles and I drank an entire gallon of water but I still achieved my goal. This is my Endomondo recording of today’s running:&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 63.1578947368421%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.endomondo.com/embed/workouts?w=lDwfVxKp4N8&amp;amp;width=580&amp;amp;height=600&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;p&gt;As you can see, I run in circles with each circle being just under a mile (for my training, I’m ok with rounding up). But each lap has a good sized hill and some smaller ones, this is the reason I do love running on a trail.&lt;/p&gt;
&lt;h2&gt;Type of soil&lt;/h2&gt;
&lt;p&gt;The type of soil is quite different between Missouri and Florida. In Missouri you would find a more clay like soil; in Florida it’s a sandy soil. Florida’s soil is much harder to run on as it’s often more loose. The looser the soil, the more effort it takes to push off on which makes the run harder.&lt;/p&gt;
&lt;p&gt;That big hill I run up on each lap is of this loose soil, I’m actually amazed that I’m able to run up it over and over and keep a decent pace. Along with the sandy soil, we have a ton of roots on top of the soil. I’m not sure if this is because of the soil and such or if the soil got washed away but I always have to look down to watch out for these roots. It’s not just a trip hazard, it’s also how you land on them if you do. If the front of your foot lands on it and you’re not expecting it, expect for your momentum to be halted and be very hard to have a natural foot movement which can cause injuries. I definitely learned to not only watch for the natural holes in the earth.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;So running in Florida has new challenges that I’m still trying to get used to. It is hard but luckily I’ve been able to have my determination to succeed motivate me.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Override Compatibility]]></title><description><![CDATA[Software is and always will be buggy, let’s be honest. While being honest, Ext JS certain isn’t bug free. So if you’re like me, you may come…]]></description><link>https://mitchellsimoens.com/2015/04/14/override-compatibility/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/04/14/override-compatibility/</guid><pubDate>Tue, 14 Apr 2015 20:55:03 GMT</pubDate><content:encoded>&lt;p&gt;Software is and always will be buggy, let’s be honest. While being honest, Ext JS certain isn’t bug free. So if you’re like me, you may come up on a bug or two while developing an application. Most of the time, the bugs I encounter I find a way to create a patch (an override) to fix the bug whether it’s from my own debugging or since I have access to out git repo I can extrapolate the fix.&lt;/p&gt;
&lt;p&gt;Before I go on, it’s good practice to remove your overrides when you upgrade the Ext JS SDK. Test your app and then apply the ones that are still needed and remove the ones that are not. Your overrides should be well documented so that when you come back to them you know what’s going on with the override and what bug(s) the override is fixing.&lt;/p&gt;
&lt;p&gt;We’re human, we make mistakes, we forget things, we rush things. Ext JS actually has a property that will control what maximum version an override should be applied to. Say a bug existed in 5.0.1 but is fixed in 5.1.0, you only want the override to be applied to 5.0.1 (and older) and not to 5.1.0. The property is called &lt;code class=&quot;language-text&quot;&gt;compatibility&lt;/code&gt; and it’s usage is like so:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/l8j&quot; style=&quot;border: 0; width: 600px; height: 600px;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;The fiddle is set to use the 5.0.1 and therefore you should be able to see the &lt;code class=&quot;language-text&quot;&gt;Ext.Msg.alert&lt;/code&gt; over the panel. If you open the fiddle in the &lt;a href=&quot;https://fiddle.sencha.com/#fiddle/l8j&quot;&gt;Fiddle&lt;/a&gt; app and change the framework version to a 5.1.0 release, you should not see the &lt;code class=&quot;language-text&quot;&gt;Ext.Msg.alert&lt;/code&gt; because the override is set to only apply to 5.0.1 and older.&lt;/p&gt;
&lt;p&gt;So like I said before, you should always evaluate your overrides when you upgrade your Ext JS SDK. The &lt;code class=&quot;language-text&quot;&gt;compatibility&lt;/code&gt; property can help not apply overrides on versions after you know the bug was fixed but I even if I know I’m going to be diligent with my override evaluation, I still like to put it in there even just for documentation sake. Nothing wrong with extra documentation!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Use of a base url in a utility class]]></title><description><![CDATA[I had an idea the other day and I’m not sure why I hadn’t thought of it sooner. For the longest time I’ve always advocated to have a…]]></description><link>https://mitchellsimoens.com/2015/03/23/use-of-a-base-url-in-a-utility-class/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/03/23/use-of-a-base-url-in-a-utility-class/</guid><pubDate>Mon, 23 Mar 2015 12:22:03 GMT</pubDate><content:encoded>&lt;p&gt;I had an idea the other day and I’m not sure why I hadn’t thought of it sooner. For the longest time I’ve always advocated to have a singleton utility class that holds onto configs like a base url. Then in your store, you can get the base url and prepend it. Something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.Util&amp;#39;, {
    singleton : true,

    config : {
    	baseUrl : &amp;#39;http://foo.com/&amp;#39;
    },

    constructor : function(config) {
    	this.initConfig(config);
    }
});

Ext.define(&amp;#39;MyApp.store.Foo&amp;#39;, {
	extend : &amp;#39;Ext.data.Store&amp;#39;,
    alias  : &amp;#39;store.myapp-foo&amp;#39;,

    requires : [
    	&amp;#39;MyApp.Util&amp;#39;,
        &amp;#39;MyApp.model.Foo&amp;#39;
    ],

    model : &amp;#39;MyApp.model.Foo&amp;#39;,

    proxy : {
    	type : &amp;#39;ajax&amp;#39;,
        url  : MyApp.Util.getBaseUrl() + &amp;#39;foo.json&amp;#39;
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When the &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Foo&lt;/code&gt; class is loaded by the browser, that &lt;code class=&quot;language-text&quot;&gt;MyApp.Util.getBaseUrl()&lt;/code&gt; is automatically evaluated and if you had &lt;code class=&quot;language-text&quot;&gt;MyApp.Util&lt;/code&gt; loaded prior to the store being loaded, it will concat the &lt;code class=&quot;language-text&quot;&gt;http://foo.com/&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;foo.json&lt;/code&gt; and everything is good. The biggest drawback to this was that you had to require the &lt;code class=&quot;language-text&quot;&gt;MyApp.Uti&lt;/code&gt; class in both the &lt;code class=&quot;language-text&quot;&gt;Ext.application&lt;/code&gt; and the store’s &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; array. (side note, Sencha Cmd may be able to detect &lt;code class=&quot;language-text&quot;&gt;MyApp.Util&lt;/code&gt; but I’ve seen where this falls down so I’m usually more explicit with my &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; array) Also, in your code you have to spread the &lt;code class=&quot;language-text&quot;&gt;MyApp.Util.getBaseUrl()&lt;/code&gt; calls around everywhere.&lt;/p&gt;
&lt;p&gt;Instead, I had a thought to make this workflow much easier! What if you were able to define your store like this?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.store.Foo&amp;#39;, {
	extend : &amp;#39;Ext.data.Store&amp;#39;,
    alias  : &amp;#39;store.myapp-foo&amp;#39;,

    requires : [
        &amp;#39;MyApp.model.Foo&amp;#39;
    ],

    model : &amp;#39;MyApp.model.Foo&amp;#39;,

    proxy : {
    	type : &amp;#39;ajax&amp;#39;,
        url  : &amp;#39;foo.json&amp;#39;
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;No requiring &lt;code class=&quot;language-text&quot;&gt;MyApp.Util&lt;/code&gt;, no &lt;code class=&quot;language-text&quot;&gt;MyApp.Util.getBaseUrl()&lt;/code&gt; spread everywhere. Looks like I can solve both my caveats right? But how can I get the base url in there? Just by this code, there isn’t anything that will prepend it. Where’s the magic?&lt;/p&gt;
&lt;p&gt;The magic is all in the &lt;code class=&quot;language-text&quot;&gt;MyApp.Util&lt;/code&gt; class with a small change. &lt;code class=&quot;language-text&quot;&gt;Ext.data.Connection&lt;/code&gt; (&lt;code class=&quot;language-text&quot;&gt;Ext.Ajax&lt;/code&gt; is an instance off) will fire a &lt;code class=&quot;language-text&quot;&gt;beforerequest&lt;/code&gt; event allowing you to cancel the request or you can also modify the request by changing the params but you can also change the url of the request. So why not have &lt;code class=&quot;language-text&quot;&gt;MyApp.Util&lt;/code&gt; automatically prepend the baseUrl for us? Like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.Util&amp;#39;, {
  	singleton : true,

  	config : {
      	baseUrl : &amp;#39;http://foo.com/&amp;#39;
  	},

  	constructor : function(config) {
      	this.initConfig(config);

      	Ext.Ajax.on(&amp;#39;beforerequest&amp;#39;, this.onBeforeRequest, this);
  	},

    onBeforeRequest : function(connection, options) {
      	options.url = this.getBaseUrl() + options.url;
  	}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;  	});&lt;/p&gt;
&lt;p&gt;All I did was add the &lt;code class=&quot;language-text&quot;&gt;beforerequest&lt;/code&gt; event listener, and then changed the &lt;code class=&quot;language-text&quot;&gt;options.url&lt;/code&gt; and it will automatically prepend the base url. Here it is in action:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/k2p&quot; style=&quot;border: 0; width: 600px; height: 600px;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;Notice this will of course work with &lt;code class=&quot;language-text&quot;&gt;Ext.Ajax.request&lt;/code&gt; calls, this is what &lt;code class=&quot;language-text&quot;&gt;Ext.data.proxy.Ajax&lt;/code&gt; does under the hood anyway.&lt;/p&gt;
&lt;p&gt;There is always a better way to do things and always many different ways to do things. There are more performant ways to do this but I like this approach as it’s very logical to me in how it works. I can come back to this code in 2 years and easily pick up what I was doing.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Tough Mudder 2015 - Gulf Coast]]></title><description><![CDATA[Last year, I decided to set some goals for myself (read more). I decided to sign up for several Tough Mudders throughout the year in order…]]></description><link>https://mitchellsimoens.com/2015/03/09/tough-mudder-2015-gulf-coast/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/03/09/tough-mudder-2015-gulf-coast/</guid><pubDate>Mon, 09 Mar 2015 19:37:03 GMT</pubDate><content:encoded>&lt;p&gt;Last year, I decided to set some goals for myself (&lt;a href=&quot;https://mitchellsimoens.com/tough-mudder-looking-ahead-for-2015/&quot;&gt;read more&lt;/a&gt;). I decided to sign up for several Tough Mudders throughout the year in order to push my health, I need goals and deadlines and nothing matches signing up for something and paying cold, hard earned cash to motivate you.&lt;/p&gt;
&lt;p&gt;This last weekend was the first Tough Mudder of the 2015 season and I was excited. I ran a Warrior Dash (5K OCR) a month ago and to be honest, I didn’t do as well as I wish I would have. The reason, I didn’t workout for nearly 2 months over the winter! But since mid-January I was in cardio mode getting my mileage back up. I found a nearby trail that is a mile loop and even has a very good sized hill. I average about 11 minute miles which I’m fine with. I don’t need to be faster, I just need to make 8 mile trainings easier. Found another trail but I decided I don’t like being within 20 feet of these &lt;a href=&quot;https://scontent-dfw.xx.fbcdn.net/hphotos-xpf1/t31.0-8/1939590_575706843357_4309501008577952709_o.jpg&quot;&gt;guys&lt;/a&gt;. Yes, that’s an actual picture taken from my phone, first ran by them and was 10 feet away and scared the crap out of me. You would have laughed at me jumping away at first sight. Not sure if I screamed like a teenage girl at a Bieber concert but I sure as hell did internally. :)&lt;/p&gt;
&lt;p&gt;Tough Mudder announced some new obstacles and improvements to current ones. I’ll tell you about my experience with some of the new ones in a minute. If you want to see their promo video:&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube.com/embed/Jim-ksScOoc&quot; frameborder=&quot;0&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;p&gt;&lt;strong&gt;The Day&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Link to course map &lt;a href=&quot;https://toughmudder.cachefly.net/sites/default/files/Gulf%20Coast%20Spectator%20Map%20Front%20V2.pdf&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I booked a hotel that was just a mile away. To warm up, I almost just ran the mile but didn’t want to get carried away with it. I got there at 9am and got signed in, registered for the legion (Tough Mudder thinks I’ve done 8 mudders, I corrected them) and dropped by bag off. Got to the start area where they had an MC I hadn’t seen before but once he was done doing his warmup talk they told us to go to the warm up area. This is where you climb a wall to get into the real start line and lucky enough, the man himself, Sean Corvelle was the MC! Love that guy! HOORAH! (he doesn’t actually say “OOH-RAH”, he doesn’t feel like he should as he isn’t or has not served in the military).&lt;/p&gt;
&lt;p&gt;First 3.5 miles were mostly running, &lt;a href=&quot;https://toughmudder.com/content/kiss-mud-20%C2%AE&quot;&gt;Kiss of Mud&lt;/a&gt; and &lt;a href=&quot;https://toughmudder.com/content/birth-canal&quot;&gt;Birth Canal&lt;/a&gt; were conquered without any issue. Birth Canal is new and the water on top of you was surprisingly heavy at the end but nothing bad.&lt;/p&gt;
&lt;p&gt;The next obstacle was the improved &lt;a href=&quot;https://toughmudder.com/content/funky-monkey%E2%84%A0-20&quot;&gt;Funky Monkey 2.0&lt;/a&gt;. The old Funky Monkey was just an inclined and declined ladder. The new Funky Money added a trapeze grab in the middle that swung so you can transfer to the declined pipe. Getting to the Funky Monkey obstacle was the biggest gripe I have about the Tough Mudder, I waited in line for over an hour, no joke! There are two issues with this obstacle: only have 5 stations (they need to double this) and people getting stuck on the trapeze and don’t want to give up took up a bunch of time. I don’t mind them not wanting to give up, I wouldn’t. Females had a lot of trouble with this obstacle as it does require a lot of upper body strength (shoulders and gripe strength is what I felt). I was intimidated by the transition from the trapeze to the pipe but I handled it with ease luckily. Keep one hand on the ladder and the other on the trapeze and start swinging before letting go to get momentum to grab the bar with the loose hand. Besides the hour wait, this was lot of fun!&lt;/p&gt;
&lt;p&gt;After finishing the Funky Monkey I was behind these two girls, one made it through, the other got the water. Oh, by the way, the water was freezing! She was complaining that it’s cold until I reminder her that &lt;a href=&quot;https://toughmudder.com/content/arctic-enema%C2%AE-20&quot;&gt;Arctic Enema 2.0&lt;/a&gt; was next. This is the ice bath and the improvement was you slide down into the ice and wade through ice. You have to climb over a wall and then wade through more before you’re out. This is always a complete system shock.&lt;/p&gt;
&lt;p&gt;The next obstacle was &lt;a href=&quot;https://toughmudder.com/content/liberator&quot;&gt;The Liberator&lt;/a&gt; which is brand new for 2015. This is where you walk up an inclined wall using wooden pegs. I quickly deciphered what to do but seems people were having a hard time so I started barking orders. I know, probably not the best way to come off but it was to help. You get two wooden pegs and there are two stationary metal ones at the top. At the top there is a slot to put the wooden pegs and they fall to the bottom. So use the wooden ones till you can reach the metal ones. Take one wooden peg and drop it in the slot. The person behind you takes the peg you dropped and puts it so you can stand on it so that you can then deposit the other one and push off with your leg to get ahold of the top so you can lift yourself up.&lt;/p&gt;
&lt;p&gt;Same thing with &lt;a href=&quot;https://toughmudder.com/content/beached-whale&quot;&gt;Beached Whale&lt;/a&gt; which was next obstacle and also new to 2015. One person puts hands down or their knee so someone can get a good jump to get on top of the inflatable. Once on top you spin around and throw a hand down to help the next person. Team work people!&lt;/p&gt;
&lt;p&gt;Next few obstacles were &lt;a href=&quot;https://toughmudder.com/content/skidmarked&quot;&gt;Skidmarked&lt;/a&gt;, Warrior Carry and Tube Hurdles. Nothing big but the Warrior Carry was through chest deep water which added a degree of difficultly since you can’t see what you’re stepping on or if it’s a hole to China.&lt;/p&gt;
&lt;p&gt;Next up was another new obstacle, &lt;a href=&quot;https://toughmudder.com/content/balls-out&quot;&gt;Balls Out&lt;/a&gt;. This new one was an A frame (one side had plexiglass which was harder and the side I attempted) and you tried to grab ropes that were spaced out, thankfully I have long arms. The difficulty here was coordinating everything but the trick seemed to keep your feet as planted on the wall as possible so you have full gripe or else you’d just slide down. So pray your gripe strength in your hands hold up as you move back and forth reaching for the next rope. And like the Funky Monkey, this had a long line and was there for about 30-45 minutes, ugh!&lt;/p&gt;
&lt;p&gt;Then it was a long run to &lt;a href=&quot;https://toughmudder.com/content/everest-20&quot;&gt;Everest 2.0&lt;/a&gt;. Everest has always been intimidating to me so when I heard they improved it by getting rid of the edge in favor of a rounded edge so you can’t grab it and pull yourself up and it was taller, I was worried, I won’t even lie. I thought the rounded edge was just in sections as it shows in the video/pictures but no, it’s the entire length. So I grabbed a quick breath and ran my ass up it. Luckily there were two hands thrown down to help me, team work! So I relieved one of them and threw my hand down to the next person. I did see some people run up without any help, good for them!&lt;/p&gt;
&lt;p&gt;Little run to the next obstacle that my friend &lt;a href=&quot;http://www.akawebdesign.com/&quot;&gt;Arthur Kay&lt;/a&gt; has been vocal to not liking obstacles like this: &lt;a href=&quot;https://toughmudder.com/content/cry-baby&quot;&gt;Cry Baby&lt;/a&gt; (kind of ironic huh Art? :P). This obstacle is going through a tent filled with “tear gas”. It’s not tall so you have to bear crawl through and go over a little wall. When I heard tear gas, I instantly knew it wasn’t going to be the same tear gas that police and military use, that’d kill the rest of the run. So I bear crawled through and about 2/3s the way through I started to choke on it because it was a bit thick. It tasted and smelled very menthol, it was like a very strong Vicks VapoRub. Benefit after this, my sinuses were extremely clear! Back to running!&lt;/p&gt;
&lt;p&gt;Next obstacle was the &lt;a href=&quot;https://toughmudder.com/content/mud-mile-20&quot;&gt;Mud Mile 2.0&lt;/a&gt; and Rope Climb. So the Mud Mile did have deeper mud but that wasn’t the hard part here. The hard part is the type of soil we have in Florida, it’s very sandy. Through the whole course, the soil was very sandy and in spots it was loose sand which makes running quite difficult. Where the Mud Mile was, it was this giant what looked to be old strip mine. It was 1.5 miles of 10 (or so) loose sand hills in this giant hole in the ground. This is where my time dropped quite a bit and some good charlie horses came on.&lt;/p&gt;
&lt;p&gt;Getting the hell out of there was &lt;a href=&quot;https://toughmudder.com/content/pole-dancer-0&quot;&gt;Pole Dancer&lt;/a&gt; and &lt;a href=&quot;https://toughmudder.com/content/king-swingers&quot;&gt;King of the Swingers&lt;/a&gt;. Pole Dancer wasn’t hard past times I’ve done it but my arms were shot and at the very end my arms gave out and down I went. I caught myself by it felt like I pulled a muscle in my shoulder. Then I get to King of the Swingers and you climb up (which it seemed much higher in person than in the video, not sure if it is higher up in person but it seemed like you were on the 3rd floor of a building), jump and catch a bar, it swings up and you try to hit a bell and then fall in some water. There used to be an obstacle where you just jump off a platform so this seems like an updated version with the swinging. Hitting the bell isn’t easy either. You have to pull yourself up while you are swinging so you get some extra lateral momentum. I also saw people doing flips and such off this thing. It was hell of a lot of fun. I usually don’t do the best with heights but I didn’t hesitate and just went for it!&lt;/p&gt;
&lt;p&gt;The last obstacle was &lt;a href=&quot;https://toughmudder.com/content/electroshock-therapy%C2%AE-20&quot;&gt;Electroshock Therapy 2.0&lt;/a&gt; but first I went through the Legionnaires Loop which for this one was &lt;a href=&quot;https://toughmudder.com/content/dead-ringer&quot;&gt;Dead Ringer&lt;/a&gt;. I will admit, I fell many times. My arms were shot at this point! The Electroshock Therapy was last thing. There was a little line but was only like 10 people. With no clouds in the sky, I was ok with a few people going before me however, right before I went a guy got a charlie horse trying to go over the first hay bale wall and laid on top of it. It took a few seconds for the medic to get to the kill switch as the guy laid there getting shocked. You can hear the pop and see the guy jerk as he got shocked, poor dude! I ran through it with no real problems, got hit 4 times.&lt;/p&gt;
&lt;p&gt;Then the finish line! I made it. Went to get my blue head band and did the &lt;a href=&quot;https://toughmudder.com/obstacles/fire-your-hole&quot;&gt;Fire in your Hole&lt;/a&gt; obstacle that was in the Mudder Village. This was a big water slide through some flames (flames never touch you) and it was just for fun and a good cleaning.&lt;/p&gt;
&lt;p&gt;So all in all, I was worried about mylack of training but until that hold in the ground where the Mud Mile was I did very great, I impressed myself there. The sun got to me, my head has a hell of a sun burn but I also recorded my fastest Mudder at 2.5 hours for 11.41 miles (&lt;a href=&quot;https://www.endomondo.com/workouts/482071646/2469121&quot;&gt;link to Endomondo recording&lt;/a&gt;). And had to drive home for 4 hours right after which was not a good idea.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Next&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Next up is the Chicago Mudder in May which is 2 months away and am doing it with Arthur Kay and Jay Garcia. I need to keep my running up but I can limit it to 8 miles but just want to make that 8 miles easier. I also need to work on gripe strength and shoulders. Will be a Mudder machine then! I think 2 hours flat is possible but that will be very tough and doing it with Art and Jay, I won’t try to go my fastest. I’ll do Chicago to complete it with my friends even if I feel it’s slow I’d rather finish with them. There is a Mudder in Tennessee the week after that I can go for gold.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[rootProperty as a function!]]></title><description><![CDATA[When I design an endpoint to return some JSON data for consumption in a grid, I always nest the data in the  property so that I can provide…]]></description><link>https://mitchellsimoens.com/2015/02/18/rootproperty-as-a-function/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/02/18/rootproperty-as-a-function/</guid><pubDate>Wed, 18 Feb 2015 20:02:03 GMT</pubDate><content:encoded>&lt;p&gt;When I design an endpoint to return some JSON data for consumption in a grid, I always nest the data in the &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; property so that I can provide a total count in order to support pagination. So most of my server side scripts are setup to nest data. Something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;quot;success&amp;quot;: true,
    &amp;quot;total&amp;quot;: 4375,
    &amp;quot;data&amp;quot;: [...]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I setup my store to read this via something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.Foo&amp;#39;, {
	extend : &amp;#39;Ext.data.Store&amp;#39;,

    proxy : {
    	type   : &amp;#39;ajax&amp;#39;,
        url    : &amp;#39;/foo&amp;#39;,
        reader : {
        	rootProperty : &amp;#39;data&amp;#39;
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, when using &lt;code class=&quot;language-text&quot;&gt;Ext.data.TreeStore&lt;/code&gt;, it wants to use the same property to find the children of nodes. By default, it uses the &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt; property and you can change this by using the &lt;code class=&quot;language-text&quot;&gt;rootProperty&lt;/code&gt; like we have above (there are a couple different ways really). So if you have your nodes nested within the &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; property but still use &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt; to have your child nodes in, it won’t find any child nodes because you have two different roots, &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So how can we handle this use case? Well, first I’d say fix your server to not nest the data so that things will work great within Ext JS. But let’s be real for a second, the people in charge of your server-side code are likely a bit reluctant to change. You can buy them a steak dinner and they may still not change, you just have to deal with it.&lt;/p&gt;
&lt;p&gt;Don’t worry, Ext JS actually has a way to handle this. If you look at the &lt;a href=&quot;http://docs.sencha.com/extjs/5.1/5.1.0-apidocs/#!/api/Ext.data.reader.Reader-cfg-rootProperty&quot;&gt;documentation&lt;/a&gt; for the &lt;code class=&quot;language-text&quot;&gt;rootProperty&lt;/code&gt; config it says that it accepts a string for a value. Well, that’s not entirely true and the docs will get fixed to reflect this but the &lt;code class=&quot;language-text&quot;&gt;rootProperty&lt;/code&gt; can actually accept a function and you return child nodes from the data provided. Let’s look at some sample data:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  {
    &amp;quot;data&amp;quot; : [
        {
            &amp;quot;text&amp;quot;     : &amp;quot;Foo&amp;quot;,
            &amp;quot;expanded&amp;quot; : true,
            &amp;quot;children&amp;quot; : [
                {
                    &amp;quot;text&amp;quot; : &amp;quot;Bar&amp;quot;,
                    &amp;quot;leaf&amp;quot; : true
                }
            ]
        }
    ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So we have our child nodes nested within the &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; property but we also use &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt; to denote our child nodes. We can define out &lt;code class=&quot;language-text&quot;&gt;rootProperty&lt;/code&gt; to work with this like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;rootProperty : function(node) {
	return node.data || node.children;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With this it returns &lt;code class=&quot;language-text&quot;&gt;node.data&lt;/code&gt; if it’s truthy or it will return &lt;code class=&quot;language-text&quot;&gt;node.children&lt;/code&gt;. So if &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; exists, return it, else return &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt;. It’s as easy as that! Here’s a live &lt;a href=&quot;https://fiddle.sencha.com/#fiddle/iga&quot;&gt;fiddle&lt;/a&gt;:&lt;/p&gt;
&lt;iframe src=&quot;https://fiddle.sencha.com/fiddle/iga&quot; style=&quot;border: 0; width: 600px; height: 600px;&quot;&gt;&lt;/iframe&gt;</content:encoded></item><item><title><![CDATA[NodeDomain lesson with Adobe Brackets]]></title><description><![CDATA[I’ve been an IntelliJ IDEA user for 4 years now but I usually have most features turned off but it’s a memory hog, the constant indexing and…]]></description><link>https://mitchellsimoens.com/2015/02/12/nodedomain-lesson-with-adobe-brackets/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/02/12/nodedomain-lesson-with-adobe-brackets/</guid><pubDate>Thu, 12 Feb 2015 14:30:03 GMT</pubDate><content:encoded>&lt;p&gt;I’ve been an &lt;a href=&quot;https://www.jetbrains.com/idea/&quot;&gt;IntelliJ IDEA&lt;/a&gt; user for 4 years now but I usually have most features turned off but it’s a memory hog, the constant indexing and overall sluggish performance has been annoying me for quite some time. I was turned onto &lt;a href=&quot;http://brackets.io/&quot;&gt;Adobe Brackets&lt;/a&gt; a couple weeks ago by Seth Lemmons (fellow Senchan). Right out of the gate, I knew it wasn’t going to be feature rich like IDEA which is good and bad. Overall, it does a pretty good job for me and after a couple existing extensions it’s better. There are a couple feature gaps between the two and since Brackets is really just a web app I can build extensions using JavaScript (not Java or Ruby like other editors/IDEs) which is a nice appeal.&lt;/p&gt;
&lt;p&gt;The first extension I’m building is &lt;a href=&quot;http://www.sencha.com/products/sencha-cmd/&quot;&gt;Sencha Cmd&lt;/a&gt; integration. I normally have my editor and &lt;a href=&quot;http://iterm.sourceforge.net/&quot;&gt;iTerm&lt;/a&gt; open at the same time. With iTerm I normally have a couple tabs open, one to start my node server and another to run builds with Cmd. So I wanted to be able to run a Cmd build within Brackets so that I don’t have to switch back to iTerm to run a build.&lt;/p&gt;
&lt;p&gt;Being my first extension, I had to look around at existing plugins that can execute commands such as &lt;a href=&quot;https://github.com/johnhidey/hdy.brackets-shell&quot;&gt;hdy.brackets-shell&lt;/a&gt; extension. I learned that I have to create a &lt;a href=&quot;http://brackets.io/docs/current/modules/utils/NodeDomain.html&quot;&gt;NodeDomain&lt;/a&gt; spec to be able to use Node.js’ &lt;a href=&quot;http://nodejs.org/api/child_process.html&quot;&gt;child_process&lt;/a&gt; module. This made me learn a bit of how Brackets work. It turns out that Brackets has a Node.js server running behind the scenes which you can communicate with via NodeDomain which uses &lt;a href=&quot;http://brackets.io/docs/current/modules/utils/NodeConnection.html&quot;&gt;NodeConnection&lt;/a&gt; (you can also have NodeConnection create the NodeDomain so you can go at it either way). NodeConnection then uses websockets to communicate from the client web app that you interact with and the Node.js server. I got a basic setup working but I was beating my head against my desk wondering why when I make a change to my NodeDomain spec that I wasn’t seeing it applied when I would reload Brackets with extensions (cmd + r keyboard shortcut on Mac). Turns out when you reload Brackets, you are only really reloading the client web app, not the Node.js server which needs to happen to make your NodeDomain spec changes take affect.&lt;/p&gt;
&lt;p&gt;So the solution is to either quit Brackets and start it back up or you can restart Node via the Debug -&gt; Restart Node menu item. I wish there was an option to reload Brackets and restart Node with a single menu item. Guess a new extension for this is on my list.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Project Managing Personal Finances]]></title><description><![CDATA[Back when I was 19 I built my first house, well, paid someone else to build it of course. At the time, I thought I was hot shit being only…]]></description><link>https://mitchellsimoens.com/2015/02/11/project-managing-personal-finances/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/02/11/project-managing-personal-finances/</guid><pubDate>Wed, 11 Feb 2015 15:37:03 GMT</pubDate><content:encoded>&lt;p&gt;Back when I was 19 I built my first house, well, paid someone else to build it of course. At the time, I thought I was hot shit being only 19 with a brand new house. I was the first house in this neighborhood and the only one to get the rebates they were offering to get people to build so I thought this was an investment. Any new house built should increase the value of my house since I would be the cheapest house on the block. However, the market dropped from under me and it took years to recover from the financial disaster I got myself into. I tried to grow up too fast, I didn’t weigh the cons of maxing out my income to pay for this new house.&lt;/p&gt;
&lt;p&gt;Fast-forward to today, I’m 31 and wiser. I’ve made my mistakes and have learned quite a lot from them. Today, I run some projects for my employer (Sencha Inc) and some of my project management skills have spilled over to my personal life such as my personal finances.&lt;/p&gt;
&lt;p&gt;When I plan a project, I come up with 4 lists:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Requirements&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;These are features or ideals that are required. Without all of these, I cannot say “I’m ready” for release or even internal testing.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Needs&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;These are features or ideals that are still required for a GA release but they aren’t show stoppers for internal testing. I usually like to have these before a beta release.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Wants&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;These are completely optional features or ideals but would be great if they made the GA release.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Nevers&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;These are usually ideals of what I don’t want. For example, I don’t want this user interaction to happen. I don’t want bugs :)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you look at these, they can fit very well in personal finances. &lt;strong&gt;Requirements&lt;/strong&gt; are bills, I have to pay my electricity bill. I have to buy food. &lt;strong&gt;Needs&lt;/strong&gt; are more optional but are still required, for me, I have to pay my TV/internet bill for my job (I work from home). I need to buy new clothes to replace worn out clothes. &lt;strong&gt;Wants&lt;/strong&gt; can be a wide range of nice to haves. It would be nice to have a larger TV or new shoes. I want to take a vacation to a tropical island. &lt;strong&gt;Nevers&lt;/strong&gt; are all those bad things, I never want anything to break. I never want to get sick.&lt;/p&gt;
&lt;p&gt;Each month, I know exactly how much money I will make. I know exactly when bills are due. I can budget how much food and gas will cost. So I start cutting slices out for the requirements. I then cut out slices for the needs. Usually the requirements and needs don’t take up the whole pie but things happen. Any left over pie, I start prioritizing the wants and cut out slices for them. Anything leftover, gets thrown into a savings as you should always have a savings for a rainy day.&lt;/p&gt;
&lt;p&gt;Not everything needs a process but things as important as finances, a plan is needed. Your job is likely affected by your personal life experiences so why not the other way around?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Overriding methods safely]]></title><description><![CDATA[In the article Abstract vs Override, I talked about how to use overrides in an application to globally change Ext JS to work for your…]]></description><link>https://mitchellsimoens.com/2015/01/20/overriding-methods-safely/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/01/20/overriding-methods-safely/</guid><pubDate>Tue, 20 Jan 2015 18:30:03 GMT</pubDate><content:encoded>&lt;p&gt;In the article &lt;a href=&quot;https://sencha.guru/2014/12/04/abstract-vs-override/&quot;&gt;Abstract vs Override&lt;/a&gt;, I talked about how to use overrides in an application to globally change &lt;a href=&quot;http://www.sencha.com/products/extjs&quot;&gt;Ext JS&lt;/a&gt; to work for your application. I was recently asked for the best way to override a method by a colleague and that made me think that talking about some techniques may help. It’s not enough to know how to do it, but to know some real-world techniques is helpful.&lt;/p&gt;
&lt;h3&gt;Introduction&lt;/h3&gt;
&lt;p&gt;There are a couple use cases for overriding, most popular is to globally change the behavior or to fix a bug. If you’re not familiar with other programming languages that have a class structure with inheritance, the best way to think of a class structure is a tree struture or like a file system. A class (called a subclass) can extend another class (called a superclass) where the subclass will inherit all members (configs, properties and methods) from the superclass. Overriding allows you to hook into any of these classes to override that member.&lt;/p&gt;
&lt;h3&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; vs &lt;code class=&quot;language-text&quot;&gt;Ext.override&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;First, let’s look at the anatomy of how to override. In previous Ext JS versions you could use &lt;code class=&quot;language-text&quot;&gt;Ext.override&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.override(Ext.Component, {
    foo : &amp;#39;bar&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or the class has a static &lt;code class=&quot;language-text&quot;&gt;override&lt;/code&gt; method also:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.Component.override({
    foo : &amp;#39;bar&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And while this still works, it’s better to use &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Component&amp;#39;, {
    override : &amp;#39;Ext.Component&amp;#39;,

    foo : &amp;#39;bar&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;While this is more characters, it comes with two benefits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Similar API to using &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; to extend a class.&lt;/li&gt;
&lt;li&gt;Override can be dynamically loaded and required using Cmd or plain &lt;code class=&quot;language-text&quot;&gt;Ext.Loader&lt;/code&gt; and then can also be organized in a file system.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It’s recommended to use &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; and defining one override per file. Cmd has the ability to auto-include overrides for you and include them when you build an application.&lt;/p&gt;
&lt;h3&gt;Overriding Properties&lt;/h3&gt;
&lt;p&gt;One of the basic and simplest usages of an override is overriding properties. Looking at the previous code snippets, we actually see how to override properties. Of course in that snippet the override didn’t actually override anything, it added a property onto &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt;. Looking at the API documentation for &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; we can see many properties/configs such as the &lt;code class=&quot;language-text&quot;&gt;hideMode&lt;/code&gt; config which will control how the component is hidden. By default it’s value is &lt;code class=&quot;language-text&quot;&gt;display&lt;/code&gt; which will hide the component but using the CSS &lt;code class=&quot;language-text&quot;&gt;display:none&lt;/code&gt; style which will cause the space taken up by the component not to be reserved. If we change &lt;code class=&quot;language-text&quot;&gt;hideMode&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;visibility&lt;/code&gt; then when the component is hidden the space is still reserved for the component it’s just not visible due to now using the CSS &lt;code class=&quot;language-text&quot;&gt;visibility:hidden&lt;/code&gt; style. We can override this to affect any &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; or subclass like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Component&amp;#39;, {
    override : &amp;#39;Ext.Component&amp;#39;,

    hideMode : &amp;#39;visibility&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now when we hide a component, the space where the component was is still reserved for the component, you just cannot visually see the component anymore. Of course beware, this will override every single &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; and subclass.&lt;/p&gt;
&lt;h3&gt;Overriding Methods&lt;/h3&gt;
&lt;p&gt;Let’s say we have a &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; class that has a &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method defined on it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Foo&amp;#39;, {
    someMethod : function() {
        console.log(&amp;#39;Foo&amp;#39;, &amp;#39;someMethod&amp;#39;);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we instantiate &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; and execute the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt;, we will get &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; logged out to the console.&lt;/p&gt;
&lt;p&gt;We find that there is a bug in it but we don’t have control over the &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; class, say it’s in some third party code where we cannot edit the source so we need to override the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method. We can do this just like how we overrode a property:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Foo&amp;#39;, {
    override : &amp;#39;Foo&amp;#39;,

    someMethod : function() {
        console.log(&amp;#39;Override.Foo&amp;#39;, &amp;#39;someMethod&amp;#39;);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now if we instantiate &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; and execute &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt;, we will only get &lt;code class=&quot;language-text&quot;&gt;Override.Foo someMethod&lt;/code&gt; logged out to the console. We will &lt;strong&gt;not&lt;/strong&gt; see the &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; logged because we overrode the method; it’s like the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; defined in the &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; class never existed.&lt;/p&gt;
&lt;h4&gt;Using &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;In the last override, we overrode the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method on the &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; class to fix a bug. It’s possible that the fix to the bug still needs to call the method that is being overridden, maybe we need to still have the &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; logged out. This is where the &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; method comes in, it tracks what method was overridden to make it still executable:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Foo&amp;#39;, {
    override : &amp;#39;Foo&amp;#39;,

    someMethod : function() {
        console.log(&amp;#39;Override.Foo&amp;#39;, &amp;#39;someMethod&amp;#39;);

        this.callParent();
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So now if we instantiate &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; and execute &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; we will get &lt;code class=&quot;language-text&quot;&gt;Override.Foo someMethod&lt;/code&gt; logged to the console but we will also get &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; logged out thanks to the &lt;code class=&quot;language-text&quot;&gt;this.callParent();&lt;/code&gt; call.&lt;/p&gt;
&lt;h4&gt;Using &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Ext JS has a large class system where there are multiple levels of inheritance. There may be a time when one class extends another class and the subclass calls it’s superclass’ method. Say we need to override the subclass’ method to fix a bug but instead of calling the overridden method using &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; we need to skip that method and call the superclass’ method. This is where &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; comes in handy. First, let’s look at a &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; class that extends &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; and uses &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Bar&amp;#39;, {
    extend : &amp;#39;Foo&amp;#39;,

    someMethod : function() {
        console.log(&amp;#39;Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        this.callParent();
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we instantiate &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; and execute &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; we will get all &lt;code class=&quot;language-text&quot;&gt;Bar someMethod&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Override.Foo someMethod&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; logged out to the console. Remember, we still have &lt;code class=&quot;language-text&quot;&gt;Override.Foo&lt;/code&gt; override in place.&lt;/p&gt;
&lt;p&gt;Let’s see what &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; does when we override the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; on &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; with this override:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Bar&amp;#39;, {
    override : &amp;#39;Bar&amp;#39;,

    someMethod : function() {
        console.log(&amp;#39;Override.Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        this.callSuper();
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now if we instantiate &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; and execute &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; we should &lt;strong&gt;not&lt;/strong&gt; see the &lt;code class=&quot;language-text&quot;&gt;Bar someMethod&lt;/code&gt; logged to the console because &lt;code class=&quot;language-text&quot;&gt;this.callSuper();&lt;/code&gt; should skip that method. And sure enough, we see &lt;code class=&quot;language-text&quot;&gt;Override.Bar someMethod&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Override.Foo someMethod&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; logged to the console.&lt;/p&gt;
&lt;h4&gt;Difference of &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; vs &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;The difference between &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; is what method ends up being executed. &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; will always call the method being overridden where &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; will skip the method being overridden and call a superclass’ method.&lt;/p&gt;
&lt;h3&gt;Overriding Singletons&lt;/h3&gt;
&lt;p&gt;I’m a big fan of having a singleton class to manage certain things like application configs. Let’s say we have something like this for a singleton (simplified than what I have):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.Config&amp;#39;, {
    singleton : true,

    config : {
        configs : null
    },

    constructor : function() {
        this.initConfig();
        this.callParent();
    },

    get : function(key) {
        return this.getConfigs()[key];
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Without our code we can do things like &lt;code class=&quot;language-text&quot;&gt;MyApp.Config.get(&amp;#39;foo&amp;#39;)&lt;/code&gt;. But there in an issue with the &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt; method, what if &lt;code class=&quot;language-text&quot;&gt;this.getConfigs()&lt;/code&gt; returns a non-Object such as the &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt; method was executed before an Xhr call finishes and therefore &lt;code class=&quot;language-text&quot;&gt;this.getConfigs()&lt;/code&gt; will return &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;. We need to handle this case.&lt;/p&gt;
&lt;p&gt;For demonstration purposes, say we cannot edit the source for &lt;code class=&quot;language-text&quot;&gt;MyApp.Config&lt;/code&gt; and therefore we need to use an override. Of course, if you have control over the file, edit the source instead of creating an override.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Config&amp;#39;, {
    override : &amp;#39;MyApp.Config&amp;#39;,

    get : function(key) {
        var configs = this.getConfigs();

        return configs ? configs[key] : null;
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now when we use &lt;code class=&quot;language-text&quot;&gt;MyApp.Config.get(&amp;#39;foo&amp;#39;)&lt;/code&gt; we are protected from whether or not there are configs. &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; work just like overrides on class definitions:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Config&amp;#39;, {
    override : &amp;#39;MyApp.Config&amp;#39;,

    get : function(key) {
        return this.getConfigs() ?
            this.callParent([key]) :
            null;
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This override will execute &lt;code class=&quot;language-text&quot;&gt;this.callParent([key])&lt;/code&gt; if &lt;code class=&quot;language-text&quot;&gt;this.getConfigs()&lt;/code&gt; returns truthy else will return &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;More Reading&lt;/h3&gt;
&lt;p&gt;I also split off some more reading about &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; in another blog: &lt;a href=&quot;https://sencha.guru/2015/01/20/what-is-callparent-callsuper/&quot;&gt;What is callParent and callSuper&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What is callParent and callSuper?]]></title><description><![CDATA[One of the best things about Ext JS is it’s class system. Even though JavaScript doesn’t have a class system with inheritance, Ext JS…]]></description><link>https://mitchellsimoens.com/2015/01/20/what-is-callparent-callsuper/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/01/20/what-is-callparent-callsuper/</guid><pubDate>Tue, 20 Jan 2015 18:01:03 GMT</pubDate><content:encoded>&lt;p&gt;One of the best things about Ext JS is it’s class system. Even though JavaScript doesn’t have a class system with inheritance, Ext JS utilizes different JavaScript methods to create inheritance. This enables classes to extend one another to give power, flexibility and code reuse in a simple api otherwise not present in native JavaScript.&lt;/p&gt;
&lt;h3&gt;Introduction&lt;/h3&gt;
&lt;p&gt;First, let’s setup a couple classes &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; which extends &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Foo&amp;#39;, {
    someProp : 3,

    someMethod : function() {
        console.log(&amp;#39;Foo&amp;#39;, &amp;#39;someMethod&amp;#39;);
    }
});

Ext.define(&amp;#39;Bar&amp;#39;, {
    extend : &amp;#39;Foo&amp;#39;,

    anotherProp : &amp;#39;test&amp;#39;,
    someProp    : 4
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we look at this code, &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; is defined with &lt;code class=&quot;language-text&quot;&gt;someProp&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; members on that class. &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; is defined and extends &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt;, adds an &lt;code class=&quot;language-text&quot;&gt;anotherProp&lt;/code&gt; member and overwrites &lt;code class=&quot;language-text&quot;&gt;someProp&lt;/code&gt; to have a different value than was defined on &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt;. In this case, &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; will inherit the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; and therefore instances of &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; can execute the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method. Let’s look at instantiation and execution:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var foo = new Foo();

foo.someProp === 3;
foo.someMethod(); //logs `Foo someMethod` to the console

var bar = new Bar();

bar.anotherProp === &amp;#39;test&amp;#39;;
bar.someProp === 4;
bar.someMethod(); //logs &amp;#39;Foo someMethod&amp;#39; to the console&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Using &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;We have a need to add logic to &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt;’s &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method but we still need to execute the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; that was inherited from &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt;. If we simply add &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Bar&amp;#39;, {
    extend : &amp;#39;Foo&amp;#39;,

    anotherProp : &amp;#39;test&amp;#39;,
    someProp    : 4,

    someMethod : function() {
        console.log(&amp;#39;Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When we execute &lt;code class=&quot;language-text&quot;&gt;bar.someMethod();&lt;/code&gt; it will now only log out &lt;code class=&quot;language-text&quot;&gt;Bar someMethod&lt;/code&gt; and will not execute the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method on the &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; class because we overrode the method. We can still call &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt;’s &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; by using the &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; method:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Bar&amp;#39;, {
    extend : &amp;#39;Foo&amp;#39;,

    anotherProp : &amp;#39;test&amp;#39;,
    someProp    : 4,

    someMethod : function() {
        console.log(&amp;#39;Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        this.callParent();
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now when &lt;code class=&quot;language-text&quot;&gt;bar.someMethod();&lt;/code&gt; is executed, we will get &lt;code class=&quot;language-text&quot;&gt;Bar someMethod&lt;/code&gt; &lt;strong&gt;and&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; both logged to the console because &lt;code class=&quot;language-text&quot;&gt;this.callParent();&lt;/code&gt; calls the superclass’ (&lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt;) &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method.&lt;/p&gt;
&lt;h4&gt;Function arguments&lt;/h4&gt;
&lt;p&gt;Thus far, the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method did not accept any arguments and therefore we didn’t need to deal with them and how to pass the arguments to the superclass’ method. Let’s modify &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; to handle a couple arguments:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Foo&amp;#39;, {
    someProp : 3,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Foo&amp;#39;, &amp;#39;someMethod&amp;#39;);

        if (callback) {
            callback.call(scope || this);
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We changed the signature of the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method to accept &lt;code class=&quot;language-text&quot;&gt;callback&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;scope&lt;/code&gt; arguments which are optional but we need to now handle passing the arguments in our &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method in the &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; class in order to keep the behavior of the &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method.&lt;/p&gt;
&lt;p&gt;We can do this two ways. The preferred way is to know what the arguments are and pass an array of the arguments to the &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; method call. This may take some educating yourself on what arguments are valid for that method by reading the source for the superclass and it’s ancestors. The other way is to use the special &lt;code class=&quot;language-text&quot;&gt;arguments&lt;/code&gt; keyword which holds the arguments for the current function block. Here are the two methods in action:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Bar&amp;#39;, {
    extend : &amp;#39;Foo&amp;#39;,

    anotherProp : &amp;#39;test&amp;#39;,
    someProp    : 4,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        this.callParent([callback, scope]);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or with the &lt;code class=&quot;language-text&quot;&gt;arguments&lt;/code&gt; keyword:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Bar&amp;#39;, {
    extend : &amp;#39;Foo&amp;#39;,

    anotherProp : &amp;#39;test&amp;#39;,
    someProp    : 4,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        this.callParent(arguments);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I personally always try to know what arguments are possible and use the first method. Documentation can really help here or simply reading the source from that class’ ancestors. If you know a method will never have any arguments, &lt;code class=&quot;language-text&quot;&gt;initComponent&lt;/code&gt; in &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; for example, then you can simply execute &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; without passing any parameters: &lt;code class=&quot;language-text&quot;&gt;this.callParent();&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Using &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Like &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; allows you to call an ancestor method when overwriting one. There are two differences:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; is only usable within an override&lt;/li&gt;
&lt;li&gt;While &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; calls the inherited method, &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; will skip the directly inherited method and call the next level’s method.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let’s create an override to &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; to explore how to use the &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; method:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Bar&amp;#39;, {
    override : &amp;#39;Bar&amp;#39;,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Override.Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this example, we are globally overwriting the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method on &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt;. When we execute &lt;code class=&quot;language-text&quot;&gt;bar.someMethod();&lt;/code&gt; we will only see the &lt;code class=&quot;language-text&quot;&gt;Override.Bar someMethod&lt;/code&gt;. Our need to is not call the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; method on the &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; class but skip it and call the method on the &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; class. We can do this with &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Bar&amp;#39;, {
    override : &amp;#39;Bar&amp;#39;,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Override.Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        this.callSuper([callback, scope]);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now when &lt;code class=&quot;language-text&quot;&gt;bar.someMethod();&lt;/code&gt; is executed, we will get both &lt;code class=&quot;language-text&quot;&gt;Override.Bar someMethod&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; logged to the console. Also note that passing arguments works exactly like it did with &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Handling returning something&lt;/h3&gt;
&lt;p&gt;What if the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; in the &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; class returned something? How do we handle this with &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt;? Well, it’s actually quite simple. First, let’s look at the changes to &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Foo&amp;#39;, {
    someProp : 3,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Foo&amp;#39;, &amp;#39;someMethod&amp;#39;);

        if (callback) {
            callback.call(scope || this);
        }

        return this;
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; is chainable as it returns &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; which is likely the &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; class. Now we need to handle this in the &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; class where we use &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Bar&amp;#39;, {
    extend : &amp;#39;Foo&amp;#39;,

    anotherProp : &amp;#39;test&amp;#39;,
    someProp    : 4,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        return this.callParent([callback, scope]);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All I did here was add &lt;code class=&quot;language-text&quot;&gt;return&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; is just a placeholder for calling the superclass’ method and therefore will return whatever that method returns. The same goes for when &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; is used:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Bar&amp;#39;, {
    override : &amp;#39;Bar&amp;#39;,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Override.Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        return this.callSuper([callback, scope]);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What if you need to do something with what is returned from &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt;? Just cache the execution to a local variable and return that variable. Once again this is exactly the same between &lt;code class=&quot;language-text&quot;&gt;callParent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; so I will only show one:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.Bar&amp;#39;, {
    override : &amp;#39;Bar&amp;#39;,

    someMethod : function(callback, scope) {
        console.log(&amp;#39;Override.Bar&amp;#39;, &amp;#39;someMethod&amp;#39;);

        var ret = this.callSuper([callback, scope]);

        console.log(&amp;#39;Override.Bar&amp;#39;, ret.someProp);

        return ret;
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With all the classes and the override in place, when &lt;code class=&quot;language-text&quot;&gt;bar.someMethod();&lt;/code&gt; is executed it will return &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; (which will be the instance of Bar) but will now log these in this order: &lt;code class=&quot;language-text&quot;&gt;Override.Bar someMethod&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Foo someMethod&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Override.Bar 4&lt;/code&gt;. Couple things to note here, since we used &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; in the override, the &lt;code class=&quot;language-text&quot;&gt;someMethod&lt;/code&gt; defined on the &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; class was not executed as it was skipped due to using &lt;code class=&quot;language-text&quot;&gt;callSuper&lt;/code&gt; and the scope is the instance that was created which is that of the &lt;code class=&quot;language-text&quot;&gt;Bar&lt;/code&gt; class (since we used &lt;code class=&quot;language-text&quot;&gt;var bar = new Bar();&lt;/code&gt; in the beginning) which is why &lt;code class=&quot;language-text&quot;&gt;ret.someProp&lt;/code&gt; returns &lt;code class=&quot;language-text&quot;&gt;4&lt;/code&gt; &lt;strong&gt;not&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt;3&lt;/code&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Documentation Friday!]]></title><description><![CDATA[Let’s face it fellow programmers, we don’t document our code like we really should. Why should we? It doesn’t add to the functionality of…]]></description><link>https://mitchellsimoens.com/2015/01/09/documentation-friday/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/01/09/documentation-friday/</guid><pubDate>Fri, 09 Jan 2015 13:47:03 GMT</pubDate><content:encoded>&lt;p&gt;Let’s face it fellow programmers, we don’t document our code like we really should. Why should we? It doesn’t add to the functionality of the application so why waste time? Also, it’s not very exciting! It’s not exciting to type something, run the application and nothing has changed; nothing is visually or functionally different. We just typed something for the hell of it. Wrong!&lt;/p&gt;
&lt;h4&gt;Why document?&lt;/h4&gt;
&lt;p&gt;There are many reasons to document. From IDE picking up the documentation for function signature help (such as &lt;a href=&quot;http://en.wikipedia.org/wiki/Intelligent_code_completion&quot;&gt;IntelliSense&lt;/a&gt;) to application maintenance. Three months down the road, are you going to remember what the code is doing let alone two years when you have to come back to the application? Someone else helping you with the project going to understand what your piece of code is doing? It’s great when someone types code and types a period and the IDE tells him/her what members (properties, methods) are available.&lt;/p&gt;
&lt;p&gt;We’re humans. Reading sentences about what something is doing can go a long way to describe what’s going on. Should you always have to dive into the code? No! You can use many different documentation systems that can read your documentation and create a web site. I personally use &lt;a href=&quot;https://github.com/senchalabs/jsduck&quot;&gt;JSDuck&lt;/a&gt; for my &lt;a href=&quot;http://www.sencha.com/products/extjs/&quot;&gt;Ext JS&lt;/a&gt; and &lt;a href=&quot;http://www.sencha.com/products/touch/&quot;&gt;Sencha Touch&lt;/a&gt; applications. Even when developing I check the Ext JS &lt;a href=&quot;http://docs.sencha.com/&quot;&gt;api docs&lt;/a&gt; for that method I know is there just can’t remember what it’s called or if it’s plural or singular. Documentation can help you and your present and future team develop faster.&lt;/p&gt;
&lt;h4&gt;When to document&lt;/h4&gt;
&lt;p&gt;Technically, we should be documenting while we write the code. Comments mixed within the code or block comments to describe what arguments a function can accept. The code itself can provide documentation so that when someone is reading the code the variable names are descriptive. I’ll be honest, I’ve developed applications and while programming think that I should write some documentation about it but don’t do it. Then couple months later have to go through and document things and not remember what the heck I was thinking. Kind of just shot myself in the foot right?&lt;/p&gt;
&lt;h4&gt;Documentation Friday!&lt;/h4&gt;
&lt;p&gt;Throughout the week you kicked some code butt! What a great week we had! Did we write documentation? No, we kicked code butt! Just look at it! It’s fantastic! And it is fantastic. Now we have to rely on #DocumentationFriday where we stop development to go back through and document everything. Not really an agile approach to documenting but it seems to work for me. Code throughout the week and go back through and document everything to close out the week. For me, it’s a great way to wind down from the manic development throughout the week and ease into the weekend. Come Monday, game on!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A Naming Strategy]]></title><description><![CDATA[You just got contracted or assigned a new app! Wow, that’s exciting! All you want to do is just jump in and start coding right? Well, you…]]></description><link>https://mitchellsimoens.com/2015/01/07/a-naming-strategy/</link><guid isPermaLink="false">https://mitchellsimoens.com/2015/01/07/a-naming-strategy/</guid><pubDate>Wed, 07 Jan 2015 16:08:03 GMT</pubDate><content:encoded>&lt;p&gt;You just got contracted or assigned a new app! Wow, that’s exciting! All you want to do is just jump in and start coding right? Well, you need to slow down and think about the application first. Don’t skip the pre-planning stage of the programming. This is separate from pre-planning the application where you come up with all the features the app will have, as developers (the implementors) we need to think of how to develop the app before we actually develop the app.&lt;/p&gt;
&lt;h4&gt;Classes&lt;/h4&gt;
&lt;p&gt;In an Ext JS or Sencha Touch application, you will no doubt be creating a lot of classes. Before we start programming, we need to think of how we are going to organize the code. You will likely be refactoring as you develop but thinking a bit up front will help quite a bit.&lt;/p&gt;
&lt;p&gt;First, you have a list of features. You need to take that list and come up with a logical class structure. For example, maybe you have a user management part of the application. You’ll likely need a grid to display a list of users, maybe a detail view of the user and maybe a form to edit and create a user. So right there we know we need 3 classes that belong to a user “feature”:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;user&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Detail&lt;/li&gt;
&lt;li&gt;Form&lt;/li&gt;
&lt;li&gt;Grid&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To add to that, say your application is an email program so you’ll need a form to send an email and of couse a view to display the email so now you have an email and user “features”:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;email&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Detail&lt;/li&gt;
&lt;li&gt;Form&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;user&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Detail&lt;/li&gt;
&lt;li&gt;Form&lt;/li&gt;
&lt;li&gt;Grid&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As you can see, we are already starting to think of what classes our application is likely to have and even a structure.&lt;/p&gt;
&lt;h4&gt;Naming our classes&lt;/h4&gt;
&lt;p&gt;Since we have a structure of classes, the naming of the classes should follow that structure. Say our application name is &lt;code class=&quot;language-text&quot;&gt;Email&lt;/code&gt;, therefore our classes should be named:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.email.Detail&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.email.Form&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.user.Detail&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.user.Form&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.user.Grid&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can logically see the class names describe the same structure that we planned out. With Ext JS 5, you’re likely to have some &lt;code class=&quot;language-text&quot;&gt;ViewController&lt;/code&gt;s for your forms and grids:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.email.Detail&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.email.Form&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.email.FormController&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.user.Detail&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.user.Form&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.user.FormController&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.user.Grid&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Email.view.user.GridController&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Aliases&lt;/h4&gt;
&lt;p&gt;Another part of developing an Ext JS and Sencha Touch application is providing aliases (or xtypes for components). These are string representations of our classes that can be used for lazy instantiation. I’ve seen many naming schemes for naming their aliases to save on space. I see xtypes being like &lt;code class=&quot;language-text&quot;&gt;usergrid&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;emailform&lt;/code&gt; which are pretty descriptive in a simple application but the issue with this is down the road in development the more complex an application gets and not having a naming standard may not be the easiest to remember what class is for an alias when you or someone new to the project comes across the alias somewhere in the application. I keep my alias names closely associated to my class names so when I come across an alias, I know exactly what class that alias is associated with. Here is a mapping of what I’d give my views:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;email-email-detail&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;class: &lt;code class=&quot;language-text&quot;&gt;Email.view.email.Detail&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;email-email-form&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;class: &lt;code class=&quot;language-text&quot;&gt;Email.view.email.Form&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;email-user-detail&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;class: &lt;code class=&quot;language-text&quot;&gt;Email.view.user.Detail&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;email-user-form&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;class: &lt;code class=&quot;language-text&quot;&gt;Email.view.user.Form&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;email-user-grid&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;class: &lt;code class=&quot;language-text&quot;&gt;Email.view.user.Grid&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can see the alias for my views is very close to the class name. In fact, all I did was removed the &lt;code class=&quot;language-text&quot;&gt;.view&lt;/code&gt; portion, lowercased it and replaced periods with dashes. But that’s exactly what I want. Now when I come across an xtype of &lt;code class=&quot;language-text&quot;&gt;email-user-form&lt;/code&gt; I know that it correlates to the &lt;code class=&quot;language-text&quot;&gt;Email.view.user.Form&lt;/code&gt; and I know exactly where to go to look at the source of that view. I’m even fine with the duplication of &lt;code class=&quot;language-text&quot;&gt;email-email-detail&lt;/code&gt; as it needs to conform to my naming standard. The standard needs to be adhered to regardless of duplication.&lt;/p&gt;
&lt;p&gt;For the &lt;code class=&quot;language-text&quot;&gt;ViewController&lt;/code&gt;s, I alias them like so:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;controller.email-email-form&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;class: &lt;code class=&quot;language-text&quot;&gt;Email.view.email.FormController&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;controller.email-user-form&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;class: &lt;code class=&quot;language-text&quot;&gt;Email.view.user.FormController&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;controller.email-user-grid&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;class: &lt;code class=&quot;language-text&quot;&gt;Email.view.user.GridController&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here I did pretty much the same thing as the views’ xtype. I removed the &lt;code class=&quot;language-text&quot;&gt;.view&lt;/code&gt; portion, lowercased the name, replaced periods with dashes only with a &lt;code class=&quot;language-text&quot;&gt;ViewController&lt;/code&gt; I moved the controller part to the beginning of the alias as you have to use the &lt;code class=&quot;language-text&quot;&gt;alias&lt;/code&gt; property and therefor need to give it the &lt;code class=&quot;language-text&quot;&gt;controller&lt;/code&gt; prefix. This gets confusing without seeing the actual code so here is the few lines for the user grid view and controller:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Email.view.user.Grid&amp;#39;, {
    extend : &amp;#39;Ext.grid.Panel&amp;#39;,
    xtype  : &amp;#39;email-user-grid&amp;#39;,

    requires : [
        &amp;#39;Email.view.user.GridController
    ],

    controller : &amp;#39;email-user-grid&amp;#39;,

    //...
});

Ext.define(&amp;#39;Email.view.user.GridController&amp;#39;, {
	extend : &amp;#39;Ext.app.ViewController&amp;#39;,
    alias  : &amp;#39;controller.email-user-grid&amp;#39;,

    //...
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hopefully the code makes a bit more sense about what I mean. If you look at the &lt;code class=&quot;language-text&quot;&gt;Email.view.user.Grid&lt;/code&gt; source and you see the &lt;code class=&quot;language-text&quot;&gt;controller&lt;/code&gt; property, you should be able to immediately know where to look at for the &lt;code class=&quot;language-text&quot;&gt;ViewController&lt;/code&gt;. The reason why I remove the controller from the end of the &lt;code class=&quot;language-text&quot;&gt;controller.email-user-grid&lt;/code&gt; alias is because it’s redundant, the prefix is telling you what the alias is so &lt;code class=&quot;language-text&quot;&gt;controller.email-user-gridcontroller&lt;/code&gt; is redundant but if you want it on your alias there is nothing wrong with it.&lt;/p&gt;
&lt;p&gt;You may be wondering why I have my aliases prefixed with the &lt;code class=&quot;language-text&quot;&gt;email&lt;/code&gt; part that is the application name lowercased. I use Sencha Cmd and often times have packages and each package has it’s own name and the classes are named with that package name. Having the aliases prefixed with that application or package name tells me what class that is. I may have a &lt;code class=&quot;language-text&quot;&gt;MyPackage.view.user.Grid&lt;/code&gt; class so I need to have an xtype of &lt;code class=&quot;language-text&quot;&gt;mypackage-user-grid&lt;/code&gt;. If I just had it as &lt;code class=&quot;language-text&quot;&gt;user-grid&lt;/code&gt; then does that tell me its for &lt;code class=&quot;language-text&quot;&gt;MyPackage.view.user.Grid&lt;/code&gt; or is it for &lt;code class=&quot;language-text&quot;&gt;Email.view.user.Grid&lt;/code&gt;? Do I need to now name my package classes dependent on what I have in my applications that the package may added to? No. Prefix the aliases to allow for present and future-proofing.&lt;/p&gt;
&lt;h4&gt;Reasons&lt;/h4&gt;
&lt;p&gt;The main reason I structure my class names and aliases is for maintenance. Six months down the road, I may not remember what I did but since I have a naming standard I don’t rely on my memory. Six months down the road, I may hire someone to work on my project and with a naming standard they could more easily hit the ground running instead of searching through the source trying to find what class some alias belongs too. Yes, &lt;code class=&quot;language-text&quot;&gt;Ext.ClassManager&lt;/code&gt; holds a mapping of aliases to classes but IMO you shouldn’t have to run the application in order to understand the code especially when it’s so easy to structure your names.&lt;/p&gt;
&lt;h4&gt;Conclusions&lt;/h4&gt;
&lt;p&gt;I’m a big believer in self-deprecation programming. I know many like to program in their own way which can easily give them job security. I want to develop the project so that if something happens to me, like I change jobs and let’s face it, this happens often in our programming field, that someone else can pick up where I left off and the project remains successful. One way to do this, is proper class name structuring; you can read the source and understand the structure very easily.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A Naming Strategy]]></title><description><![CDATA[A common method when developing an application is to be event driven. This allows your code to be very flexible. Not being event driven can…]]></description><link>https://mitchellsimoens.com/2014/12/19/mon-vs-on/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/12/19/mon-vs-on/</guid><pubDate>Fri, 19 Dec 2014 17:06:03 GMT</pubDate><content:encoded>&lt;p&gt;A common method when developing an application is to be event driven. This allows your code to be very flexible. Not being event driven can lead to code that is very intimate to the current state of your application. Change or add something later on and you must go through your application and change the different parts where as being event driven allows an event to be fired and forgotten about. Anything listening to that event can then take action on that event but not be dependant on what fired the event.&lt;/p&gt;
&lt;p&gt;A simple example is an email application.  Say a user sends an email, when the email has been sent and the server returns success, the callback may fire an event to tell anything in the application that the user sent an email. The Sent folder list may listen to this event in order to reload the list. This email may have been sent from different forms, a create email form may be different than a quick reply form but that doesn’t matter, either form may fire the same event and the Sent folder list doesn’t care where it came from. This is flexibility and in my eyes, creates much safer code.&lt;/p&gt;
&lt;h2&gt;Adding listeners in Ext JS&lt;/h2&gt;
&lt;p&gt;Ext JS allows many different ways to add listeners but today I want to speak about &lt;code class=&quot;language-text&quot;&gt;mon&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;on&lt;/code&gt; and the differences. First, let’s start with &lt;code class=&quot;language-text&quot;&gt;on&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;code class=&quot;language-text&quot;&gt;on&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The simplest of the two is the &lt;code class=&quot;language-text&quot;&gt;on&lt;/code&gt; method which can simply add an event listener:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;component.on(&amp;#39;foo&amp;#39;, someFunc, component);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also pass an object for a convenient way to add multiple listeners:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;component.on({
    scope : component,
    foo   : someFunc,
    bar   : someOtherFunc
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will add listeners for the &lt;code class=&quot;language-text&quot;&gt;foo&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;bar&lt;/code&gt; events and scope them to the &lt;code class=&quot;language-text&quot;&gt;component&lt;/code&gt; variable. In Ext JS 4 and newer, listeners defined this way will automatically get removed when the component is destroyed thanks to the &lt;code class=&quot;language-text&quot;&gt;clearListeners&lt;/code&gt; method being executed in the &lt;code class=&quot;language-text&quot;&gt;destroy&lt;/code&gt; method of &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;code class=&quot;language-text&quot;&gt;mon&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;mon&lt;/code&gt; works just like &lt;code class=&quot;language-text&quot;&gt;on&lt;/code&gt; when defining a listener only the first argument must be a class to add the listeners too. That’s a bit confusing of a statement right? Let’s look at an example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;component.mon(subClass, &amp;#39;foo&amp;#39;, someFunc, component);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What this is doing, is adding a listener for the &lt;code class=&quot;language-text&quot;&gt;foo&lt;/code&gt; event that will be fired on the &lt;code class=&quot;language-text&quot;&gt;subClass&lt;/code&gt; variable. Once fired, it will execute the &lt;code class=&quot;language-text&quot;&gt;someFunc&lt;/code&gt; function scoped to the &lt;code class=&quot;language-text&quot;&gt;component&lt;/code&gt; variable but the listener is added to the &lt;code class=&quot;language-text&quot;&gt;component&lt;/code&gt; but the event will be fired on the &lt;code class=&quot;language-text&quot;&gt;subClass&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The benefit here is the component can listen to an event on something else but when the component is destroyed, this listener is removed. The component may be destroyed but the &lt;code class=&quot;language-text&quot;&gt;subClass&lt;/code&gt; variable may still live on; the component is managing the &lt;code class=&quot;language-text&quot;&gt;foo&lt;/code&gt; event listener.&lt;/p&gt;
&lt;p&gt;Like the &lt;code class=&quot;language-text&quot;&gt;on&lt;/code&gt; method, you can also pass an object:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;component.mon(subClass, {
    scope : component,
    foo   : someFunc,
    bar   : someOtherFunc
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Difference&lt;/h3&gt;
&lt;p&gt;Let’s think of an &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; instance that wants to listen to a &lt;code class=&quot;language-text&quot;&gt;store&lt;/code&gt; load. You can use &lt;code class=&quot;language-text&quot;&gt;on&lt;/code&gt; like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;store.on(&amp;#39;load&amp;#39;, this.onStoreLoad, this);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, when the &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; is destroyed, the listener will not be removed because the event listener is on the &lt;code class=&quot;language-text&quot;&gt;store&lt;/code&gt; not the &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt;. This causes a memory leak and the next &lt;code class=&quot;language-text&quot;&gt;store&lt;/code&gt; load after the component is destroyed will likely throw an error, both bad things. This is where &lt;code class=&quot;language-text&quot;&gt;mon&lt;/code&gt; would be a better use:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;this.mon(store, &amp;#39;load&amp;#39;, this.onStoreLoad, this);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This adds a &lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt; listener on the store but is being managed by the &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt;. When the &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; is destroyed, the listener is removed. The &lt;code class=&quot;language-text&quot;&gt;store&lt;/code&gt; is then free to live on and fire it’s &lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt; event without errors being thrown and no memory leaks are present.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Store Listeners]]></title><description><![CDATA[No doubt, you likely have a store or two in your Ext JS/Touch application. Have you had to add a listener to the store to do something…]]></description><link>https://mitchellsimoens.com/2014/12/18/store-listeners/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/12/18/store-listeners/</guid><pubDate>Thu, 18 Dec 2014 14:21:03 GMT</pubDate><content:encoded>&lt;p&gt;No doubt, you likely have a store or two in your Ext JS/Touch application. Have you had to add a listener to the store to do something? Maybe update a component when the store loads? Or take any action based on it? Like anything, there’s a good way to do it but there may be a better way. Let’s discuss some of these ways.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Disclaimer: Some of these techniques use private methods and therefore need to use at your own risk. I have used them and feel confident they will not change but it always could.&lt;/em&gt;&lt;/p&gt;
&lt;h4&gt;Listening to a store load in a component&lt;/h4&gt;
&lt;p&gt;One of the most popular components in Ext JS is the grid (&lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt;) and it so happens to use a store which likely loads data remotely. A configuration I have in my abstract grid class for my projects (for more on abstracts, please see my blog on &lt;a href=&quot;https://sencha.guru/2014/12/04/abstract-vs-override/&quot;&gt;Abstract vs Override&lt;/a&gt;) is to automatically setup a paging toolbar. With it, I like to hide the paging toolbar when there is only one page of data. So with that requirement, I need to take action on when the store loads to then show or hide the paging toolbar.&lt;/p&gt;
&lt;p&gt;First, let’s look at an example abstract grid that will setup the paging toolbar:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Abstracts.grid.Panel&amp;#39;, {
    extend : &amp;#39;Ext.grid.Panel&amp;#39;,
    xtype  : &amp;#39;abstracts-gridpanel&amp;#39;,

    config : {
        autoHidePaging : true,
        pageable       : true
    },

    initComponent : function() {
        var me = this,
            dockedItems = me.dockedItems || [],
            pageable = me.getPageable();

        me.initStore();

        if (pageable) {
            dockedItems.push(pageable);
        }

        me.dockedItems = dockedItems;

        me.callParent();
    },

    applyPageable : function(pageable, oldPageable) {
        if (pageable) {
            if (!Ext.isObject(pageable)) {
                pageable = {};
            }

            Ext.applyIf(pageable, {
                dock  : &amp;#39;bottom&amp;#39;,
                store : this.initStore()
            });
        }

        return Ext.factory(pageable, Ext.toolbar.Paging, oldPageable);
    },

    initStore : function() {
        var me = this,
            store = me.store;

        if (store &amp;amp;&amp;amp; !store.isStore) {
            store = me.store = Ext.data.StoreManager.lookup(store);

            //overwrite this method to simply return the store
            me.initStore = me.getStore;
        }

        return store;
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is just a snippet but will add a paging toolbar to the grid with the benefit of automatically setting the grid’s store on the toolbar. If we use it now, the grid will work and display the paging toolbar and allow users to navigate within the pages.&lt;/p&gt;
&lt;p&gt;Now we need to work with our requirement to show/hide the toolbar dependant on number of pages available. I’m sure most would add a load listener to the store like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;store.on(&amp;#39;load&amp;#39;, me.handleStoreLoad);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and then in the handleStoreLoad method take action which would work but there is a better way. We know the grid already takes action on store loading right? Otherwise how could it display the data? So isn’t there already a load listener somewhere? Yes there is! &lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt; extends &lt;code class=&quot;language-text&quot;&gt;Ext.panel.Table&lt;/code&gt; which sets a load listener to execute a &lt;code class=&quot;language-text&quot;&gt;onStoreLoad&lt;/code&gt; method. Instead of adding our own listener, why not just take advantage of this function? First, we need to understand the method. On &lt;code class=&quot;language-text&quot;&gt;Ext.panel.Table&lt;/code&gt;, it’s defined as such:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// template method meant to be overriden
onStoreLoad: Ext.emptyFn,&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So it’s just a template method not doing anything. Checking &lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt; it doesn’t override it so there is no ancestor that does anything with the method and therefore we now know that we don’t need to execute &lt;code class=&quot;language-text&quot;&gt;this.callParent&lt;/code&gt; when we override it. So we can add our &lt;code class=&quot;language-text&quot;&gt;onStoreLoad&lt;/code&gt; method to show and hide the paging toolbar as such:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;onStoreLoad : function(store) {
    if (this.getAutoHidePaging()) {
        var toolbar = this.getPageable();

        if (toolbar) {
            if (store.getTotalCount() / store.pageSize &amp;lt;= 1) {
                //only one page of data available
                toolbar.hide();
            } else {
                //more than one page is available
                toolbar.show();
            }
        }
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We just acted on a store load without setting our own store load listener and taking advantage of the class system.&lt;/p&gt;
&lt;h4&gt;Listening within a store&lt;/h4&gt;
&lt;p&gt;What if we wanted to do something within a subclass of &lt;code class=&quot;language-text&quot;&gt;Ext.data.Store&lt;/code&gt; when the store loads? We could do this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.store.Users&amp;#39;, {
    extend : &amp;#39;Ext.data.Store&amp;#39;,
    alias  : &amp;#39;myapp-users&amp;#39;,

    proxy : {
        type : &amp;#39;ajax&amp;#39;,
        url  : &amp;#39;foo.json&amp;#39;
    },

    constructor : function(config) {
        this.callParent([config]);

        this.on(&amp;#39;load&amp;#39;, this.doSomething);
    },

    doSomething : function() {}
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Where we set a listener but like what we did with the grid, we can do some research to see if we can do something without setting an event listener. Without going into details on the process a store and proxy go through to load, the proxy is what does the actual request and the store is just a holder of records. But the store has to take action when the proxy finishes it’s loading so it can add the records to it’s internal collection. The method on the store is cleverly named &lt;code class=&quot;language-text&quot;&gt;onProxyLoad&lt;/code&gt; which is also where the load event is actually fired. So we can then hook into this method like such:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.store.Users&amp;#39;, {
    extend : &amp;#39;Ext.data.Store&amp;#39;,
    alias  : &amp;#39;myapp-users&amp;#39;,

    proxy : {
        type : &amp;#39;ajax&amp;#39;,
        url  : &amp;#39;foo.json&amp;#39;
    },

    onProxyLoad : function(operation) {
        this.callParent([operation]);

        this.doSomething();
    },

    doSomething : function() {}
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And now &lt;code class=&quot;language-text&quot;&gt;doSomething&lt;/code&gt; will execute whenever the proxy returns it’s loading without setting any listener.&lt;/p&gt;
&lt;h4&gt;Conclusion&lt;/h4&gt;
&lt;p&gt;I hope this method of reacting to store loads can be thought of for other functions not just store loading. Overriding methods can perform better than listening to events but do have some drawbacks. When overriding methods, you always need to make sure to research that method so you will not break anything.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A cause in poor performance]]></title><description><![CDATA[Over the years of working with Ext JS and Sencha Touch, I’ve gotten to see lots of code both from projects I’ve worked on and for the many…]]></description><link>https://mitchellsimoens.com/2014/12/17/a-cause-in-poor-performance/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/12/17/a-cause-in-poor-performance/</guid><pubDate>Wed, 17 Dec 2014 13:59:03 GMT</pubDate><content:encoded>&lt;p&gt;Over the years of working with Ext JS and Sencha Touch, I’ve gotten to see lots of code both from projects I’ve worked on and for the many code reviews I’ve done. One common thing I always see, and I’m not exaggerating when I say always, is something that can degrade performance quickly both on the DOM and JavaScript execution level. It’s called “overnesting” and it’s an epidemic.&lt;/p&gt;
&lt;h4&gt;What is “overnesting”?&lt;/h4&gt;
&lt;p&gt;Ext JS and Sencha Touch work with Component and Layout systems where you layout your UI by instantiating Components and position/size them using a layout. Overnesting is when you nest a component within a container when that component does not need to be nested. When I say “component”, I mean any component not just &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt;; likewise, “container” doesn’t just mean &lt;code class=&quot;language-text&quot;&gt;Ext.container.Container&lt;/code&gt; it also means for any subclass like &lt;code class=&quot;language-text&quot;&gt;Ext.form.Panel&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;Affect of “overnesting”&lt;/h4&gt;
&lt;p&gt;The side affects of overnesting can include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Extra DOM nodes&lt;/li&gt;
&lt;li&gt;Extra JavaScript execution&lt;/li&gt;
&lt;li&gt;Extra layout runs by the browser and/or the framework&lt;/li&gt;
&lt;li&gt;Layout issues, components not laid out properly on all platforms
- IE may display differently than Chrome&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any of these are bad and will happen if you have overnesting in your application.&lt;/p&gt;
&lt;h4&gt;Example&lt;/h4&gt;
&lt;p&gt;Let’s look at a sample of overnesting:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.create(&amp;#39;Ext.tab.Panel&amp;#39;, {
    items : [
        {
            xtype  : &amp;#39;panel&amp;#39;,
            title  : &amp;#39;Users&amp;#39;,
            layout : &amp;#39;fit&amp;#39;,
            tbar   : [
                { text : &amp;#39;Create User&amp;#39; }
            ],
            items  : [
                {
                    xtype   : &amp;#39;gridpanel&amp;#39;,
                    store   : &amp;#39;Users&amp;#39;,
                    columns : [
                        {
                            text      : &amp;#39;Name&amp;#39;,
                            dataIndex : &amp;#39;name&amp;#39;,
                            flex      : 1
                        }
                    ]
                }
            ]
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this example, we create a tab panel with a single tab that is a panel. The panel has a top docked toolbar with a Create User button and also a grid that is laid out using fit layout. While this will work and look as you would expect, it’s overnesting. The panel is a layer that is not needed just to have a top docked toolbar, the grid can have a top docked toolbar and will look exactly the same:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.create(&amp;#39;Ext.tab.Panel&amp;#39;, {
    items : [
        {
            xtype   : &amp;#39;gridpanel&amp;#39;,
            store   : &amp;#39;Users&amp;#39;,
            tbar    : [
                { text : &amp;#39;Create User&amp;#39; }
            ],
            columns : [
                {
                    text      : &amp;#39;Name&amp;#39;,
                    dataIndex : &amp;#39;name&amp;#39;,
                    flex      : 1
                }
            ]
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Spotting “overnesting”&lt;/h4&gt;
&lt;p&gt;That was a very simple example, applications are going to be much more complex. The first tip I could give is you need to be aware of what your code is doing. A browser does a very good job at showing the DOM structure, it’s a tree of nodes. Your application’s UI is also a tree. The overnesting example could look like this in a tree format:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;--Ext.tab.Panel
----Ext.panel.Panel
------Ext.grid.Panel&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you start to visualize your layout as a tree, you’ll start to realize how things are laid out and can then spot possible overnesting.&lt;/p&gt;
&lt;p&gt;Another tip would be to use tools or scripts. For example, &lt;a href=&quot;https://chrome.google.com/webstore/detail/app-inspector-for-sencha/pbeapidedgdpniokbedbfbaacglkceae&quot;&gt;Sencha AppInspector&lt;/a&gt; can display your components in an actual &lt;code class=&quot;language-text&quot;&gt;Ext.tree.Panel&lt;/code&gt; and give you a bit more information on each component that will help you debug your application. I personally prefer having intimate knowledge over the projects I work on but AppInspector can aid your understanding.&lt;/p&gt;
&lt;h4&gt;Conclusion&lt;/h4&gt;
&lt;p&gt;Overnesting can cause poor performance and all sorts of issues in your application. Even if overnesting isn’t a cause of a bug in an application I’m looking at, it’s still something that has to be addressed. To me, it’s not optional; overnesting must be solved.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Wordpress is slow, Ghost is better?]]></title><description><![CDATA[The de facto standard of blog software is Wordpress, I’m sure everyone has heard of it. You can do quite a bit with it: install themes…]]></description><link>https://mitchellsimoens.com/2014/12/17/wordpress-is-slow-ghost-is-better/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/12/17/wordpress-is-slow-ghost-is-better/</guid><pubDate>Wed, 17 Dec 2014 13:00:03 GMT</pubDate><content:encoded>&lt;p&gt;The de facto standard of blog software is Wordpress, I’m sure everyone has heard of it. You can do quite a bit with it: install themes, plugins, updates all from the admin GUI. Heck, you can even run whole websites (not just blogs) with it. When the &lt;a href=&quot;http://healthcare.gov&quot;&gt;Healthcare.gov&lt;/a&gt; site was failing, I can remember reading stories wondering why they didn’t use Wordpress.&lt;/p&gt;
&lt;p&gt;So I started to wonder, is Wordpress not the right tool for my small little blog? This last year, I was having trouble with my server staying up with Wordpress. First I thought the &lt;a href=&quot;https://www.digitalocean.com/?refcode=24dc06aa008c&quot;&gt;DigitalOcean&lt;/a&gt; instances I was running were too small so I kept bumping it up. Soon I was running a server with 4GB memory and 2 CPUs thinking maybe I was getting lots of traffic. Admittedly, I don’t expect lots of traffic to this blog so that just felt odd to me.&lt;/p&gt;
&lt;p&gt;So I setup some free website monitoring from &lt;a href=&quot;http://www.monitor.us&quot;&gt;Monitor.US&lt;/a&gt; to check performance and to alert me when my server goes down. It was great, I’d get an email when my server went down, I’d go and restart the server. However, some days it was happening several times a day. Another thing I didn’t like is the response times reported by the monitoring. I was getting 300-500ms response from US and more than that from Germany to load the page.&lt;/p&gt;
&lt;p&gt;I also checked &lt;a href=&quot;http://www.google.com/analytics/&quot;&gt;Google Analytics&lt;/a&gt; to see my visitor count and it was no where near what I would need to run the server I had running it. It’s like having a Lamborghini as your grocery getter, you have the engine to go fast but you are really never going to. So something was up with my Wordpress install. Disabling plugins and such didn’t help the stability either. So I could either fix my Wordpress install or go with something else and since I didn’t feel like Wordpress was the right tool for my needs, I looked elsewhere and found a new blogging platform that was just starting and getting lots of buzz, &lt;a href=&quot;https://ghost.org/&quot;&gt;Ghost&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I decided to spin up a new server, install Ghost and work on migrating Wordpress to Ghost. The migration wasn’t the best but I eventually got my existing posts migrated over. The one thing that I regret didn’t transfer was my Wordpress comments, Disqus just failed to ever want to do that. Once I got the server up and running, I transferred my DNS over to the new server. My response times are normally 100ms in the US and 150ms from Germany now and the server instance is much smaller.&lt;/p&gt;
&lt;p&gt;Ghost wasn’t around when I first installed Wordpress. There were others but I played it safe with Wordpress. I’m much happier with the simple Ghost blog that promises never to be complex like Wordpress and that’s exactly what I want. Before Ghost, I even had thought about creating my own blog software to suit only what I wanted, it wouldn’t be too hard to make. So for me and my simple needs, Ghost is perfect! Simple, fast, good :)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Holiday Spirit]]></title><description><![CDATA[This last weekend my wife and I were eating at a Panera Bread Company store for lunch. My wife noticed the gift tree they had next to the…]]></description><link>https://mitchellsimoens.com/2014/12/16/holiday-spirit/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/12/16/holiday-spirit/</guid><pubDate>Tue, 16 Dec 2014 11:48:03 GMT</pubDate><content:encoded>&lt;p&gt;This last weekend my wife and I were eating at a Panera Bread Company store for lunch. My wife noticed the gift tree they had next to the front door and she started talking about when they had a gift tree when she used to work at Whole Foods Market. She had told me these stories before but we went on to tell me how it was her favorite time of the year because she got to see so many people bring in so many gifts for people that had their card on the gift tree. Some people would fill up their trunk of their car and require help bringing in all the gifts. It was truly amazing.&lt;/p&gt;
&lt;p&gt;So as we looked at this gift tree, I proposed one little thing, “Do you want to grab a couple cards and we’d go shopping?” I had her go pick a card for a girl and boy. She came back with a card for a two year old girl and one for a six years old boy and the card has what they wish for. Reading the cards a bit more, these cards weren’t just for any kids; they were for kids suffering from a cancer or blood disease. This broke my heart. The girl, at a young age of two, only wanted a tricycle. And the boy, just wanted a Scooby Doo game. I don’t know what they have or if it’s life threatening but it’s very humbling that they have such a sserious disease but want so little.&lt;/p&gt;
&lt;p&gt;So off to Toys ‘R Us we went, which I’ll admit was also for me too; I’m a big kid still. We found two Scooby Doo games, snatched them both for the boy. They both saids for ages 5+, they look fun to me and I’m 5+, wish I could play with it. Went to the tricycles and found one that had buttons for lights and sounds and the seat moved so the little girl could enjoy it as she grows a little bit (I’d like to think she will fight and win whatever she has).&lt;/p&gt;
&lt;p&gt;I can imagine their smiles when they get these gifts. And that’s the powerful thing here. They may not understand the disease they have, but they do understand happiness and you never know, that may be the key to winning the fight. I will likely never meet them, you do not put your name or anything on the gift when you give it. It’s a purely selfless concept, I wish I could meet them. To see the smiles not just in my imagination but in person. I’m sure it would cause me to cry when I left knowing that I was able to make them happy even if just for the couple minutes I was there. I hope these gifts remind them to keep their head up strong, remember to be happy. Know that even strangers love them.&lt;/p&gt;
&lt;p&gt;So to whomever you two are, I love you.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Abstract vs Override]]></title><description><![CDATA[Developing large single-page applications can be a daunting task.  I’ve seen web applications approach a million lines of code.  That’s…]]></description><link>https://mitchellsimoens.com/2014/12/04/abstract-vs-override/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/12/04/abstract-vs-override/</guid><pubDate>Thu, 04 Dec 2014 14:54:03 GMT</pubDate><content:encoded>&lt;p&gt;Developing large single-page applications can be a daunting task.  I’ve seen web applications approach a million lines of code.  That’s quite a lot of code and performance is a real issue there (luckily it was a B2B application not a consumer facing application).  A golden rule in software development, well most things in life really, is that there is always a better way to do something.  You may think you have the perfect way to make a pizza but there’s likely a better way to make it.  The same goes for software development.&lt;/p&gt;
&lt;h3&gt;Abstracting code&lt;/h3&gt;
&lt;p&gt;One way to minimize code is to create an abstract class.  Ext JS has a great class system that allows simple inheritance.  Taking advantage of this class system by creating an abstract class can minimize the code required because you’re not having to have the same code spread among several classes.&lt;/p&gt;
&lt;p&gt;A simple example I could provide is in my grids I tend to want a couple different things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A top docked toolbar with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A search field&lt;/li&gt;
&lt;li&gt;Button to add a record&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;A paging toolbar&lt;/li&gt;
&lt;li&gt;A refresh tool in the title bar&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Normally I would extend &lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt; for all my grids but for those common UI features I’d have to implement them in each grid which is not optimal.  There’s an better way to do it, create an abstract grid class that extends &lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt; and has configs to turn on/off the UI features. Here is an example abstract grid class (please don’t get overwhelmed by the amount of code):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.abstracts.Grid&amp;#39;, {
    extend : &amp;#39;Ext.grid.Panel&amp;#39;,
    xtype  : &amp;#39;myapp-abstracts-grid&amp;#39;,

    requires : [
        &amp;#39;Ext.button.Button&amp;#39;,
        &amp;#39;Ext.form.field.Text&amp;#39;,
        &amp;#39;Ext.grid.feature.Grouping&amp;#39;,
        &amp;#39;Ext.toolbar.Paging&amp;#39;
    ],

    config : {
        /**
         * @cfg {Boolean/Object} [createNew=true] `true` to add a {@link Ext.button.Button} to create a new record.
         *
         * Can also be a config object for the button.
         */
        createNew   : true,
        /**
         * @cfg {Boolean/Object} [grouped=false] `true` to add the {@link Ext.grid.feature.Grouping} feature to the grid.
         *
         * Can be a config object that will be passed or a boolean.
         */
        grouped     : false,
        /**
         * @cfg {Boolean/Object} [pageable=true] `true` to add a {@link Ext.toolbar.Paging}. Will set the grid&amp;#39;s
         * store on the toolbar automatically.
         *
         * Can be a config object for the paging toolbar.
         */
        pageable    : true,
        /**
         * @cfg {Boolean/Object} [refreshable=true] `true` to add a refresh {@link Ext.panel.Tool} to the title bar.
         *
         * Can be a config object for the tool.
         */
        refreshable : true,
        /**
         * @cfg {Boolean/Object} [searchable=true] `true` to add a search {@link Ext.form.field.Text}.
         *
         * Can also be a config object for the text field.
         */
        searchable  : true
    },

    initComponent : function() {
        var me          = this,
            store       = me.store = Ext.data.StoreManager.lookup(me.store),
            dockedItems = me.dockedItems || [],
            features    = me.features    || [],
            tbar        = me.tbar        || [],
            tools       = me.tools       || [],
            createNew   = me.getCreateNew(),
            grouped     = me.getGrouped(),
            pageable    = me.getPageable(),
            refreshable = me.getRefreshable(),
            searchable  = me.getSearchable();

        if (createNew) {
            tbar.unshift(Ext.apply({
                text    : &amp;#39;Create&amp;#39;,
                iconCls : &amp;#39;fa fa-plus&amp;#39;,
                handler : &amp;#39;onCreateClick&amp;#39;
            }, createNew));
        }

        if (searchable) {
            //add it first
            tbar.unshift(Ext.apply({
                xtype           : &amp;#39;textfield&amp;#39;,
                enableKeyEvents : true,
                emptyText       : &amp;#39;search...&amp;#39;,
                width           : 300,
                triggers        : {
                    search : {
                        cls     : &amp;#39;fa fa-search&amp;#39;,
                        handler : &amp;#39;doSearch&amp;#39;
                    }
                },
                listeners       : {
                    keydown : &amp;#39;onSearchKeyDown&amp;#39;
                }
            }, searchable));
        }

        if (grouped) {
            features.push(Ext.apply({
                ftype : &amp;#39;grouping&amp;#39;
            }, grouped));
        }

        if (pageable) {
            dockedItems.push(Ext.apply({
                xtype       : &amp;#39;pagingtoolbar&amp;#39;,
                dock        : &amp;#39;bottom&amp;#39;,
                displayInfo : true,
                store       : store
            }, pageable));
        }

        if (refreshable) {
            tools.push(Ext.apply({
                type    : &amp;#39;refresh&amp;#39;,
                tooltip : &amp;#39;Refresh Grid&amp;#39;,
                scope   : me,
                handler : &amp;#39;refreshStore&amp;#39;
            }, refreshable));
        }

        if (tbar.length) {
            docks.push({
                xtype : &amp;#39;toolbar&amp;#39;,
                dock  : &amp;#39;top&amp;#39;,
                items : tbar
            });
        }

        me.dockedItems = docks;
        me.features    = features;
        me.tools       = tools;
        me.tbar        = null;

        me.callParent();
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We now have an abstract grid class that has 5 configs to add certain UI features that are common among grids.  Within the &lt;code class=&quot;language-text&quot;&gt;initComponent&lt;/code&gt; method, we go through these configs and add the classes to the grid.  The configs can be a simple &lt;code class=&quot;language-text&quot;&gt;Boolean&lt;/code&gt; or can be config &lt;code class=&quot;language-text&quot;&gt;Object&lt;/code&gt;s for the different components associated with that config.&lt;/p&gt;
&lt;h5&gt;Abstract Benefits&lt;/h5&gt;
&lt;p&gt;The issue with this is it will cause a little bit of performance as any extra code will.  Not only do you have an extra &lt;code class=&quot;language-text&quot;&gt;initComponent&lt;/code&gt; call for each class instance, you also have the configs that get the getter/setter methods created, the conditionals in the &lt;code class=&quot;language-text&quot;&gt;initComponent&lt;/code&gt;, and the &lt;code class=&quot;language-text&quot;&gt;Ext.apply&lt;/code&gt; calls.  That’s narrow vision thinking though.  If you look at it from an entire application perspective, you will save on performance as it should lead to smaller code; likely not smaller code to be executed as the code has to be executed somewhere but smaller code for the browser to download and evaluate.&lt;/p&gt;
&lt;p&gt;I haven’t sold you on the idea yet?  Let’s look at it from a maintenance perspective.  No doubt, somewhere down the line of development someone will make the decision to add a UI feature.  Would you rather go through each grid and add that in there or make a new config in an abstract class that all grid’s will inherit?  Change one class or many?  Still not sold?  You’re a hard sale.  Let’s look at it from a QA perspective.  Would you rather test one class for these features or many classes duplicating the tests?  Still not sold?  Guess you aren’t in charge of QA then.  Maybe you’re a project lead or in management.  How about time of development?  Would you rather pay someone to make one change or many?  Abstracts allow you to work faster, implement application features quicker when you have the abstracts setup upfront.&lt;/p&gt;
&lt;p&gt;I do this for many different classes that are used frequently: form panel, window, tree but also view controllers (before action in a route maybe?) and stores.&lt;/p&gt;
&lt;h3&gt;Using overrides&lt;/h3&gt;
&lt;p&gt;Abstracts are incredibly useful.  However, abstracts cannot solve everything.  I’m currently working on a new support portal for Sencha, employees (admins) should see different items than customers (users).  I could hook into &lt;code class=&quot;language-text&quot;&gt;initComponent&lt;/code&gt; and build the items array there but I wanted to use simple configs and stay away from overriding methods so I have &lt;code class=&quot;language-text&quot;&gt;adminItems&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;userItems&lt;/code&gt; configs I implement like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.Foo&amp;#39;, {
    extend : &amp;#39;Ext.container.Container&amp;#39;,
    xtype  : &amp;#39;myapp-foo&amp;#39;,

    adminItems : [
        //...
    ],

    userItems : [
        //...
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I were to handle this in an abstract, I’d have to spread the code around to &lt;code class=&quot;language-text&quot;&gt;Ext.container.Container&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Ext.panel.Panel&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt;, etc abstract classes so that all components would handle the different admin/user configs.  With the abstract approach, I’d have to spread the logic which is not what I want to do.  I could create a singleton utility class and in the abstracts execute a common method on that utility class but there is a better way to do it.  Let’s keep taking advantage of the class system and override certain Ext JS classes.  An example to pick certain items based on if the user is an admin or user we need to determine where the class that handles the items is, which is &lt;code class=&quot;language-text&quot;&gt;Ext.container.Container&lt;/code&gt;, and override it like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.container.Container&amp;#39;, {
    override : &amp;#39;Ext.container.Container&amp;#39;,

    adminItems : null,
    userItems  : null,

    buildItems      : null,
    buildAdminItems : null,
    buildUserItems  : null,

    initComponent : function() {
        var me      = this,
            user    = Portal.user,
            isAdmin = user &amp;amp;&amp;amp; user.isAdmin();

        if (me.buildItems) {
            me.items = me.buildItems();
        } else if (me.buildAdminItems &amp;amp;&amp;amp; isAdmin) {
            me.items = me.buildAdminItems();
        } else if (me.buildUserItems &amp;amp;&amp;amp; user) {
            me.items = me.buildUserItems();
        } else if (me.adminItems &amp;amp;&amp;amp; isAdmin) {
            me.items = me.adminItems;
        } else if (me.userItems &amp;amp;&amp;amp; user) {
            me.items = me.userItems;
        }

        me.callParent();
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I also go a bit further and allow for &lt;code class=&quot;language-text&quot;&gt;buildItems&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;buildAdminItems&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;buildUserItems&lt;/code&gt; to be methods that I can execute and return items making this override a bit more flexible.&lt;/p&gt;
&lt;p&gt;The same process can be put into place for docked items but we need to override &lt;code class=&quot;language-text&quot;&gt;Ext.panel.Panel&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Override.panel.Panel&amp;#39;, {
    override : &amp;#39;Ext.panel.Panel&amp;#39;,

    adminDockedItems : null,
    userDockedItems  : null,

    buildDockedItems      : null,
    buildAdminDockedItems : null,
    buildUserDockedItems  : null,

    initComponent : function() {
        var me      = this,
            user    = Portal.user,
            isAdmin = user &amp;amp;&amp;amp; user.isAdmin();

        if (me.buildDockedItems) {
            me.dockedItems = me.buildDockedItems();
        } else if (me.buildAdminDockedItems &amp;amp;&amp;amp; isAdmin) {
            me.dockedItems = me.buildAdminDockedItems();
        } else if (me.buildUserDockedItems &amp;amp;&amp;amp; user) {
            me.dockedItems = me.buildUserDockedItems();
        } else if (me.adminDockedItems &amp;amp;&amp;amp; isAdmin) {
            me.dockedItems = me.adminDockedItems;
        } else if (me.userDockedItems &amp;amp;&amp;amp; user) {
            me.dockedItems = me.userDockedItems;
        }

        me.callParent();
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I now have reusable logic for any class. Before, if I wanted to use adminDockedItems in a grid, I’d have to implement the code in &lt;code class=&quot;language-text&quot;&gt;Ext.panel.Panel&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt; abstracts but with override I only have to impelemnt the code in the &lt;code class=&quot;language-text&quot;&gt;Ext.panel.Panel&lt;/code&gt; override as &lt;code class=&quot;language-text&quot;&gt;Ext.grid.Panel&lt;/code&gt; eventually extends &lt;code class=&quot;language-text&quot;&gt;Ext.panel.Panel&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The same benefits for abstracts is the same for overrides.  Testability, reusability and time are more optimized.&lt;/p&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;The title of the blog is a bit misleading, it’s not one versus the other; I use both methods in my applications.  I find doing things like this allows me to be more flexible and quicker and have great success.  That million line app I worked on a few years could have been optimized using abstracts and overrides.  It was but only to an extent, there were many teams working on the one application and I was only to work on my section.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Why Ext JS in the face of many (micro)libraries]]></title><description><![CDATA[First, I want to provide a disclaimer.  I work for Sencha so admittibly I’m a bit biased.  Believe be or not when I say I attempt to have an…]]></description><link>https://mitchellsimoens.com/2014/12/01/why-ext-js-in-the-face-of-many-libraries/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/12/01/why-ext-js-in-the-face-of-many-libraries/</guid><pubDate>Mon, 01 Dec 2014 16:55:03 GMT</pubDate><content:encoded>&lt;p&gt;First, I want to provide a disclaimer.  I work for Sencha so admittibly I’m a bit biased.  Believe be or not when I say I attempt to have an open mind, I know Ext JS isn’t the right tool for every job.  However, for the applications I’ve had to build, it’s been the perfect tool.&lt;/p&gt;
&lt;p&gt;I also want to say I’m writing this blog on the tails of reading the blog &lt;a href=&quot;http://www.breck-mckye.com/blog/2014/12/the-state-of-javascript-in-2015/&quot;&gt;The State of JavaScript in 2015&lt;/a&gt; by Jimmy Breck-McKye.&lt;/p&gt;
&lt;h4&gt;Jimmy’s tl;dr&lt;/h4&gt;
&lt;p&gt;Directly from his blog post, his tl;dr is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;The churn rate of front end JavaScript technologies is problematic&lt;/li&gt;
&lt;li&gt;People are starting to feel burned out and alienated by the pace of change&lt;/li&gt;
&lt;li&gt;The answer might be to eschew monolithic frameworks in favour of microlibraries&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Of course, we’ll see how much of this actually happens in 2015. It’s entirely possible that Angular’s dominance will remain stable despite the wailing and gnashing of teeth – it is, after all, popular for a very good reason. If so, Angular’s position could be secured in an industry looking for standards and stability amongst the turbulence of the last two years. It’s also possible that another monolith might take Angular’s place. An informal combination of React, Flux and Browserify seems the obvious candidate.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So what he is saying in his blog is that the rate of new JS tech is overwhelming developers and you should pick proven microlibs to piece together an application.&lt;/p&gt;
&lt;h4&gt;Churn Rate&lt;/h4&gt;
&lt;p&gt;I 100% agree that the number of new libraries and such coming out every day (it seems) is overwhelming.  If I was just starting out, I’d be walking out onto an 8 lane interstate with bumper-to-bumper traffic not knowing what to do.  There is a “hot flavor of the month” where one is touted to be the best thing ever but soon dies because no one actually uses it or turns out it’s not all that great.&lt;/p&gt;
&lt;p&gt;So should people calm down and go with one?  Thinking as a developer, I’m never going to settle for one; I’m never going to stop creating.  In this field, if you stop creating you are irrelevant or soon to be.  You should always challenge and push yourself, that’s how you get better.&lt;/p&gt;
&lt;p&gt;Read about all the new stuff but take it with a grain of salt.  For actual projects you get paid for; yes, pick a proven library/framework but for hobby or pet-projects have some fun!  I’ve created countless things that have never seen the light of day but it’s all part of me teaching myself something.  Practice makes perfect right?&lt;/p&gt;
&lt;h4&gt;Why Ext JS?&lt;/h4&gt;
&lt;p&gt;In Jimmy Breck-McKye’s blog, he recommends to go with microlibraries to piece together your applications instead of a monolithic framework.  A microlib usually does one thing really good but a monolithic framework does a ton of stuff well.  The problem I have with the piece meal of microlibs is that there is no one code style and the piecing together of things can be fragile and difficult and can often lead to poor performance.&lt;/p&gt;
&lt;p&gt;“You just said monolithic frameworks only do stuff well but microlibs do things really good. Why would I settle with well when I can have really good?”  That’s a good question and assuming the glue of all the microlibs is optimal and solid, I’d still stay away from it for the projects I’ve had to work on.&lt;/p&gt;
&lt;p&gt;Ext JS does a lot of things really well. Look at it’s data and grid packages, I haven’t seen anything that compares.  The charting package used to be the best, it’d do the basic things just fine but failed quickly. Have you seen the progression the charts of had in recent releases? Leaps and bounds better, catching up extremely quick.  Notice I am using the term “packages”, Ext JS together with Sencha Cmd, Ext JS is really a collection of packages (would be a stretch to call them microlibs) and the core of Ext JS (called sencha-core) is the glue to hold these packages together.  If your application won’t be using grids, Cmd will not build it in for you (including the CSS!).  So if you agree with the piecing the microlib mentality, Ext JS is setup for it!  If you want to use a chart library instead of Ext JS’ charting package, you can very well do that and with Sencha Cmd your application will not contain Ext JS’ charting source and styles.  It’s really not that hard to create an Ext JS component to wrap it and translate data from an Ext JS store to a format readable for that chart.&lt;/p&gt;
&lt;p&gt;Ext JS has been around since 2006 and it’s not going anywhere.  Development is incredibly active, documentation is being written actively, new guides are being authored, the forums are as busy as ever.  I love Ext JS, for what I do, it’s exactly the right tool.  Well, in my eyes it’s the only tool.  In the face of things coming and going, Ext JS has been going strong.&lt;/p&gt;
&lt;h4&gt;Conclusion&lt;/h4&gt;
&lt;p&gt;Don’t get overwhelmed with all the new fancy, shiney stuff.  For paid gigs, use what’s proven.  For fun, use the new stuff or better yet, create the new stuff. Piecing together microlibs to create a stable application may not be a good idea and Ext JS still has a place in this microlib infested world.  You really have to determine what the right tool for the project is.  Ext JS can be overkill but it can be the savior, just depends on your project.&lt;/p&gt;
&lt;p&gt;Also, one pet-peeve I have is when a blog doesn’t allow comments.  Jimmy’s does not.  I personally love hearing people’s opinions even when they conflict with mine.  I respect people’s opinions, I know I’m not always right.  Let me know what you think, let’s discuss!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Tough Mudder - Looking ahead for 2015]]></title><description><![CDATA[Tough Mudder Prior First of 2013, my now wife and I started working out to prepare for our wedding in the summer. I used to be that tall…]]></description><link>https://mitchellsimoens.com/2014/10/27/tough-mudder-looking-ahead-for-2015/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/10/27/tough-mudder-looking-ahead-for-2015/</guid><pubDate>Mon, 27 Oct 2014 16:32:03 GMT</pubDate><content:encoded>&lt;p&gt;&lt;img src=&quot;https://toughmudder.cachefly.net/sites/all/themes/tough_mudder/logo.png&quot; alt=&quot;Tough Mudder&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prior&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;First of 2013, my now wife and I started working out to prepare for our wedding in the summer. I used to be that tall, skinny guy but since working at a computer I swelled to 240 pounds. Ouch! I saw some pictures of myself and realized I wasn’t happy. We both caught the workout bug and started working out all the time with personal trainers. I lost about 40 pounds and have been hovering at 200 pounds for quite some time now.&lt;/p&gt;
&lt;p&gt;Around the same time, Jay Garcia was getting into working out and ran a Tough Mudder. Knowing I wasn’t at that point, I did a few smaller mud runs that were 5k-7k distances and loved it! They were so much fun! Finally, I signed up for my first Tough Mudder in Chicago in May 2014 along with Jay Garcia and Arthur Kay. Art was running quite a bit, Jay was lifting (not body building lifting) and I was in the middle where I could run 10 miles and was lifting quite often. Well, the three of us kicked ass in the Chicago Mudder.&lt;/p&gt;
&lt;p&gt;Since moving to Florida, the heat and gyms being crowded has killed my old workout regimine but I have run 18 miles in one go but have backed down to only running 10 miles as for Tough Mudder I don’t need to run more. I also bought a few gym equipment (squat rack, gym mats, etc) and so I can now also target the muscles I need to work on whenever I want instead of pot luck at a gym.&lt;/p&gt;
&lt;p&gt;In 2 weeks (November 8, 2014) I will be running my second Tough Mudder in Orlando solo. I’m hoping to do it in 2.5 hours or less but some recent ankle injuries and not working out while on vacation last week may play a big role in that goal. We shall see! I hope sunny Florida doesn’t charge the electric shock obstacle(s) too much.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2015&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;So my running and workouts are now back on track and I’m looking to push myself very hard in 2015. So far, I’m signed up for the Chicago Mudder on May 9, 2015 but I’m gonna turn it into a season pass as there are 6 Mudders I want to do and one or two up where Jay lives.&lt;/p&gt;
&lt;p&gt;Here is my 2015 Mudder schedule:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;March 7&lt;/strong&gt; Gulf Coast &lt;em&gt;(near Pensacola, Florida)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;May 2&lt;/strong&gt; Atlanta, Georgia&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;May 9&lt;/strong&gt; Chicago, Illinois&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;May 16&lt;/strong&gt; Tennessee &lt;em&gt;(about an hour south of Nashville, Tennessee)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;October 10&lt;/strong&gt; Missouri &lt;em&gt;(about 1.5 hours west of Saint Louis, Missouri)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fall 2015&lt;/strong&gt; Central Florida &lt;em&gt;(Orlando, Florida; date TBA)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are the 6 I plan to do, still waiting to talk to Jay about which one(s) he plans on doing near him to add to it.&lt;/p&gt;
&lt;p&gt;Due to trying to save money for a house, I’m trying to stay in driving distance of where I live so that’s why over the summer I don’t plan on doing any but you never know. Also, Danielle may accompany me as a spectator on some which would be great to have some great pictures/videos of me. Last Mudder the photographer didn’t get any of me except at the end.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Challenges&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;First challenge is the May Mudders. Doing 3 Mudders back-to-back for 3 weeks straight will challenge my conditioning and health. I have a few months to get a great meal plan and exercises to get ready for this.&lt;/p&gt;
&lt;p&gt;Going solo. Except for Chicago, I’m likely going to be doing these by myself. There are a couple obstacles that require teamwork so I’m hoping to find a group or someone to team up with when running. Normally people are great about helping each other out so this shouldn’t a huge issue.&lt;/p&gt;
&lt;p&gt;Gripe strength is very important for many of the obstacles. I’d say this was my biggest negative before and over the winter I hope to improve this in prep for the 2015 season. I finally have plywood and gym mats installed so dead lifts and cleans are now possible.&lt;/p&gt;
&lt;p&gt;Along with gripe strength, my shoulders need some improving. Trying to get over the walls was a bit tough for my 200 pound frame. I will be including exercises to help in this area.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Goals&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I like to set high goals for myself to really push myself. After each goal achieved, I set the next goal higher. My motto is, “If I’m gonna hit a wall, I’m gonna run as hard as I can into it.”&lt;/p&gt;
&lt;p&gt;First goal is obviously to complete each Mudder, hopefully injury free.&lt;/p&gt;
&lt;p&gt;Second goal, the Chicago Mudder that I already ran we finished in 3 hours. I’m hoping to beat this. I’ll be doing it with Art (hopefully Jay will make it out) and at the end we got some back charlie horses. I’m hoping my health will be much better.&lt;/p&gt;
&lt;p&gt;Third goal, I’m very much looking forward to the Missouri Mudder. I used to live in Saint Louis but with work and other things schedules haven’t allowed me to run it. Next year, I have a trip that will be in October/November time so hopefully that doesn’t screw it up. But since it’s in the later part of the year and the first after my long summer break, I’m looking to really kick ass. I’m going for time! I may even ruck it (backpack of weight)!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2015 is going to be a hell of a lot of fun for me. Tough Mudders are tough but I feel that over the winter and the summer break I can really do well in preparing my body for these to make my challenges into strengths and achieving my goals. I’m looking forward to Danielle seeing me in action finally and going back to Chicago to run with Art and Jay (in Chicago and/or D.C. area) will be good fun.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Loading Model Data on Demand]]></title><description><![CDATA[There are use cases where a model’s fields need to be loaded from the server so your application can be dynamic and even automatically…]]></description><link>https://mitchellsimoens.com/2014/04/30/loading-models-on-demand/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/04/30/loading-models-on-demand/</guid><pubDate>Wed, 30 Apr 2014 09:24:03 GMT</pubDate><content:encoded>&lt;p&gt;There are use cases where a model’s fields need to be loaded from the server so your application can be dynamic and even automatically maintained via the database design changing or some server side update. I recently read a blog post that talked about the same thing but I felt the solution provided was too simplistic and didn’t make use of functionality already in Ext JS. So I wanted to create an example of how I would do it.&lt;/p&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;p&gt;Before we start coding, lets map out our requirements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A store needs to load the model data from the server.&lt;/li&gt;
&lt;li&gt;We need to reuse the model when it is created from server side data so we don’t keep creating model definitions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pretty simple requirements. The issue with the solution I saw was the second requirement. In that blog post, the store was sending an &lt;code class=&quot;language-text&quot;&gt;Ext.Ajax.request&lt;/code&gt; to load the fields every time a store instance was created. This is unnecessary as once you have the fields for the model and the model has been defined, you no longer need to do another ajax request to load the fields again. Also, the solution used &lt;code class=&quot;language-text&quot;&gt;Ext.Ajax.request&lt;/code&gt; which means you are locked into using it. One last issue with that solution: what if the store auto-loaded and it took less time than the request loading the model fields? You have a racing condition that you can never 100% say will work; network latency, server issues, etc all play a part.&lt;/p&gt;
&lt;h2&gt;Ext JS Native Functionality&lt;/h2&gt;
&lt;p&gt;I mentioned before about the other solution not using functionality that Ext JS already has. When the reader (the &lt;code class=&quot;language-text&quot;&gt;Ext.data.reader.*&lt;/code&gt;) is asked to read the data (readRecords method), it checks to see if there is a &lt;code class=&quot;language-text&quot;&gt;metaData&lt;/code&gt; field in the raw response and if so will execute it’s &lt;code class=&quot;language-text&quot;&gt;onMetaChange&lt;/code&gt; method which will then define a new model with the fields returned among other things. Here is the &lt;code class=&quot;language-text&quot;&gt;onMetaChange&lt;/code&gt; method, the code speaks for itself:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;onMetaChange : function(meta) {
    var me = this,
        fields = meta.fields || me.getFields(),
        model,
        newModel,
        clientIdProperty,
        proxy;

    // save off the raw meta data
    me.metaData = meta;

    // set any reader-specific configs from meta if available
    if (meta.root) {
        me.setRootProperty(meta.root);
    }

    if (meta.totalProperty) {
        me.setTotalProperty(meta.totalProperty);
    }

    if (meta.successProperty) {
        me.setSuccessProperty(meta.successProperty);
    }

    if (meta.messageProperty) {
        me.setMessageProperty(meta.messageProperty);
    }

    clientIdProperty = meta.clientIdProperty;

    newModel = Ext.define(null, {
        extend: &amp;#39;Ext.data.Model&amp;#39;,
        fields: fields,
        clientIdProperty: clientIdProperty
    });
    me.setModel(newModel);
    proxy = me.getProxy();
    if (proxy) {
        proxy.setModel(newModel);
    }
    me.buildExtractors(true);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, the &lt;code class=&quot;language-text&quot;&gt;metaData&lt;/code&gt; allows you to set the root, total, success and message properties but also is going to define a model. Here is an example JSON response that will make the reader execute this method:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;quot;metaData&amp;quot; : {
        fields : [...]
    },
    ...
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Caching&lt;/h2&gt;
&lt;p&gt;So now we know that Ext JS can accept metaData to create a new model as we want but the second requirement is we only want to load it once so we need some sort of way to selectively tell the server to return the meta and we also need to cache the model definition for subsequent store instances. Since I may have multiple store definitions that need to use this and I don’t want too much logic in my stores; I like to use a singleton class as a utility class. In this example app, I have a singleton class called &lt;code class=&quot;language-text&quot;&gt;MyApp.util.StoreModelCache&lt;/code&gt; located at &lt;code class=&quot;language-text&quot;&gt;app/util/StoreModelCache.js&lt;/code&gt;. What this class does is holds an object mapping store class names to model definition. If a model is not cached yet, it adds a &lt;code class=&quot;language-text&quot;&gt;beforeload&lt;/code&gt; event listener so that it can add a parameter (&lt;code class=&quot;language-text&quot;&gt;needsModel&lt;/code&gt; for this example) to the request to tell the server to return the meta data for the model. It will also add a &lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt; event listener to then cache the model definitionx the reader created. To kick off the use of the &lt;code class=&quot;language-text&quot;&gt;MyApp.util.StoreModelCache&lt;/code&gt; class, in the &lt;code class=&quot;language-text&quot;&gt;constructor&lt;/code&gt; method of the &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Cached&lt;/code&gt; store, I execute the get method on the &lt;code class=&quot;language-text&quot;&gt;MyApp.util.StoreModelCache&lt;/code&gt; class which returns the model definition from the cache and if one doesn’t exist it will add the event listeners.&lt;/p&gt;
&lt;p&gt;Do note, I don’t use &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Cached&lt;/code&gt; in my grid, I use &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Users&lt;/code&gt; and have that store extend &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Cached&lt;/code&gt; to give a good example as to how you can then have multiple stores reuse the logic.&lt;/p&gt;
&lt;p&gt;To summarize it, the &lt;code class=&quot;language-text&quot;&gt;MyApp.util.StoreModelCache&lt;/code&gt; holds model definitions in a cache. If one doesn’t exist, it tells the server to return the model meta data and caches the model definition when it’s created.&lt;/p&gt;
&lt;h2&gt;Example&lt;/h2&gt;
&lt;p&gt;The example consists of an Ext JS 5 application that has a grid, the stores and the singleton. The example also comes with a PHP script that will load the data and such from a MySQL database. I provide a &lt;code class=&quot;language-text&quot;&gt;data.sql&lt;/code&gt; file that I used for my testing.&lt;/p&gt;
&lt;p&gt;Once you get the SQL file imported into a MySQL and you setup the MySQL connection details at the top of &lt;code class=&quot;language-text&quot;&gt;data.php&lt;/code&gt;, you can then run the Ext JS 5 app. The &lt;code class=&quot;language-text&quot;&gt;MyApp.store.Users&lt;/code&gt; store will automatically load so wait a couple seconds for it to load and you should see 2 rows in the grid. If you look at the network tab in the dev tools, you will see a request to &lt;code class=&quot;language-text&quot;&gt;data.php&lt;/code&gt; that has the &lt;code class=&quot;language-text&quot;&gt;needsModel&lt;/code&gt; parameter and therefore the response contains the &lt;code class=&quot;language-text&quot;&gt;metaData&lt;/code&gt; data which then the reader created the model definition.&lt;/p&gt;
&lt;p&gt;The grid has 2 tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;refresh&lt;/strong&gt; This will reload the store which shouldn’t send the &lt;code class=&quot;language-text&quot;&gt;needsModel&lt;/code&gt; parameter as the model should have been cached.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;recreate&lt;/strong&gt; This will destroy the current grid and recreate the grid. I have this so the grid will get a new store instance to show that the model definition created in the first instance was cached.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The example is hosted on GitHub: &lt;a href=&quot;https://github.com/mitchellsimoens/ModelOnDemand&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ext.create or Ext.widget or new... what the heck?]]></title><description><![CDATA[There has been a conversation going on in a private forum on the Sencha Forums where it discusses what to use and what to recommend in…]]></description><link>https://mitchellsimoens.com/2014/04/01/ext-create-or-ext-widget-or-new-what-the-heck/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/04/01/ext-create-or-ext-widget-or-new-what-the-heck/</guid><pubDate>Tue, 01 Apr 2014 09:14:03 GMT</pubDate><content:encoded>&lt;p&gt;There has been a conversation going on in a private forum on the Sencha Forums where it discusses what to use and what to recommend in regards to how to create an instance of a class in Ext JS (which spills over to Sencha Touch as well). You can use &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Ext.widget&lt;/code&gt; or the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword and the end result is the same. So which should you use? If you ask me, it depends on the situation but the more important thing to me is knowing what happens under the hood with each method. The more you understand about the framework the better off you will be (so long as you don’t get overwhelmed which I will try not to do :) ). I’m not trying to sway you to use one method, I want you to know what happens under the hood and some drawbacks I see from each method.&lt;/p&gt;
&lt;h2&gt;The &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword&lt;/h2&gt;
&lt;p&gt;The simplest, most performant form of creating an instance is using the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;new Ext.Component({
    html : &amp;#39;Hello there&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is the most performant means of creating an instance so why not always use it? Why have the other means? The first drawback of using the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword is that the class must always be loaded. In production this isn’t an issue as all classes should be loaded in a single (minified/obfuscated) file but in development the class may not be loaded. If the class isn’t loaded, a syntax error will be thrown. I would argue that you should setup your requires properly and this problem is now moot.&lt;/p&gt;
&lt;p&gt;I personally always use the new keyword even when saving a couple CPU cycles doesn’t matter. To me it’s simpler and cleaner, the others are just a waste of extra code in a production build where performance really matters.&lt;/p&gt;
&lt;h2&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The most common (and the officially recommended means by Sencha) to create an instance is using &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.create(&amp;#39;Ext.Component&amp;#39;, {
    html : &amp;#39;Hello there&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Not too different of a syntax from using the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword but there is more going on under the hood than just instantiating. The big drawback by using the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword is the class must already be loaded, &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; can be used even if the class has not been loaded, this is the reason why you pass in a string so it can look up if the class is loaded. If the class is not loaded, then &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; leans on &lt;code class=&quot;language-text&quot;&gt;Ext.Loader&lt;/code&gt; to synchronously load the class and then instantiate it.&lt;/p&gt;
&lt;p&gt;Couple things here that are not optimal. First is the check to see if the class has been loaded. This is a simple object lookup but one that is not needed in production. The second thing is synchronously loading the class meaning no other javascript will execute while that class is loading meaning your application is frozen. This may not mean much locally as the Xhr completes very fast but I’ve seen projects where they deploy the development version of an app to a remote server that mimics the production server which may be slow to load the class. Also, when loading a class, &lt;code class=&quot;language-text&quot;&gt;Ext.Loader&lt;/code&gt; has to inspect the class to see if it has any dependencies to load which it will have to synchronously load them as well and the browser will only load 4 things at any given time so you may be waiting for the class and dependencies to load. In production, the loading shouldn’t happen as you should have everything compiled into a single file so you are left with the minimal object lookup to get the class from the string which isn’t the worst thing in the world.&lt;/p&gt;
&lt;p&gt;I do use &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; when I have a string that I need to instantiate from. Imagine having a tree panel and clicking on a node you have the class name to instantiate. That class name is a string which &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; can handle.&lt;/p&gt;
&lt;h2&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.widget&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The last way to instantiate is using &lt;code class=&quot;language-text&quot;&gt;Ext.widget&lt;/code&gt; (do note this is only for components) which can be used like &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; (where you pass a string and an optional config object):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.widget(&amp;#39;component&amp;#39;, {
    html : &amp;#39;Hello there&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or you can just use a config object which requires the &lt;code class=&quot;language-text&quot;&gt;xtype&lt;/code&gt; config:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.widget({
    xtype : &amp;#39;component&amp;#39;,
    html  : &amp;#39;Hello there&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This has the same drawbacks and benefits of &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt;. The added drawback is that Ext needs to know about the xtype you are using in some way. This can be from loading the class or from using Sencha Cmd that creates the bootstrap information that tells Ext about the xtypes it finds. Ext keeps an object mapping xtypes to their class so it’s a simple object lookup but you also have added code to check if the first argument is a string or an object which isn’t that bad of a performance hit at all.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Even though I personally use the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword, I do some times have to use &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt; when I only have a string like I mentioned before. I always make sure the classes I am using are already loaded, I stay away from sync loading at all costs.&lt;/p&gt;
&lt;p&gt;I meant this blog not to sway you in any direction but to educate what happens under the hood for better clarification.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Prevent browser zoom in Ext JS]]></title><description><![CDATA[Something that I’ve been seeing a lot lately is people reporting lots of layout issues when they use the browser zoom feature and…]]></description><link>https://mitchellsimoens.com/2014/04/01/prevent-browser-zoom-in-ext-js/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/04/01/prevent-browser-zoom-in-ext-js/</guid><pubDate>Tue, 01 Apr 2014 07:53:03 GMT</pubDate><content:encoded>&lt;p&gt;Something that I’ve been seeing a lot lately is people reporting lots of layout issues when they use the browser zoom feature and unfortunately Ext JS does not support browser zoom. The sad part is it’s not 100% preventable for what I can see. I found I can prevent the zooming if you use the hotkeys (ctrl + -) but the browser will still allow zooming via the menu. Trying to disable the zooming via the menu I could not find a way cross browser (all IEs), would be elated if anyone knew a way for this cross browser. The following article was just out of curiosity if you could prevent the zooming at all.&lt;/p&gt;
&lt;h2&gt;Prevent via hotkeys&lt;/h2&gt;
&lt;p&gt;In Chrome, Safari, Firefox and IE you can hit ctrl and - or + to zoom out and in. Luckily you can listen for these keys and prevent the browser’s handling of these keys. First, we need add a keydown listener to the document body which is quite simple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.onReady(function() {
    Ext.getBody().on(&amp;#39;keydown&amp;#39;, function(e) {
        console.log(&amp;#39;You pressed a key!&amp;#39;);
    });
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Run that in a browser like Chrome and press any key and you should see the log in the javascript console. Next we need to find out what the key codes are when you press the - and + keys which is quite simple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.onReady(function() {
    Ext.getBody().on(&amp;#39;keydown&amp;#39;, function(e) {
        console.log(&amp;#39;You pressed a key!&amp;#39;, e.getKey());
    });
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, when you press a button it will also log out what key code is associated with that button. In Chrome, if you pressed - then the key code is 187 and + is 189. This is the same for Safari and IE but Firefox (shortened to Fx, that’s for you Jay) the keys are 61 and 173. The next step is to detect if the ctrl (and cmd on Mac) was held down when a key was pressed:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.onReady(function() {
    Ext.getBody().on(&amp;#39;keydown&amp;#39;, function(e) {
        if (e.ctrlKey) {
            console.log(&amp;#39;You pressed a key!&amp;#39;, e.getKey());
        }
    });
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, if you press ctrl and + it will log that you pressed a key but if you didn’t hold down the ctrl key then it will not log it. Let’s modify the conditional so that we can check out the key codes in a verbose way since Firefox is different than the others:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.onReady(function() {
    Ext.getBody().on(&amp;#39;keydown&amp;#39;, function(e) {
        var key = e.getKey();

        if (e.ctrlKey &amp;amp;amp;&amp;amp;amp; (
            (key == e.NUM_MINUS || key == e.NUM_PLUS)                   //Num Pad keys
                ||
            (Ext.isGecko &amp;amp;amp;&amp;amp;amp; (key == 61 || key == 173))                  //Firefox
                ||
            ((Ext.isWebKit || Ext.isIE) &amp;amp;amp;&amp;amp;amp; (key == 187 || key == 189))) // Chrome, Safari or IE
        ) {
            e.preventDefault();
        }
    });
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice, I also added in the - and + from the num pad also. Also notice the `e.preventDefault(); call, this is what will prevent the browser from handling those keys. If you run this snippet and try to zoom using the hotkeys the browser will not zoom. Sweet!&lt;/p&gt;
&lt;h2&gt;Other Notes&lt;/h2&gt;
&lt;p&gt;Firefox has the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent&quot; title=&quot;KeyboardEvent&quot; target=&quot;_blank&quot;&gt;KeyboardEvent&lt;/a&gt; API which would be a great way to normalize the key differences if all browsers worked the same (KeyboardEvent.DOM&lt;em&gt;VK&lt;/em&gt;EQUALS is 61 on Firefox, undefined on Chrome).&lt;/p&gt;
&lt;p&gt;You don’t really need all the &lt;code class=&quot;language-text&quot;&gt;Ext.is*&lt;/code&gt; checks, the keys could be combined but I wanted to be verbose in the differences. This could be made better and there are libs that attempt to normalize the keys.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Tiny Performance Boost in Data Drive Ext JS/Sencha Touch apps]]></title><description><![CDATA[If you’re like me, you probably try to squeeze every bit of performance out of your code and likely end up on a never ending search for…]]></description><link>https://mitchellsimoens.com/2014/03/19/tiny-performance-boost-in-data-drive-ext-jssencha-touch-apps/</link><guid isPermaLink="false">https://mitchellsimoens.com/2014/03/19/tiny-performance-boost-in-data-drive-ext-jssencha-touch-apps/</guid><pubDate>Wed, 19 Mar 2014 15:15:03 GMT</pubDate><content:encoded>&lt;p&gt;If you’re like me, you probably try to squeeze every bit of performance out of your code and likely end up on a never ending search for performance, there are always little nooks and crannies to find more performance. Some times smaller code isn’t more optimized code and the thought of fewer function calls the better holds up quite a bit but still not always. A small tip I want to discuss is along the lines of fewer function calls within an Ext JS and Sencha Touch data Model. In this case, you may find a tiny performance boost but also knowing what is happening behind the scenes is always welcomed.&lt;/p&gt;
&lt;p&gt;In an application, most of the time you will have data models in your application with something like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.model.User&amp;#39;, {
    extend : &amp;#39;Ext.data.Model&amp;#39;,

    fields : [
        { name : &amp;#39;firstName&amp;#39;, type : &amp;#39;string&amp;#39;                     },
        { name : &amp;#39;lastName&amp;#39;,  type : &amp;#39;string&amp;#39;                     },
        { name : &amp;#39;email&amp;#39;,     type : &amp;#39;string&amp;#39;                     },
        { name : &amp;#39;phone&amp;#39;,     type : &amp;#39;string&amp;#39;                     },
        { name : &amp;#39;age&amp;#39;,       type : &amp;#39;int&amp;#39;                        },
        { name : &amp;#39;dob&amp;#39;,       type : &amp;#39;date&amp;#39;, dateFormat : &amp;#39;Y-m-d&amp;#39; }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok, likely you have many more fields but you get the point. I’m sure your application may still perform very well but you may not actually know what’s going on behind the scenes. When you define the type config within your field, you are telling the Model to convert the data coming in to that format. But couldn’t you expect firstName and lastName to always be a string so why convert it? If you do not specify a type, it will not do any conversion at all. If you specify your model like the next code snippet, functionality may be exactly the same but perform a little better:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.model.User&amp;#39;, {
    extend : &amp;#39;Ext.data.Model&amp;#39;,

    fields : [
        { name : &amp;#39;firstName&amp;#39;                                },
        { name : &amp;#39;lastName&amp;#39;                                 },
        { name : &amp;#39;email&amp;#39;                                    },
        { name : &amp;#39;phone&amp;#39;                                    },
        { name : &amp;#39;age&amp;#39;, type : &amp;#39;int&amp;#39;                        },
        { name : &amp;#39;dob&amp;#39;, type : &amp;#39;date&amp;#39;, dateFormat : &amp;#39;Y-m-d&amp;#39; }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In fact you can shorten that code down even more:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.model.User&amp;#39;, {
    extend : &amp;#39;Ext.data.Model&amp;#39;,

    fields : [
        &amp;#39;firstName&amp;#39;,
        &amp;#39;lastName&amp;#39;,
        &amp;#39;email&amp;#39;,
        &amp;#39;phone&amp;#39;,
        { name : &amp;#39;age&amp;#39;, type : &amp;#39;int&amp;#39;                        },
        { name : &amp;#39;dob&amp;#39;, type : &amp;#39;date&amp;#39;, dateFormat : &amp;#39;Y-m-d&amp;#39; }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here, we care about the age and dob fields be a certain type, an Integer and Date. Now when the model instances are created, firstName, lastName, email and phone fields will not try to convert the value and will simple apply the value on the data object within your model. Ext.data.Field will turn your string into an Object for you.&lt;/p&gt;
&lt;p&gt;Ok, run a perf test on it and you will likely see that performance didn’t improve significantly but I think it’s also very important to know what’s going on behind the scenes. If you set the type config, you are opting into a conversion. You need to evaluate if you actually need to opt for that conversion; some cases you may, some you may not.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JsonP Explanation]]></title><description><![CDATA[Talking to a lot of people, I get the sense that there are quite a lot of people who don’t actually understand what JsonP is and how it…]]></description><link>https://mitchellsimoens.com/2013/12/07/jsonp-explanation/</link><guid isPermaLink="false">https://mitchellsimoens.com/2013/12/07/jsonp-explanation/</guid><pubDate>Sat, 07 Dec 2013 16:33:03 GMT</pubDate><content:encoded>&lt;p&gt;Talking to a lot of people, I get the sense that there are quite a lot of people who don’t actually understand what JsonP is and how it works. In this blog post, I hope to provide some explanation behind JsonP as it’s truly a very simple concept.&lt;/p&gt;
&lt;h2&gt;Why would someone want to use JsonP?&lt;/h2&gt;
&lt;p&gt;JsonP is a means of transporting data from a client to a server across origins (different domains or ports). You can accomplish the same with an Xhr request and some headers from your server (I enjoy this site for help with CORS: &lt;a href=&quot;http://enable-cors.org/&quot; target=&quot;_blank&quot;&gt;enable-cors.org&lt;/a&gt;) but I’ve talked to many system admins and they don’t like adding the headers. With JsonP, you do not need to have any additional server setup, you can handle it in your endpoint (using PHP, Java or whatever language you are using). I personally like enabling CORS on my server as you can specify what origins to accept cross origin requests from where JsonP doesn’t have this security. Well, that’s not entirely true, your server side language can check where the request came from. And to be 100% honest, you don’t need a server admin to add a header to the server as a server side language can usually return a header (like the header() function in PHP) but I find that a bit awkward.&lt;/p&gt;
&lt;h2&gt;In a nut shell, what is JsonP?&lt;/h2&gt;
&lt;p&gt;Like I said in the second sentence of this blog, JsonP is truly a very simple concept. It has 2 parts, a Javascript function used as a callback that you define on the client and a &amp;#x3C;script&amp;#x3C; element you have in your HTML page. The &amp;#x3C;script&gt; element will handle the transport of data and the callback function handles the data when it has been loaded. That’s it. In fact here is an example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;html&amp;gt;
    &amp;lt;head&amp;gt;
        &amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
            window.MyCallback = function(data) {
                //handle the data returned here
            };
        &amp;lt;/script&amp;gt;
    	&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;http://mydomain.com:8080/data.php?callback=MyCallback&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;/head&amp;gt;
    &amp;lt;body&amp;gt;&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Like I said, we have a Javascript function that is used as a callback, I’ve named mine MyCallback and you have a &amp;#x3C;script&gt; element that does the actual loading. Pretty simple right? There is no smoke and mirrors, there is no Xhr request going on that you need to set up.&lt;/p&gt;
&lt;h2&gt;So this is how Ext JS’ Ext.data.JsonP works?&lt;/h2&gt;
&lt;p&gt;It’s exactly how Ext.data.JsonP works. If you execute this code in Ext JS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.data.JsonP.request({
    url : &amp;#39;http://mydomain.com:8080/data.php&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All it’s doing is creating the callback function (which it will append to the url you provided so no need to worry about that) and inserting that &amp;#x3C;script&gt; into the &amp;#x3C;head&gt; of your HTML document. It does other things like enables a timeout, keeps track of the requests, executes a success/failure function you can provide to the request method and cleans up the &amp;#x3C;script&gt; after loading.&lt;/p&gt;
&lt;h2&gt;How do I handle this on the server?&lt;/h2&gt;
&lt;p&gt;Like I said, this request no server setup, it’s all handled in your server side language of choice. The request will have a callback request parameter and it’s value should wrap your “Json” data which actually will execute the Javascript callback function that is supposed to be created in the client app. Let’s use my first code that we used when describing JsonP in a nutshell. It’s sending the callback parameter with a value of MyCallback so our “Json” needs to be wrapped in MyCallback so that we execute the MyCallback function. Here is an example of the response:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;MyCallback({
    &amp;quot;foo&amp;quot;: &amp;quot;bar&amp;quot;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Looks exactly like Javascript doesn’t it? That’s because it is Javascript. Remember, the &amp;#x3C;script&gt; does the loading which will expect Javascript. It’s just like if you were loading a somefile.js with a &amp;#x3C;script&gt; only it’s Javascript returned from a server side language instead of some file on your server.&lt;/p&gt;
&lt;p&gt;My server side language of choice is PHP. Here is a sample PHP script that would support JsonP:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php

$isJsonP = isset($_REQUEST[&amp;#39;callback&amp;#39;]);
$data    = array(&amp;#39;foo&amp;#39; =&amp;gt; &amp;#39;bar&amp;#39;);

if ($isJsonP) {
    echo $_REQUEST[&amp;#39;callback&amp;#39;] . &amp;#39;(&amp;#39;;
}

echo json_encode($data);

if ($isJsonP) {
    echo &amp;#39;);&amp;#39;;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this code, if there is a callback parameter the $isJsonP variable will be true which will wrap the json that is echoed out with the callback function and the needed parentheses. This will echo out the example JsonP response from above.&lt;/p&gt;
&lt;h2&gt;Let’s summarize this up&lt;/h2&gt;
&lt;p&gt;JsonP is a means of transporting data across different origins. All JsonP is is a Javascript function and a &amp;#x3C;script&gt; element which makes JsonP compliant with any browser that can load Javascript files with absolutely zero setup.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Client side associations]]></title><description><![CDATA[Something that I have seen and heard was how to work with associations. This is a loaded topic but in an application I am working on I have…]]></description><link>https://mitchellsimoens.com/2013/03/10/client-side-associations/</link><guid isPermaLink="false">https://mitchellsimoens.com/2013/03/10/client-side-associations/</guid><pubDate>Sun, 10 Mar 2013 15:50:03 GMT</pubDate><content:encoded>&lt;p&gt;Something that I have seen and heard was how to work with associations. This is a loaded topic but in an application I am working on I have worked with something that I don’t think is a very known or talked about topic which is working with associations only in the client. It’s surprisingly easy.&lt;/p&gt;
&lt;h2&gt;Application Need&lt;/h2&gt;
&lt;p&gt;This doesn’t have anything to do with the application I am working on, that’s secret but the need of this example application is a user has an address book. Each address book entry has an association to the user the entry is for and also for the owner of the address book. So we will only have 2 models, one for the address book entry and one for the user. The address book entry model has a hasOne association to the user the entry is for and a belongsTo association to the owning user the entry belongs to. Likewise, the user model has a hasMany association to the address book entries (owner has many entries) and a belongsTo association to the address book entry (user belongs to an entry). The user model could also have a hasMany providing an association that the user could belong to many entries but for this example let’s not get all carried away.&lt;/p&gt;
&lt;p&gt;So can you picture the models that we could setup for our Ext JS 4 application? Let’s take a look at the models:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.model.User&amp;#39;, {
    extend : &amp;#39;Ext.data.Model&amp;#39;,

    fields : [
        &amp;#39;id&amp;#39;,
        &amp;#39;firstName&amp;#39;,
        &amp;#39;lastName&amp;#39;
    ],

    associations : [
        {
            type           : &amp;#39;hasMany&amp;#39;,
            model          : &amp;#39;MyApp.model.Address&amp;#39;,
            getterName     : &amp;#39;getAddresses&amp;#39;,
            associationKey : &amp;#39;AddressBook&amp;#39;
        },
        {
            type           : &amp;#39;belongsTo&amp;#39;,
            model          : &amp;#39;MyApp.model.Address&amp;#39;,
            getterName     : &amp;#39;getAddress&amp;#39;,
            associationKey : &amp;#39;Address&amp;#39;
        }
    ]
});

Ext.define(&amp;#39;MyApp.model.Address&amp;#39;, {
    extend : &amp;#39;Ext.data.Model&amp;#39;,

    fields : [
        &amp;#39;id&amp;#39;,
        &amp;#39;userid&amp;#39;,
        &amp;#39;ownerid&amp;#39;
    ],

    associations : [
        {
            type           : &amp;#39;hasOne&amp;#39;,
            model          : &amp;#39;MyApp.model.User&amp;#39;,
            getterName     : &amp;#39;getUser&amp;#39;,
            associatedName : &amp;#39;User&amp;#39;,
            associationKey : &amp;#39;User&amp;#39;
        },
        {
            type           : &amp;#39;belongsTo&amp;#39;,
            model          : &amp;#39;MyApp.model.User&amp;#39;,
            getterName     : &amp;#39;getOwner&amp;#39;,
            associatedName : &amp;#39;Owner&amp;#39;,
            associationKey : &amp;#39;Owner&amp;#39;
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;First I want to show how to load an adress book for some user. Here is a sample JSON that we will use:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;quot;success&amp;quot; : true,
    &amp;quot;total&amp;quot;   : 5,
    &amp;quot;data&amp;quot;    : [
        {
            &amp;quot;id&amp;quot;      : 1,
            &amp;quot;userid&amp;quot;  : 2,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 2,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;A&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personA@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        },
        {
            &amp;quot;id&amp;quot;      : 2,
            &amp;quot;userid&amp;quot;  : 3,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 3,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;B&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personB@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        },
        {
            &amp;quot;id&amp;quot;      : 3,
            &amp;quot;userid&amp;quot;  : 4,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 4,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;C&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personC@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        },
        {
            &amp;quot;id&amp;quot;      : 4,
            &amp;quot;userid&amp;quot;  : 5,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 5,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;D&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personD@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        },
        {
            &amp;quot;id&amp;quot;      : 5,
            &amp;quot;userid&amp;quot;  : 6,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 6,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;E&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personE@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        }
    ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So we have a &lt;code class=&quot;language-text&quot;&gt;success&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;total&lt;/code&gt; property and our actual data is within the &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; property. I much prefer to be within a nesting like this as I believe everything should be setup for paging. Anyway so looking at the actual data we have the &lt;code class=&quot;language-text&quot;&gt;userid&lt;/code&gt;, which is the user ID that belongs to this entry, the &lt;code class=&quot;language-text&quot;&gt;ownerid&lt;/code&gt;, which is the user ID that owns this entry, the &lt;code class=&quot;language-text&quot;&gt;User&lt;/code&gt; which holds the associated data of the user that belongs to this entry and &lt;code class=&quot;language-text&quot;&gt;Owner&lt;/code&gt; which holds the associated data of the user that owns this entry. We are setup quite nice for what we need! All is left is to create a store that can use the &lt;code class=&quot;language-text&quot;&gt;MyApp.model.Address&lt;/code&gt; model and read this data and setup the associations.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;new Ext.data.Store({
	autoLoad  : true,
    model     : &amp;#39;MyApp.model.Address&amp;#39;,
	proxy     : {
    	type        : &amp;#39;ajax&amp;#39;,
        url         : &amp;#39;address_book.json&amp;#39;,
	    reader      : {
    	    type : &amp;#39;json&amp;#39;,
          	root : &amp;#39;data&amp;#39;
	    },
    	extraParams : {
        	ownerid  : 1
        }
	},
    listeners : {
	    load : function (store, recs) {
    	    var rec   = recs[0],
        	    user  = rec.getUser(),
            	owner = rec.getOwner();

            console.log(user);
	        console.log(owner);
        }
	}
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Execute that and the store will automatically load the JSON file and further more has a &lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt; listener to just console out the user and owner. All works well right? Remote loading association is actually quite easy if you know the configs of associations and how to use it.&lt;/p&gt;
&lt;h2&gt;Back to the blog needs&lt;/h2&gt;
&lt;p&gt;So let’s get back to the need of this blog which is client side association, we want to create a store that does not load data remotely but has it all locally for some means, for this blog post just for fun. Let’s look at the store we will use for this, we will use the same models as above:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var addressBook = new Ext.data.Store({
	model     : &amp;#39;MyApp.model.Address&amp;#39;,
    proxy     : {
	    type   : &amp;#39;memory&amp;#39;,
    	reader : {
            type : &amp;#39;json&amp;#39;,
	        root : &amp;#39;data&amp;#39;
    	}
    },
	listeners : {
    	load : function (store, recs) {
        	var rec   = recs[0],
            	user  = rec.getUser(),
                owner = rec.getOwner();

	        console.log(user);
    	    console.log(owner);
        }
	}
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kept everything pretty much the same but removed the &lt;code class=&quot;language-text&quot;&gt;autoLoad&lt;/code&gt; config from the store, changed the proxy &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;&amp;#39;memory&amp;#39;&lt;/code&gt; and removed the &lt;code class=&quot;language-text&quot;&gt;url&lt;/code&gt; config from the proxy all to make this store 100% be local only and not have any unneeded items. Many would try to use the store’s &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; method like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;store.add([
    {
        &amp;quot;id&amp;quot;      : 1,
        &amp;quot;userid&amp;quot;  : 2,
        &amp;quot;ownerid&amp;quot; : 1,
        &amp;quot;User&amp;quot;    : {
            &amp;quot;id&amp;quot;        : 2,
            &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;A&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;personA@mitchellsimoens.com&amp;quot;
        },
        &amp;quot;Owner&amp;quot;   : {
            &amp;quot;id&amp;quot;        : 1,
            &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
        }
    },
    {
        &amp;quot;id&amp;quot;      : 2,
        &amp;quot;userid&amp;quot;  : 3,
        &amp;quot;ownerid&amp;quot; : 1,
        &amp;quot;User&amp;quot;    : {
            &amp;quot;id&amp;quot;        : 3,
            &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;B&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;personB@mitchellsimoens.com&amp;quot;
        },
        &amp;quot;Owner&amp;quot;   : {
            &amp;quot;id&amp;quot;        : 1,
            &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
        }
    },
    {
        &amp;quot;id&amp;quot;      : 3,
        &amp;quot;userid&amp;quot;  : 4,
        &amp;quot;ownerid&amp;quot; : 1,
        &amp;quot;User&amp;quot;    : {
            &amp;quot;id&amp;quot;        : 4,
            &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;C&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;personC@mitchellsimoens.com&amp;quot;
        },
        &amp;quot;Owner&amp;quot;   : {
            &amp;quot;id&amp;quot;        : 1,
            &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
        }
    },
    {
        &amp;quot;id&amp;quot;      : 4,
        &amp;quot;userid&amp;quot;  : 5,
        &amp;quot;ownerid&amp;quot; : 1,
        &amp;quot;User&amp;quot;    : {
            &amp;quot;id&amp;quot;        : 5,
            &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;D&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;personD@mitchellsimoens.com&amp;quot;
        },
        &amp;quot;Owner&amp;quot;   : {
            &amp;quot;id&amp;quot;        : 1,
            &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
        }
    },
    {
        &amp;quot;id&amp;quot;      : 5,
        &amp;quot;userid&amp;quot;  : 6,
        &amp;quot;ownerid&amp;quot; : 1,
        &amp;quot;User&amp;quot;    : {
            &amp;quot;id&amp;quot;        : 6,
            &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;E&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;personE@mitchellsimoens.com&amp;quot;
        },
        &amp;quot;Owner&amp;quot;   : {
            &amp;quot;id&amp;quot;        : 1,
            &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
            &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
            &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
        }
    }
]);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will load models into the store but if you inspect any of the model instances you will notice that it will not have the associations setup. This is because of one important thing that everyone needs to know. To get associations to work properly, the reader that is attached to the proxy has to be involved in reading the data to setup the associations. The reader is the sleeper, the key to the whole process and &lt;code class=&quot;language-text&quot;&gt;store.add(...);&lt;/code&gt; does not include the reader which is why the above &lt;code class=&quot;language-text&quot;&gt;store.add(...);&lt;/code&gt; does not work for the associations. So what does? The &lt;code class=&quot;language-text&quot;&gt;loadRawData&lt;/code&gt; method on the store does include the reader so will this work? Let’s look at how to use the &lt;code class=&quot;language-text&quot;&gt;loadRawData&lt;/code&gt; method with the &lt;code class=&quot;language-text&quot;&gt;addressBook&lt;/code&gt; store above:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;addressBook.loadRawData({
    &amp;quot;success&amp;quot; : true,
    &amp;quot;total&amp;quot;   : 5,
    &amp;quot;data&amp;quot;    : [
        {
            &amp;quot;id&amp;quot;      : 1,
            &amp;quot;userid&amp;quot;  : 2,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 2,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;A&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personA@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        },
        {
            &amp;quot;id&amp;quot;      : 2,
            &amp;quot;userid&amp;quot;  : 3,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 3,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;B&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personB@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        },
        {
            &amp;quot;id&amp;quot;      : 3,
            &amp;quot;userid&amp;quot;  : 4,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 4,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;C&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personC@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        },
        {
            &amp;quot;id&amp;quot;      : 4,
            &amp;quot;userid&amp;quot;  : 5,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 5,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;D&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personD@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        },
        {
            &amp;quot;id&amp;quot;      : 5,
            &amp;quot;userid&amp;quot;  : 6,
            &amp;quot;ownerid&amp;quot; : 1,
            &amp;quot;User&amp;quot;    : {
                &amp;quot;id&amp;quot;        : 6,
                &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;E&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;personE@mitchellsimoens.com&amp;quot;
            },
            &amp;quot;Owner&amp;quot;   : {
                &amp;quot;id&amp;quot;        : 1,
                &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
                &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
                &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
            }
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Execute that and the &lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt; event fired so the &lt;code class=&quot;language-text&quot;&gt;load&lt;/code&gt; listener executes which will show that the association getter methods are there and return the proper data just like the remote loading example. Awesome! Something to add to this is we really don’t need the add method on the store as we can pass a second argument to the &lt;code class=&quot;language-text&quot;&gt;loadRawData&lt;/code&gt; method which will tell it to append the model instances created by the data you pass in to the current dataset of the store, pretty much exactly what the &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; method does just with passing the data to the reader. The &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; method can still be used as reading the data via the reader comes with a little overhead as it executes more code but it’s really minimal (depending on our data structure of course). This append argument is used like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;store.loadRawData(data, true);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Client side model associations&lt;/h2&gt;
&lt;p&gt;So we have a store being able to read associated data purely locally using the &lt;code class=&quot;language-text&quot;&gt;loadRawData&lt;/code&gt; method. But that’s not the full story of client side association handling. Models can live outside stores meaning you can create model instances by themselves. Let’s look at how we can do that:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var data = {
    &amp;quot;id&amp;quot;      : 1,
    &amp;quot;userid&amp;quot;  : 2,
    &amp;quot;ownerid&amp;quot; : 1,
    &amp;quot;User&amp;quot;    : {
        &amp;quot;id&amp;quot;        : 2,
        &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
        &amp;quot;lastName&amp;quot;  : &amp;quot;A&amp;quot;,
        &amp;quot;email&amp;quot;     : &amp;quot;personA@mitchellsimoens.com&amp;quot;
    },
    &amp;quot;Owner&amp;quot;   : {
        &amp;quot;id&amp;quot;        : 1,
        &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
        &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
        &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
    }
};

var address_entry = Ext.create(&amp;#39;MyApp.model.Address&amp;#39;, data);

console.log(address_entry);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Execute that and see what is in the console. The instance has been created, the data is there for the &lt;code class=&quot;language-text&quot;&gt;userid&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;ownerid&lt;/code&gt; but check to see if the associations were made. They weren’t were they and why? Just like the &lt;code class=&quot;language-text&quot;&gt;store.add(...);&lt;/code&gt; call, simply creating a model instance does not run the data through the reader which if we remember from earlier the reader is the key. Unfortunately, as of Ext JS 4.2.0 there is no way to get the associations to work by any means out-of-the-box so now we have to think how to override the framework to do what we want. Setting a breakpoint before the &lt;code class=&quot;language-text&quot;&gt;store.loadRawData&lt;/code&gt; call and following the code as it jumps around the key method on the reader is the &lt;code class=&quot;language-text&quot;&gt;readAssociated&lt;/code&gt; method which is executed like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;reader.readAssociated(record, data);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So you pass in a model instance (&lt;code class=&quot;language-text&quot;&gt;record&lt;/code&gt;) and the data that belongs to the record (&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;). So let’s see how we can utilize that method. The &lt;code class=&quot;language-text&quot;&gt;constructor&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;Ext.data.Model&lt;/code&gt; has four arguments: &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;rawData&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;convertedData&lt;/code&gt;. I don’t want to change the default behavior of &lt;code class=&quot;language-text&quot;&gt;Ext.data.Model&lt;/code&gt; so I really want to create a fifth argument of the constructor and further more I just want to create an abstract model for my app. So I need to create an abstract model and change the two current models to extend the abstract model and make the abstract model use the new argument to get the associations to be created. Let’s look at the three models:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.model.Abstract&amp;#39;, {
    extend : &amp;#39;Ext.data.Model&amp;#39;,

    requires : &amp;#39;Ext.data.proxy.Memory&amp;#39;,

    proxy : {
        type : &amp;#39;memory&amp;#39;
    },

    constructor : function (data, id, raw, convertedData, parseAssociation) {
        this.callParent([data, id, raw, convertedData]);

        if (parseAssociation) {
            this.proxy.reader.readAssociated(this, data);
        }
    }
});

Ext.define(&amp;#39;MyApp.model.User&amp;#39;, {
    extend : &amp;#39;MyApp.model.Abstract&amp;#39;,

    fields : [
        &amp;#39;id&amp;#39;,
        &amp;#39;firstName&amp;#39;,
        &amp;#39;lastName&amp;#39;
    ],

    associations : [
        {
            type           : &amp;#39;hasMany&amp;#39;,
            model          : &amp;#39;MyApp.model.Address&amp;#39;,
            getterName     : &amp;#39;getAddresses&amp;#39;,
            associationKey : &amp;#39;AddressBook&amp;#39;
        },
        {
            type           : &amp;#39;belongsTo&amp;#39;,
            model          : &amp;#39;MyApp.model.Address&amp;#39;,
            getterName     : &amp;#39;getAddress&amp;#39;,
            associationKey : &amp;#39;Address&amp;#39;
        }
    ]
});

Ext.define(&amp;#39;MyApp.model.Address&amp;#39;, {
    extend : &amp;#39;MyApp.model.Abstract&amp;#39;,

    fields : [
        &amp;#39;id&amp;#39;,
        &amp;#39;userid&amp;#39;,
        &amp;#39;ownerid&amp;#39;
    ],

    associations : [
        {
            type           : &amp;#39;hasOne&amp;#39;,
            model          : &amp;#39;MyApp.model.User&amp;#39;,
            getterName     : &amp;#39;getUser&amp;#39;,
            associatedName : &amp;#39;User&amp;#39;,
            associationKey : &amp;#39;User&amp;#39;
        },
        {
            type           : &amp;#39;belongsTo&amp;#39;,
            model          : &amp;#39;MyApp.model.User&amp;#39;,
            getterName     : &amp;#39;getOwner&amp;#39;,
            associatedName : &amp;#39;Owner&amp;#39;,
            associationKey : &amp;#39;Owner&amp;#39;
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The important part isn’t that we changed the &lt;code class=&quot;language-text&quot;&gt;MyApp.model.User&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;MyApp.model.Address&lt;/code&gt; to extend &lt;code class=&quot;language-text&quot;&gt;MyApp.model.Abstract&lt;/code&gt;. The important part is the &lt;code class=&quot;language-text&quot;&gt;constructor&lt;/code&gt; method of the &lt;code class=&quot;language-text&quot;&gt;MyApp.model.Abstract&lt;/code&gt;. You can see the fifth argument (&lt;code class=&quot;language-text&quot;&gt;parseAssociation&lt;/code&gt;) and the &lt;code class=&quot;language-text&quot;&gt;if&lt;/code&gt; statement checking that argument and executing the &lt;code class=&quot;language-text&quot;&gt;readAssociated&lt;/code&gt; method on the reader (we also specify a default proxy on the abstract) that we pass in &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; (the model instance) and the &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; argument. This should do it right? Time to test:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var data = {
    &amp;quot;id&amp;quot;      : 1,
    &amp;quot;userid&amp;quot;  : 2,
    &amp;quot;ownerid&amp;quot; : 1,
    &amp;quot;User&amp;quot;    : {
        &amp;quot;id&amp;quot;        : 2,
        &amp;quot;firstName&amp;quot; : &amp;quot;Person&amp;quot;,
        &amp;quot;lastName&amp;quot;  : &amp;quot;A&amp;quot;,
        &amp;quot;email&amp;quot;     : &amp;quot;personA@mitchellsimoens.com&amp;quot;
    },
    &amp;quot;Owner&amp;quot;   : {
        &amp;quot;id&amp;quot;        : 1,
        &amp;quot;firstName&amp;quot; : &amp;quot;Mitchell&amp;quot;,
        &amp;quot;lastName&amp;quot;  : &amp;quot;Simoens&amp;quot;,
        &amp;quot;email&amp;quot;     : &amp;quot;mitchellSimoens@mitchellsimoens.com&amp;quot;
    }
};

var address_entry = Ext.create(&amp;#39;MyApp.model.Address&amp;#39;, data, null, null, null, true),
    user          = address_entry.getUser(),
    owner         = address_entry.getOwner();

console.log(address_entry);
console.log(user);
console.log(owner);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Looking at the console we see 3 model instances consoled out, first is the address entry model instance and the other two are for the associations. Great! It works!&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;We first looked at how to use associations with remote data. We then spent some time getting a store to locally read data and get the associations to work. Building on that local store, we looked at getting associations to work replacing the &lt;code class=&quot;language-text&quot;&gt;store.add&lt;/code&gt; method. Lastly we got creating single model instances to use the reader to get associations to work.&lt;/p&gt;
&lt;p&gt;We have client side associations working within stores and models. We also found out the key to associations is the reader, the reader is where the associations are read and linked.&lt;/p&gt;
&lt;p&gt;Happy coding!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Lesson in the getElementConfig method and config object]]></title><description><![CDATA[Recently I saw a blog post about creating a component to play YouTube videos in Sencha Touch 2. Of course the code worked but I could help…]]></description><link>https://mitchellsimoens.com/2013/02/11/lesson-in-the-getelementconfig-method-and-config-object/</link><guid isPermaLink="false">https://mitchellsimoens.com/2013/02/11/lesson-in-the-getelementconfig-method-and-config-object/</guid><pubDate>Fri, 11 Jan 2013 21:40:03 GMT</pubDate><content:encoded>&lt;p&gt;Recently I saw a &lt;a href=&quot;http://training.figleaf.com/tutorials/senchacomplete/chapter2/lesson10/5.cfm&quot; title=&quot;blog post&quot; target=&quot;_blank&quot;&gt;blog post&lt;/a&gt; about creating a component to play YouTube videos in Sencha Touch 2. Of course the code worked but I could help but think there should be a better way then to use the &lt;code class=&quot;language-text&quot;&gt;Ext.String.format&lt;/code&gt; method, of course I am not sure of the previous lessons as this is Chapter 2. This week I also have been running into people not understanding the &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; object and the getters/setters created for it so I felt like this YouTube component could be a great example to use. Also, last week someone asked me what the equivalent to the renderTpl property in Ext JS 4 was in Sencha Touch 2 so I decided to wrap the &lt;code class=&quot;language-text&quot;&gt;getElementConfig&lt;/code&gt; method in to this blog post as well. Hopefully this isn’t too much in one post, will take it as slow as I can.&lt;/p&gt;
&lt;h2&gt;Code Discovery&lt;/h2&gt;
&lt;p&gt;Let’s first look at how the blog post accomplished the YouTube video viewing. They create an extension of Ext.Component and create a string of an &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;iframe&amp;amp;#62;&lt;/code&gt; to view the video. Couple things I didn’t like about this. First, I think using &lt;code class=&quot;language-text&quot;&gt;Ext.String.format&lt;/code&gt; isn’t the most ideal and flexible solution. Also the string generates a &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;div&amp;amp;#62;&lt;/code&gt; wrapping the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;iframe&amp;amp;#62;&lt;/code&gt; so it can horizontally center the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;iframe&amp;amp;#62;&lt;/code&gt; but shouldn’t the parent container’s layout take care of this centering? The component also uses two width (&lt;code class=&quot;language-text&quot;&gt;vWidth&lt;/code&gt;) and height (&lt;code class=&quot;language-text&quot;&gt;vHeight&lt;/code&gt;) configs to set the size of the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;iframe&amp;amp;#62;&lt;/code&gt; but just like the centering, shouldn’t the parent container’s layout take care of the sizing? I think the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;iframe&amp;amp;#62;&lt;/code&gt; should have 100% height and width to take up the full size of the &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt;. Also, no need for the &lt;code class=&quot;language-text&quot;&gt;styleHtmlContent&lt;/code&gt; for this. So basically I just said they are doing it all wrong in my opinion, it works just there is a better way to do it. One thing I’ve learned, there is always going to be a better way to do things and many opinions of how it should be done.&lt;/p&gt;
&lt;h2&gt;New Code&lt;/h2&gt;
&lt;p&gt;I’m gonna throw out my code and then walk through why I did it and also learn how the &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; object and &lt;code class=&quot;language-text&quot;&gt;getElementConfig&lt;/code&gt; work.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Ux.YouTubePlayer&amp;#39;, {
    extend : &amp;#39;Ext.Component&amp;#39;,
    xtype  : &amp;#39;youtubeplayer&amp;#39;,

    config : {
        cls     : &amp;#39;youtube-player&amp;#39;,
        /**
         * @cfg {String} url The base URL of the YouTube video.
         */
        url     : &amp;#39;http://www.youtube.com/embed/&amp;#39;,
        /**
         * @cfg {String} videoId The ID of the video.
         */
        videoId : null
    },

    getElementConfig : function() {
        var tpl = this.callParent();

        //The src will come from the updateVideoId method
        tpl.children.push({
            tag       : &amp;#39;iframe&amp;#39;,
            //this is the property that will be used on the component
            reference : &amp;#39;videoIframe&amp;#39;,
            //would rather this be in CSS
            style     : &amp;#39;width:100%;height:100%;border:0;&amp;#39;
        });

        return tpl;
    },

    /**
     * This method will update the src attribute of the &amp;amp;lt;iframe&amp;amp;gt; when
     * you execute setVideoId method.
     */
    updateVideoId : function(videoId) {
        if (videoId) {
            this.videoIframe.set({
                src : this.getUrl() + videoId
            });
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Few things I did here, instead of using the &lt;code class=&quot;language-text&quot;&gt;alias&lt;/code&gt; property I used the &lt;code class=&quot;language-text&quot;&gt;xtype&lt;/code&gt; property, this doesn’t do anything differently, just saves some code. I also got rid of the three configs (&lt;code class=&quot;language-text&quot;&gt;vWidth&amp;lt;span&amp;gt;,&lt;/code&gt;vHeight&lt;code class=&quot;language-text&quot;&gt;and&lt;/code&gt;styleHtmlContent&lt;code class=&quot;language-text&quot;&gt;) for reasons discussed before and only kept the two important ones. Then I used the&lt;/code&gt;getElementConfig&lt;code class=&quot;language-text&quot;&gt;method and&lt;/code&gt;updateVideoId&lt;code class=&quot;language-text&quot;&gt;method to do the the logic instead of the&lt;/code&gt;Ext.String.format`. But, we need to slow down and talk a little bit.&lt;/p&gt;
&lt;h2&gt;getElementConfig&lt;/h2&gt;
&lt;p&gt;In Ext JS 4, you would use the &lt;code class=&quot;language-text&quot;&gt;renderTpl&lt;/code&gt; property which uses &lt;code class=&quot;language-text&quot;&gt;Ext.XTemplate&lt;/code&gt; to setup the DOM elements for that component. In Sencha Touch 2 you cannot use the &lt;code class=&quot;language-text&quot;&gt;renderTpl&lt;/code&gt; property but of course we still need a way to setup the DOM elements. For this Sencha Touch 2 uses the &lt;code class=&quot;language-text&quot;&gt;getElementConfig&lt;/code&gt; method that returns a single or an array of element configs for &lt;code class=&quot;language-text&quot;&gt;Ext.DomHelper&lt;/code&gt;. At first glance people get scared away but it’s really simple. Let’s look at the &lt;code class=&quot;language-text&quot;&gt;getElementConfig&lt;/code&gt; for &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;getElementConfig: function() {
    return {
        reference: &amp;#39;element&amp;#39;,
        classList: [&amp;#39;x-unsized&amp;#39;],
        children: this.getTemplate()
    };
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This simple will return a single DOM element as that’s all &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; needs. First property is the &lt;code class=&quot;language-text&quot;&gt;reference&lt;/code&gt; property which is just a string. This is the property on the component that this element will be cached as so this element can be accessed from &lt;code class=&quot;language-text&quot;&gt;component.element&lt;/code&gt;. The &lt;code class=&quot;language-text&quot;&gt;classList&lt;/code&gt; takes an array or string of the CSS classes to be applied to that element. The &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt; property is an array of child elements which each of will look like above. The &lt;code class=&quot;language-text&quot;&gt;getTemplate&lt;/code&gt; method returns &lt;code class=&quot;language-text&quot;&gt;this.template&lt;/code&gt; so you could use the &lt;code class=&quot;language-text&quot;&gt;template&lt;/code&gt; property but you can get things off the class scope which can be very powerful and you can see the inheritance work if you extend a component that uses &lt;code class=&quot;language-text&quot;&gt;this.template&lt;/code&gt; without you breaking things. One thing that is not used here is what tag the element will be (div, span, etc) and the reason that is is the &lt;code class=&quot;language-text&quot;&gt;tag&lt;/code&gt; property defaults to ‘div’ so this will return a &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;div&amp;amp;#62;&lt;/code&gt; element.&lt;/p&gt;
&lt;p&gt;So back to my YouTube component if we look at the &lt;code class=&quot;language-text&quot;&gt;getElementConfig&lt;/code&gt; method. First thing I do is get the object from the superclass (Ext.Component) which is the code snippet above. Then I added an iframe element to the children of what was returned from the superclass. This &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;iframe&amp;amp;#62;&lt;/code&gt; will be cached to the &lt;code class=&quot;language-text&quot;&gt;videoIframe&lt;/code&gt; property on the component as specified in the &lt;code class=&quot;language-text&quot;&gt;reference&lt;/code&gt; property. We also give it some inline styles however I hate seeing inline styles. I much prefer using SASS (CSS) to specify styles like this but serving as an example and to not have an additional file for this blog post I just did an inline style. Since we have &lt;code class=&quot;language-text&quot;&gt;cls&lt;/code&gt; set to ‘youtube-player’ on this component we could use that to specify the styles.&lt;/p&gt;
&lt;p&gt;Ok, while writing this I think I can make it a little better and more elegant. Instead of pushing an element onto the children array in &lt;code class=&quot;language-text&quot;&gt;getElementConfig&lt;/code&gt; method after calling the superclass, let’s remove the &lt;code class=&quot;language-text&quot;&gt;getElementConfig&lt;/code&gt; method from the &lt;code class=&quot;language-text&quot;&gt;Ux.YouTubePlayer&lt;/code&gt; component and let’s use the &lt;code class=&quot;language-text&quot;&gt;getTemplate&lt;/code&gt; method. This is what the new code would look like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Ux.YouTubePlayer&amp;#39;, {
    extend : &amp;#39;Ext.Component&amp;#39;,
    xtype  : &amp;#39;youtubeplayer&amp;#39;,

    config : {
        cls     : &amp;#39;youtube-player&amp;#39;,
        /**
         * @cfg {String} url The base URL of the YouTube video.
         */
        url     : &amp;#39;http://www.youtube.com/embed/&amp;#39;,
        /**
         * @cfg {String} videoId The ID of the video.
         */
        videoId : null
    },

    getTemplate : function() {
        return [
            {
                tag       : &amp;#39;iframe&amp;#39;,
                //this is the property that will be used on the component
                reference : &amp;#39;videoIframe&amp;#39;,
                //would rather this be in CSS
                style     : &amp;#39;width:100%;height:100%;border:0;&amp;#39;
            }
        ];
    },

    /**
     * This method will update the src attribute of the &amp;amp;lt;iframe&amp;amp;gt; when
     * you execute setVideoId method.
     */
    updateVideoId : function(videoId) {
        if (videoId) {
            this.videoIframe.set({
                src : this.getUrl() + videoId
            });
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I like that better. This goes to show that there are always better ways and talking through something can help quite a bit.&lt;/p&gt;
&lt;h2&gt;config Object&lt;/h2&gt;
&lt;p&gt;So we saw how we can create DOM elements but the other half of what I wanted to discuss is what the &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; object is and how it works. At first I thought I would hate this but I feel like I can’t live without it now, it’s magical! The &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; object is what holds all the configs, go figure! When you create a class and pass in a config object to that instantiation it gets applied on the &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; object you specify in the &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; call, the config object in &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; are like the default values for the configs. So instead of this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyClass&amp;#39;, {
    foo : null
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You would have&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyClass&amp;#39;, {
    config : {
        foo : null
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So it nests the configs within an object now, what gives? Well, there is more to that &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; object. First, it generates a getter method. It takes the config, in this case ‘foo’, uppercases the first letter and prefixes ‘get’ so you get ‘getFoo’. This method simply returns the private &lt;code class=&quot;language-text&quot;&gt;this._foo&lt;/code&gt; property value. The other part is it generates a setter method which name is like the ‘getFoo’ but it’s ‘setFoo’. You probably think it just sets the value passed to the setFoo method to the &lt;code class=&quot;language-text&quot;&gt;this._foo&lt;/code&gt; private property, it does but it adds more flexibility. What I mean is it can look for and use applyFoo and updateFoo that you can (optional) specify in your &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; statement. The applyFoo, called an applier, can be used to transform the value passed into something else. For example, you can pass in a config object of a class and the applier method can take that config object and turn it into a class. The updateFoo method, called the updater, can be used to take action on the new value like adding listeners. So the workflow (in code) is like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;setFoo : function(value) {
    var applier         = &amp;#39;applyFoo&amp;#39;,
        updater         = &amp;#39;updateFoo&amp;#39;,
        getter          = &amp;#39;getFoo&amp;#39;,
        privateProperty = &amp;#39;_foo&amp;#39;,
        oldValue        = this[getter]();

    if (this[applier]) {
        value = this[applier].call(this, value, oldValue);
    }

    if (typeof value != &amp;#39;undefined&amp;#39;) {
        this.[privateProperty] = value;

        if (this[updater]) {
            this[updater].call(this, value, oldValue);
        }
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is very similar to the &lt;code class=&quot;language-text&quot;&gt;generateSetter&lt;/code&gt; method in &lt;code class=&quot;language-text&quot;&gt;Ext.Class&lt;/code&gt;. You can notice the workflow and that the applier and updater get both the value and the oldValue passed to it. So now the &lt;code class=&quot;language-text&quot;&gt;MyClass&lt;/code&gt; class can look like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyClass&amp;#39;, {
    config : {
        foo : null
    },

    applyFoo : function(newValue, oldValue) {
        return Ext.factory(newValue, Ext.data.Store, oldValue);
    },

    updateFoo : function(newValue, oldValue) {
        if (oldValue) {
            oldValue.un(&amp;#39;load&amp;#39;, this.someFunction, this);
        }

        if (newValue) {
            newValue.on(&amp;#39;load&amp;#39;, this.someFunction, this);
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So in the applyFoo we use the &lt;code class=&quot;language-text&quot;&gt;Ext.factory&lt;/code&gt; method to create an &lt;code class=&quot;language-text&quot;&gt;Ext.data.Store&lt;/code&gt; instance and return it, make sure you return something here. In the updateFoo, we removed a listener on the old value and added a listener on the new value. Can you see how awesome the config object is? You will see this pattern all over Sencha Touch 2 framework classes, it really does add quite a bit of power and flexibility.&lt;/p&gt;
&lt;p&gt;So back to the &lt;code class=&quot;language-text&quot;&gt;Ux.YouTubePlayer&lt;/code&gt; class that we are using for a real world example. We want to take advantage of any setVideoId execution to update the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;iframe&amp;amp;#62;&lt;/code&gt; with a new URL of the actual video. We expect the ID of the video so no need to specify an applier method as we don’t need to transform the value. However, we do need to take action on a new ID so we specify the updateVideoId method to change the src attribute on the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;iframe&amp;amp;#62;&lt;/code&gt; element.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;I hope I didn’t cover too much in one blog post. You can see how to use the &lt;code class=&quot;language-text&quot;&gt;getElementConfig&lt;/code&gt; (and later the &lt;code class=&quot;language-text&quot;&gt;getTemplate&lt;/code&gt;) method works and also what the &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; object is and how it works with the getter/setter/applier/updater methods. Can you see how awesome this stuff is?!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Coding style vs valid Javascript]]></title><description><![CDATA[I came across a thread that actually got me a little riled up. A quick disclaimer, I absolutely have OCD tendencies (have a light switch…]]></description><link>https://mitchellsimoens.com/2012/09/10/coding-style-vs-valid-javascript/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/09/10/coding-style-vs-valid-javascript/</guid><pubDate>Mon, 10 Sep 2012 12:33:03 GMT</pubDate><content:encoded>&lt;p&gt;I came across a thread that actually got me a little riled up. A quick disclaimer, I absolutely have OCD tendencies (have a light switch story for that). I take great pride in how my code looks, not just how it is parsed by the browser. For those who know me and have seen my code, you probably know I’m anal about lining colons and equal signs up:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var foo    = {
        uno    : &amp;#39;one&amp;#39;,
        dos    : &amp;#39;two&amp;#39;,
        tres   : &amp;#39;three&amp;#39;,
        cuatro : &amp;#39;four&amp;#39;
    },
    fooBar = &amp;#39;Who?&amp;#39;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see things are lined up and easily readable versus this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var foo = {
        uno: &amp;#39;one&amp;#39;,
        dos: &amp;#39;two&amp;#39;,
        tres: &amp;#39;three&amp;#39;,
        cuatro: &amp;#39;four&amp;#39;
    },
    fooBar = &amp;#39;Who?&amp;#39;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Not that big of a deal with that little code but bigger your code gets the more your code looks like a mess. Either case, Javascript will parse both code and all will be the same. Yes, my “beautified” code does take up more disk space; my reply would be that would be that you likely won’t be deploying it like either one of these as you will be minifying etc so both pieces of code will look the same in the end. During development, it’s easier to read the first snippet than the second. Some agree, some don’t… this is purely my coding style.&lt;/p&gt;
&lt;p&gt;Now the real thing that irked me… trailing commas. What is a trailing comma? It’s a comma that is on the last value in an object:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var foo = {
    bar : &amp;#39;whoa&amp;#39;,
};&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The comma after ‘whoa’ is a trailing comma. Run this code in different browsers and you will get two different results. In Chrome, Safari and Firefox this code will be parsed with the trailing comma disregarded; however, run this code in Internet Explorer and it will throw an error. Why since it works in other browsers? I believe the EMCAScript 5 spec says it’s fine to have trailing commas but in EMCAScript 3 it is actually invalid Javascript. Testing that code in IE6-9 will result in an error. IE10 is supporting the 5 spec so it’s technically valid but the argument for messy code is still there. Sure, when you minify your code trailing commas will likely be taken out.&lt;/p&gt;
&lt;p&gt;I have been in corporate and government environments both within Sencha and outside of Sencha and a requirement that I always have is code must run in IE6+. All builds have to pass: dev, testing, prod and others which means that trailing commas will not pass.&lt;/p&gt;
&lt;p&gt;Whether or not it technically parses, does that mean you should allow it? Not sure if you all have had to pass JSLint/JSHint tests, good luck with trailing commas. Not sure if you have ever had to pass a code test for a job but code quality will likely be judged and trailing commas raises red flags.&lt;/p&gt;
&lt;p&gt;It’s your choice whether you want to use trailing commas, I strongly discourage it.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Breakpoint a lost art?]]></title><description><![CDATA[Over the last few months helping people on the forums I have come across people who really aren’t debugging for themselves. They come on an…]]></description><link>https://mitchellsimoens.com/2012/09/07/breakpoint-a-lost-art/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/09/07/breakpoint-a-lost-art/</guid><pubDate>Fri, 07 Sep 2012 18:49:03 GMT</pubDate><content:encoded>&lt;p&gt;Over the last few months helping people on the forums I have come across people who really aren’t debugging for themselves. They come on an issue and jump pretty quickly to ask for help. Don’t get me wrong, I love to help, this is the reason why I have stayed in my position but you kind of need to be able to debug for yourself. I believe the reason for this is very like how I started in web development:&lt;/p&gt;
&lt;p&gt;When I got first started out, I debugged via alert. Meaning I did things like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;alert(foo.bar[2]);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And then realized that I got the mapping wrong and had to change the alert to something else and try again. This was a pain as often to get to where this alert was I’d have to do some user interactions and such. Then I learned of Firebug and loved using the console to log things out. That was so much better as I could then just log out an object or array and inspect it. This helped so much more than the alert did especially since I didn’t have to worry about only working with string and numbers, I could now inspect objects and arrays so I could replace that alert with&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;console.log(foo);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and deal with getting into the bar property and inspect that array. Thought that was as good as it got until I found out about breakpoints. Holy cow, that was a game changer for me!&lt;/p&gt;
&lt;p&gt;So what is a breakpoint? First we need to look at Javascript. Javascript is a synchronous language meaning things are executed in order. So we can rely that line 3 is going to always execute before line 5:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var foo = {};

someFn();

someFn2();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So no matter what in someFn is executed, someFn2 will not be executed until someFn executes. But say we have an error somewhere that the foo object is incorrect but we don’t know if the issue is in someFn or someFn2. We can log things to the console and spread them around to see when something is changed. Technically yes, you could do that and find the issue but it’s inefficient and messy to spread console statements around and you run the possibility that you may leave them in there which is now a waste of space and IE won’t like you anymore.&lt;/p&gt;
&lt;p&gt;What do we do then? This is where a breakpoint can save your life. A breakpoint tells the browser to halt everything at the line you set a breakpoint on. The browser will literally stop, interactions with your page will stop, Javascript will stop; nothing will happen. Then you can start to Step Into or Step Over to navigate through the code as it is being executed meanwhile you can keep an eye on the different variables as you are going through. Since our foo object is being changed incorrectly somewhere, this is exactly what we need: walk through the code and watch the foo object change.&lt;/p&gt;
&lt;p&gt;Wait, what is Step Into and Step Over? Picture yourself hiking and you come up on a huge rock that is in your way. You have two choices you can either climb over it or you can walk around it bypassing the rock. If you choose to climb over it you are going over the rock little by little with each foot hold, this is like Step Into where you are going to go into more code and go little by little. If you choose to walk around it you are bypassing the rock, this is like Step Over where you can skip a function call so you don’t have to deal with the code within that function. So if you set a break point on line 1 where we defined the foo object and you get to line 3 where someFn is going to be executed, you can Step Into or Step Over… either go into the someFn as it is executing and see what is happening within that function (Step Into) or bypass the code that is within the function (Step Over). What happens when you are climbing up the rock but you realize this isn’t where you need to be and need to get off the rock right now and bypass it? You can Step Out. So if you stepped into someFn but you realize that the code within it isn’t where the issue is, you can Step Out of the function and go on to someFn2. Of course at any point you want to give up you can always Play which lets your browser execute the rest of the code until all code has been executed or it comes across another breakpoint. Often times when I am sending an ajax call and I stepped into code where the ajax call is going to send, I need to set another breakpoint in the callback and press Play so that when the ajax call returns the browser will once again halt it’s executing so I can continue debugging.&lt;/p&gt;
&lt;p&gt;Now you can see that you can walk your way through code without needing to debug via alert or console.log which is a much much better way of debugging code. But, how do you set a breakpoint? Two ways. You can type a debugger statement which tells your browser to stop there like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var foo = {};

debugger;
someFn();

someFn2();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And the browser will stop at line 2 and wait for your decision to continue. However, like the issues with console.log, debugger statements are messy and IE won’t like you. I often create hooks to not allow version control to commit changes if it finds any. Or you can open the dev tools of your browser and go into the file you need to set a breakpoint and click on the row number to set a breakpoint. That’s it! Now you can set breakpoints and walk through your code to find any issues.&lt;/p&gt;
&lt;p&gt;Don’t forget to remove your breakpoints as your browser will remember them (for file names that are the same, Ext JS and ST add _dc param not allowing the breakpoints to stick). To do this either click on the line number to remove the breakpoint or there is a section for breakpoints on the right-hand side of the dev tools. YOu can disable breakpoints in the breakpoints section as well to keep them but the browser won’t stop.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Grateful for extensions]]></title><description><![CDATA[Today, I spoke with someone about our extensions we have made and it made me realize something… I love making something, the challenge of…]]></description><link>https://mitchellsimoens.com/2012/08/31/grateful-for-extensions/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/08/31/grateful-for-extensions/</guid><pubDate>Fri, 31 Aug 2012 16:51:03 GMT</pubDate><content:encoded>&lt;p&gt;Today, I spoke with someone about our extensions we have made and it made me realize something… I love making something, the challenge of not knowing how to do it and learning how to do it and the thrill of that moment of success! I’m the kind of person that if I don’t know something, I want to challenge myself to figure it out; probably one of the reasons I am where I am today and where I will be in the future. But, it’s nice to get a pat on the back for a good job once in a while.&lt;/p&gt;
&lt;p&gt;Right now, I have about 70 private and public repositories of extensions, plugins and other code on &lt;a href=&quot;https://github.com/mitchellsimoens&quot; target=&quot;_blank&quot;&gt;GitHub&lt;/a&gt;. The public ones are of course free to use, private ones are either Sencha code or stuff I’m not ready to release. I also have lots of code on my local computer that I love tinkering with, plus seems I don’t like putting server-side code up for some reason… JavaScript ftw!&lt;/p&gt;
&lt;p&gt;Anyway, lots of people use code I have put up and a couple have even sent Pull Requests which is fantastic! Some people reach out to me to thank me which is also fantastic! But then you have those who use it and some who just complain because it doesn’t work for their situation. You have to understand, most of the time people create extensions for their personal projects but there are many times where things are created just to create something and give back. For instance, my grid component for Sencha Touch 1 and 2 I created for no reason. To be honest, I have yet to use it in an actual application but it’s my mostly used extension. I have spent many hours working on it and changing things for some people and I don’t have a whole lot of free time these days so an hour is quite valuable to me. There really has only been a handful of people who have given back or thanked me for my work.&lt;/p&gt;
&lt;p&gt;On the flip side, my repositories kind of make up my resume as I treat my name as a brand so I shouldn’t expect anything back but if I look at something someone created or even use it I will tweet about it and/or post on the Sencha forums thanking the person or giving suggestions. It really wouldn’t be a first time I have forked a project to pitch in development. I do my best to at least give back by thanking if nothing else. Sort of like my work on the Sencha forums, I answer a lot of questions but thanks is few and far in-between. That is my job really so that doesn’t bother me much but creating things for the sake of creating things for people isn’t my job, I do it to provide solutions for people and to teach myself.&lt;/p&gt;
&lt;p&gt;Do note, this blog post is also therapeutic to get something off my chest. The reason this is categorized as Personal so take it all with a grain of salt.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[My week with my Nexus 7]]></title><description><![CDATA[About me I have owned many iPod Touches, an iPhone, all 3 iPads and Android phones/tablets ever since the good ole G1 (most notably the more…]]></description><link>https://mitchellsimoens.com/2012/07/22/my-week-with-my-nexus-7/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/07/22/my-week-with-my-nexus-7/</guid><pubDate>Sun, 22 Jul 2012 13:44:03 GMT</pubDate><content:encoded>&lt;h2&gt;About me&lt;/h2&gt;
&lt;p&gt;I have owned many iPod Touches, an iPhone, all 3 iPads and Android phones/tablets ever since the good ole G1 (most notably the more recent Gingerbread, Honeycomb and ICS devices) so I have quite a good history with both platforms (funny to see Danielle get pissed when all my devices start making noise when I get a mention on Twitter, have been forced to silence most of them). I used to be an Android nut but battery life and the crap browser made me switch my primary phone from Android to my iPhone 4S I currently hold. The phone that broke the camels back was my HTC Evo that on a good day would have 6-7 hours of battery life versus my iPhone 4S can last 2 working days both with normal (for me) use. So I abandoned Android as my primary device but still held my other devices for testing.&lt;/p&gt;
&lt;h2&gt;Google IO 2012&lt;/h2&gt;
&lt;p&gt;Like many I watched many live broadcasts on YouTube very interested in the rumored (and leaked just before Google IO start) Google tablet and Android 4.1 “Jelly Bean”. Watching the videos of what was possible in Jelly Bean got me excited. Then they showed off the Nexus 7 which lived up to much of the rumors. So I pre-ordered the Nexus 7 which came preloaded with Jelly Bean and the most important piece to a web developer, it came with Chrome as the native browser. I received it last Tuesday (July 17) and decided to live with it as my daily tablet and not my beloved iPad 3 (new iPad, suck a crappy name Apple).&lt;/p&gt;
&lt;h2&gt;My Tests&lt;/h2&gt;
&lt;p&gt;First off, I want to believe I am a very honest person but as a human, I am biased with past experiences and my current Mac/iOS/Apple fanboy status. Instead of testing for performance or HTML5 features I decided to just focus on real life experience. Numbers are great but they are just numbers. When I ask someone about performance and they reply with saying it’s 11% faster, well, it was only 500 ms in the first place; will someone really notice 55 ms difference? (yes, 1 is not much but the sum of a hundred 1s is greater so numbers are still important… saved myself!)&lt;/p&gt;
&lt;h2&gt;Time for thoughts!&lt;/h2&gt;
&lt;p&gt;The iPads have been 10.1 inch screens which IMO is a great size for a tablet so getting something about 1/3 smaller (at 7 inches) I was skeptic. The best thing about that smaller form factor, my hand can grasp it from side-to-side so I can walk with it very comfortably but sitting on the couch (yeah, I have body by &lt;a href=&quot;http://www.la-z-boy.com/&quot; title=&quot;La-Z-boy&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;) I would still want a larger screen but if I’m on the move then it would be a great device. But I was surprised that sitting on the couch I didn’t actually mind the 7 inch size, just in some of my Sencha Touch 2 tests I was begging for some more screen real estate.&lt;/p&gt;
&lt;p&gt;iOS with mobile Safari has been a great browser to develop on, I have had little to no complaints. The native browser on Android was not good for a web app with my G1 and wasn’t good for my Asus Transformer Prime (updated to 4.0.3). Chrome on the 4.0.3 device was better but it was in beta and had CSS inconsistencies but it was better and a great start to something that could be great. My Nexus 7 had Chrome installed as the native browser and long story short it is leaps and bounds better than the native browser of late but isn’t as good as mobile Safari. Still, very happy with where Chrome currently is and hoping Google will remain serious about it’s browser on mobile devices like it has on the desktop.&lt;/p&gt;
&lt;p&gt;Scrolling was so-so. First I tested on normal web sites but I could also see the same performance in native apps like Gmail. When I would go to scroll it would be a little laggy and the momentum wasn’t high enough for my liking and I couldn’t find a setting to mess with this. Only like 10% of the time it would take half a second (an hour in the tech world) for the scrolling to start scrolling… something that with iOS I never actually experienced.&lt;/p&gt;
&lt;p&gt;Since I am a Sencha Touch nut, of course I’m going to run it against some of my and Sencha’s apps/examples. The biggest thing I wanted to see is accuracy and animation performance, first dove into the navigationview example that comes with Sencha Touch 2 and was amazed at the animation performance! It performed marginally as well as any of my iOS devices. Yeah, I just said that. Shock aside, tested some scrolling as I had already experienced shaky results with scrolling but Sencha Touch 2 doesn’t use native scrolling so I was curious. I know I work for Sencha and this may come off biased and marketing talk but in my opinion (not abbreviated for importance) it performed as well if not better and in most of my tests it’s the latter of that statement. With many images it would get a little jumpy but that’s gonna be expected on Android really and as a user wasn’t going to turn me off from using an app. Switching to the KitchenSink where there is going to be a lot of CSS transitions and many things being rendered it performed far better than any other Android device I have used. There is a slight delay on the tab panels and NestedList but that is due to needing to render the DOM elements and we aren’t talking 5 seconds, more like half to a full second depending how much was being rendered and when animation started. Using some other apps I have built including the TouchForums app (status: on the back burner’s back burner if not dead) which uses a lot of CSS transitions and rendering lots of HTML it performed almost as good as mobile Safari. Same result for some other apps and overall I am very happy with the performance. It’s not as good or as polished as mobile Safari but so much better than any Android release thus far. This performance I would assume is due to both Chrome and the quad-core with 1GB of RAM. I would also assume that Android has many performance improvements that would contribute. Fix the scrolling and this is a fantastic device.&lt;/p&gt;
&lt;h2&gt;Battery life&lt;/h2&gt;
&lt;p&gt;I mentioned above that I dumped my HTC Evo due to the battery life. The marketing of the Nexus 7 says 8 hours of active use which is less than the 10 hours my iPad is suppose to give. Of normal use I charged the Nexus 7 2 times in the last week. I used it for some of my Twitter and Facebook updates when I wasn’t in front of my MacBook Pro as I would with my iPad, looked up recipes (I’m the household cook) and read my Google Reader. This is less battery life than my iPad but is extremely bearable and the Nexus 7 is smaller so I would expect less life from the Nexus 7.&lt;/p&gt;
&lt;h2&gt;Biggest con IMO&lt;/h2&gt;
&lt;p&gt;The Apple devices feel very solid and have a great weight to them that makes me feel like their construction is of high quality. The Nexus 7… well, feels more on the cheap side. It does feel plasticy but for 2/5 the price of an entry level iPad ($199 vs $499) I guess I can’t be too picky and you pay for what you get. In my opinion, Android hasn’t touched the iPad in the tablet arena and Google could have thrown some cash to buy it’s way in maybe. The rubberized back is nice to grab on too but would have loved something more modern looking and leave the rubber stuff for a case if I want it but for that beauty is in the eye of the beholder so can’t really fault the device for someone’s design, just don’t like the polish of the device when put up against the iPad. It’s rumored to cost $154 (among other estimates) to build the Nexus 7 so there isn’t a lot of profit to the device but I now wouldn’t classify the Nexus 7 as a true high-end device like the iPads are.&lt;/p&gt;
&lt;h2&gt;Back camera&lt;/h2&gt;
&lt;p&gt;Those who care about this really shouldn’t have a tablet. Stop taking pictures with a tablet! It’s annoying to see someone hold up something like a tablet to take a picture, use your phone or an actual camera.&lt;/p&gt;
&lt;h2&gt;Disclaimer&lt;/h2&gt;
&lt;p&gt;I do work for Sencha but I want to say my views here are my own and do not reflect what Sencha thinks about Nexus 7, Android, iOS or anything else mentioned here. These are my honest experiences of my week with my Nexus 7. My view is Nexus 7 is a fine product and Android 4.1 with Chrome has given some love back to the platform. Going further I’m sure I will stick with iOS but will keep my Nexus 7 around for usage where the form factor fits it.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Going Remote with Sencha Command]]></title><description><![CDATA[With the introduction of Sencha Touch 2.0.0 GA we got the use of Sencha Command which allows developers to create an app and build an app…]]></description><link>https://mitchellsimoens.com/2012/07/15/going-remote-with-sencha-command/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/07/15/going-remote-with-sencha-command/</guid><pubDate>Sun, 15 Jul 2012 17:19:03 GMT</pubDate><content:encoded>&lt;p&gt;With the introduction of Sencha Touch 2.0.0 GA we got the use of Sencha Command which allows developers to create an app and build an app. Well, not as simple as that as there is more to it than simply creating and building but that’s for another blog post maybe. One thing that I try to emphasize is that you not edit &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt;. The only exception to my rule is to edit the CSS and HTML for the loading screen but nothing else! No adding &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;link&amp;amp;#62;&lt;/code&gt; elements, &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; elements, nothing! Of course your application may require it but try not to do it.&lt;/p&gt;
&lt;h2&gt;&lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt; is the configuration file that the builder and microloader uses to know really how to work and what to load. What to load, like CSS and JavaScript files? Exactly! There are both &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;css&lt;/code&gt; properties that tell the builder to copy over to the &lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt; folder and setup the microloader to load and possibly save to &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;. However, there is a flaw with this and is noted in the comment above the &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;css&lt;/code&gt; properties that the path must be relative to the &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt; file. Many apps require the loading of remote sources and one of the more popular ones is the Google Maps API. To load a Google Map you must have a &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; element to load the API but you shouldn’t edit &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt;’s js property only loads relative files which both mean that there is no way to handle remote files.&lt;/p&gt;
&lt;h2&gt;Hack&lt;/h2&gt;
&lt;p&gt;The URL that you need to load for the Google Maps API is likely &lt;a href=&quot;http://maps.google.com/maps/api/js?sensor=true&quot; target=&quot;_blank&quot;&gt;http://maps.google.com/maps/api/js?sensor=true&lt;/a&gt; and if you look at this file you can plainly see that it bootstraps their API and creates a &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; element to load the actual API. You could, in theory (I haven’t tested it) create a local file that has this source and it would work but it’s a hack and I wouldn’t recommend it. Yeah, I have see someone do this and the reason was because they really didn’t have any other way to load the Google Maps API before their app was launched which I couldn’t blame them for trying it.&lt;/p&gt;
&lt;h2&gt;Savior&lt;/h2&gt;
&lt;p&gt;I haven’t dug into the source for Sencha Command and the microloader (&lt;code class=&quot;language-text&quot;&gt;Ext.blink&lt;/code&gt;) so I took it upon myself to jump head first to implement a way to load remote files using a simple config in &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt;. I wanted to add a simple and descriptive config to the config objects you can put into the &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; array and the &lt;code class=&quot;language-text&quot;&gt;&amp;quot;remote&amp;quot;&lt;/code&gt; config was born. This config would mark that resource as being a remote file and accepts &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt; (defaults to &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;, well, &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt; really but it’s falsey so the same in this instance).&lt;/p&gt;
&lt;h2&gt;Sencha Touch 2.0.2&lt;/h2&gt;
&lt;p&gt;First thing I notice while digging into Sencha Command was that it copies the files to the &lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt; folder in a couple places. A few &lt;code class=&quot;language-text&quot;&gt;if&lt;/code&gt; statements and solved that issue. Tested and things were working great! I didn’t do enough testing admittedly and this was released for Sencha Touch 2.0.2. &lt;a href=&quot;http://twitter.com/themightychris&quot; target=&quot;_blank&quot;&gt;@themightychris&lt;/a&gt; (Chris Alfano from Jarv.us Innovations) tweeted about how to load remote files in Sencha Touch 2 and as a proud father of what I thought worked I told him about the &lt;code class=&quot;language-text&quot;&gt;&amp;quot;remote&amp;quot;&lt;/code&gt; config. He replied with errors… oh boy. I should have known it was too easy to throw a couple &lt;code class=&quot;language-text&quot;&gt;if&lt;/code&gt; statements at a problem and expect it to work fully. The next day I didn’t do any work on the Forums until I fixed it, my fault, my problem, my fix.&lt;/p&gt;
&lt;p&gt;What it does now is when Sencha Command builds the &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt; it will create &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; elements for your remote JavaScript files and &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;link&amp;amp;#62;&lt;/code&gt; elements for your remote CSS files. The microloader, the system responsible for actually loading the resources, submits Ajax calls to load the assets and once all the assets have been loaded it then kicks off your application’s &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method. So why create &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; files in the builder and not let the microloader do the loading? The issue I came across is I couldn’t accurately determine when the Google Maps API was loaded due to it creating it’s own &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; tag as mentioned before (see why I explained that now?). I could determine when the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; element that I created would load but not the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; element the Google Map bootstrap element I created would create so the &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; method would fire before the Google Maps API was actually loaded causing issues with my &lt;code class=&quot;language-text&quot;&gt;Ext.Map&lt;/code&gt; test. So not knowing what people will use I felt creating &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; elements in the &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt; the safest solution. So once you do a production build, you can see the &lt;code class=&quot;language-text&quot;&gt;&amp;amp;#60;script&amp;amp;#62;&lt;/code&gt; elements in &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt; that Sencha Command created. Not the prettiest solution but sometimes you just don’t have the control you want. This fix will be part of the next release (2.0.3 I believe it will be) but for you premium users it should be in SVN and part of the nightly builds you can get from &lt;a href=&quot;http://support.sencha.com/&quot; target=&quot;_blank&quot;&gt;http://support.sencha.com/&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Example&lt;/h2&gt;
&lt;p&gt;Enough backstory, I know you are craving some code! Diving into the Sencha Touch 2.0.3 directory I created a simple app:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cd ~/Sites/sencha-touch-2.0.3
sencha app create MyApp ../MyApp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Simple to create an app isn’t it? Hell yeah it is (I was a doubter but now I’m a promoter)! I then edited the &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; class to add an &lt;code class=&quot;language-text&quot;&gt;Ext.Map&lt;/code&gt; item as the 2nd item so I opened the &lt;code class=&quot;language-text&quot;&gt;~/Sites/MyApp/view/Main.js&lt;/code&gt; in my editor (IntelliJ IDEA if you were wondering) and added this code as index 1:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    xtype   : &amp;#39;map&amp;#39;,
    title   : &amp;#39;Map&amp;#39;,
    iconCls : &amp;#39;maps&amp;#39;
},&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and of course added &lt;code class=&quot;language-text&quot;&gt;Ext.Map&lt;/code&gt; to the &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; array at the top of the file. So now we have our view using &lt;code class=&quot;language-text&quot;&gt;Ext.Map&lt;/code&gt; which will use the Google Maps API so we need to add the JavaScript file in &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt; so I opened &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt; and made 2 edits. First I added this code after the &lt;code class=&quot;language-text&quot;&gt;sencha-touch.js&lt;/code&gt; asset in the &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; property array:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;quot;path&amp;quot;: &amp;quot;http://maps.google.com/maps/api/js?sensor=true&amp;quot;,
    &amp;quot;remote&amp;quot;: true
},&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and then at the bottom to get around a current error I changed the &lt;code class=&quot;language-text&quot;&gt;logger&lt;/code&gt; config to &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;buildOptions&amp;quot;: {
    &amp;quot;product&amp;quot;: &amp;quot;touch&amp;quot;,
    &amp;quot;minVersion&amp;quot;: 3,
    &amp;quot;debug&amp;quot;: false,
    &amp;quot;logger&amp;quot;: false
},&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So now &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt; is going to tell Sencha Command to include the Google Maps’ remote JavaScript file and the display the map in my &lt;code class=&quot;language-text&quot;&gt;MyApp.view.Main&lt;/code&gt; tab panel. First I need to test to make sure everything is working so I do a testing build:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cd ~/Sites/MyApp
sencha app build testing&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Launched &lt;a href=&quot;http://localhost/MyApp/build/testing/&quot; target=&quot;_blank&quot;&gt;http://localhost/MyApp/build/testing/&lt;/a&gt; in Chrome (my browser of choice) and everything displayed just fine, my map shows correctly (centered South-East of San Jose California because I didn’t tell it to center anywhere and that’s default). More importantly I checked out the console and there were not errors! Great, so from everything I know thus far my app is working perfectly so now I can deploy with a production build:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sencha app build production&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Launched &lt;a href=&quot;http://localhost/MyApp/build/production/&quot; target=&quot;_blank&quot;&gt;http://localhost/MyApp/build/production/&lt;/a&gt; in Chrome (yup, still my favorite browser) and everything works perfectly!&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;So we learned some backstory on the issue at hand and the little bumpy road to the fix that is the &lt;code class=&quot;language-text&quot;&gt;&amp;quot;remote&amp;quot;&lt;/code&gt; config for your JavaScript and CSS assets in &lt;code class=&quot;language-text&quot;&gt;app.json&lt;/code&gt;. We then looked at building a simple example all using Sencha Command.&lt;/p&gt;
&lt;p&gt;Happy coding!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[var me = this; convention]]></title><description><![CDATA[Once in a while the topic of using the  convention is brought up. Some people love it, some people hate it and some people don’t understand…]]></description><link>https://mitchellsimoens.com/2012/07/11/var-me-this-convention/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/07/11/var-me-this-convention/</guid><pubDate>Wed, 11 Jul 2012 22:38:03 GMT</pubDate><content:encoded>&lt;p&gt;Once in a while the topic of using the &lt;code class=&quot;language-text&quot;&gt;var me = this;&lt;/code&gt; convention is brought up. Some people love it, some people hate it and some people don’t understand it. Usually the people who love it or hate it understand the convention (or may not fully understand it) but there seems to be quite a few people who do not understand it. I use the variable me as an example but you could name it anything and it won’t change it, even to the beloved &lt;code class=&quot;language-text&quot;&gt;var that = this;&lt;/code&gt; and what I will say will still hold true. The decision on whether to use &lt;code class=&quot;language-text&quot;&gt;var me = this;&lt;/code&gt; is purely for minification and therefore saving bytes. However, it could also cost you bytes if you don’t realize what you are doing or maybe think you will need to use it when you start coding and don’t go back to clean your code up. Let’s start experimenting!&lt;/p&gt;
&lt;h2&gt;Control&lt;/h2&gt;
&lt;p&gt;Let’s look at a control method that you may have somewhere in your code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;saveSomething : function(foo, status, scope) {
    this.foo = foo;

    this.myObj = {
        mitch : status
    };

    this.onSave.call(scope);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we look at this, we use &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; 4 times. All looks great so far! We have a method that saves the first two arguments and then calls a method.&lt;/p&gt;
&lt;h2&gt;New Feature!&lt;/h2&gt;
&lt;p&gt;So our control &lt;code class=&quot;language-text&quot;&gt;saveSomething&lt;/code&gt; method has been working quite well but we realize that we should do some error checking, we can make the &lt;code class=&quot;language-text&quot;&gt;scope&lt;/code&gt; argument optional and we decide we need to pass a method in the &lt;code class=&quot;language-text&quot;&gt;onSave&lt;/code&gt; method call. Let’s look at an example of how we can do it and then circle back to see if we can do a little better:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;saveSomething : function(foo, status, scope) {
    var myObj = this.myObj;

    scope = scope || this;

    if (!myObj) {
        myObj = this.myObj = {};
    }

    this.foo = foo;

    myObj.mitch = status;

    this.onSave.call(scope, this.saveSomethingCallback);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So here we created a variable &lt;code class=&quot;language-text&quot;&gt;myObj&lt;/code&gt; to equate to &lt;code class=&quot;language-text&quot;&gt;this.myObj&lt;/code&gt;. However, &lt;code class=&quot;language-text&quot;&gt;this.myObj&lt;/code&gt; may be undefined so we added an &lt;code class=&quot;language-text&quot;&gt;if&lt;/code&gt; statement to check and if it is undefined (or falsey) set the &lt;code class=&quot;language-text&quot;&gt;myObj&lt;/code&gt; variable and &lt;code class=&quot;language-text&quot;&gt;this.myObj&lt;/code&gt; property to an Object. Also, we made &lt;code class=&quot;language-text&quot;&gt;scope&lt;/code&gt; default to &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; with the &lt;code class=&quot;language-text&quot;&gt;scope = scope || this;&lt;/code&gt; so if the &lt;code class=&quot;language-text&quot;&gt;scope&lt;/code&gt; argument is undefined (or falsey) it will then equate to &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; making it an optional argument (IMO a little more robust). Lastly we pass the &lt;code class=&quot;language-text&quot;&gt;saveSomethingCallback&lt;/code&gt; method in the &lt;code class=&quot;language-text&quot;&gt;onSave&lt;/code&gt; call as an argument to be executed later in our code.&lt;/p&gt;
&lt;h2&gt;Minification&lt;/h2&gt;
&lt;p&gt;So now we have a little better of a method but it can get better! When we deploy our code we should always minify our code so it’s as small as can be reducing what the client has to download but still maintain code functionality. This does many things but what I want to talk about is how it minifies variables. This small example:&lt;/p&gt;
&lt;p&gt;  var foo = ‘bar’;&lt;/p&gt;
&lt;p&gt;can get minified to&lt;/p&gt;
&lt;p&gt;  var a=‘bar’;&lt;/p&gt;
&lt;p&gt;which saves 4 bytes as &lt;code class=&quot;language-text&quot;&gt;foo&lt;/code&gt; got renamed to &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt; and the spaces before and after the equal sign got trimmed. Thinking back to our &lt;code class=&quot;language-text&quot;&gt;saveSomething&lt;/code&gt; method we can think that &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; will get minified to something like &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt; just like the foo variable got renamed. Unfortunately, &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; (and other JavaScript keywords like &lt;code class=&quot;language-text&quot;&gt;delete&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt;) will not get minified. To combat this, we can create a variable to cache this and that variable can then get minified. This is where the &lt;code class=&quot;language-text&quot;&gt;var me = this;&lt;/code&gt; convention comes into play as we are going to cache &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; to the &lt;code class=&quot;language-text&quot;&gt;me&lt;/code&gt; variable and &lt;code class=&quot;language-text&quot;&gt;me&lt;/code&gt; will get minified:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;saveSomething : function (foo, status, scope) {
    var me    = this,
        myObj = me.myObj;

    scope = scope || me;

    if (!myObj) {
        myObj = me.myObj = {};
    }

    me.foo = foo;

    myObj.mitch = status;

    me.onSave.call(scope, me.saveSomethingCallback);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We put the &lt;code class=&quot;language-text&quot;&gt;me = this&lt;/code&gt; in the variable block at the beginning of the method and replaced all &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; instances with &lt;code class=&quot;language-text&quot;&gt;me&lt;/code&gt;. We can now minify it and save 3 bytes per &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; instance for a total of 18 bytes (&lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; was used 6 times in the &lt;code class=&quot;language-text&quot;&gt;saveSomething&lt;/code&gt; method before we applied the &lt;code class=&quot;language-text&quot;&gt;me = this&lt;/code&gt; convention and 6 x 3 = 18). However &lt;code class=&quot;language-text&quot;&gt;me = this&lt;/code&gt; also costs us some bytes, in fact in this example it cost us 8 bytes not including the spaces between &lt;code class=&quot;language-text&quot;&gt;me&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; as they will get trimmed when it’s minified. So in total we saved 10 bytes after the &lt;code class=&quot;language-text&quot;&gt;var me = this&lt;/code&gt; convention which doesn’t account for much but if you have a sizable app it can add up and if you ask me, every bit saved counts.&lt;/p&gt;
&lt;h2&gt;Trouble!&lt;/h2&gt;
&lt;p&gt;This convention doesn’t come without a dark side. Applying this convention without counting the bytes that the &lt;code class=&quot;language-text&quot;&gt;me = this&lt;/code&gt; takes up and what you will save after minification will cost you bytes. If we go way back to the first &lt;code class=&quot;language-text&quot;&gt;saveSomething&lt;/code&gt; method and applied the &lt;code class=&quot;language-text&quot;&gt;var me = this;&lt;/code&gt; convention we will have costed some bytes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;saveSomething : function(foo, status, scope) {
    var me = this;

    me.foo = foo;

    me.myObj = {
        mitch : status
    };

    me.onSave.call(scope);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;var me = this;&lt;/code&gt; would cost us 11 bytes (it would be &lt;code class=&quot;language-text&quot;&gt;var a=this;&lt;/code&gt; after minification). For every instance of &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; we replaced we save 3 bytes and we had 3 instances so we save 9 bytes but the &lt;code class=&quot;language-text&quot;&gt;me&lt;/code&gt; variable line cost us 11 so we saved -2 bytes which is bad. We are trying to save bytes not add them.&lt;/p&gt;
&lt;h2&gt;Two Types&lt;/h2&gt;
&lt;p&gt;In these examples you saw the &lt;code class=&quot;language-text&quot;&gt;me&lt;/code&gt; variable get created by itself and in a variable block. If you have &lt;code class=&quot;language-text&quot;&gt;me = this&lt;/code&gt; in a variable block where there are other variables it costs less as we don’t have to add the &lt;code class=&quot;language-text&quot;&gt;var&lt;/code&gt; keyword. Let’s look at the byte cost:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var me = this;
var a=this; //minified&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The minified version costs 11 bytes so you would have to use this 4 or more times to save bytes in the long run.&lt;/p&gt;
&lt;p&gt;  var me  = this,
foo = ‘bar’;
var a=this,b=‘bar’; //minified&lt;/p&gt;
&lt;p&gt;a=this, costs 7 bytes so you would have to use this 3 or more times to save bytes in the long run.&lt;/p&gt;
&lt;h2&gt;Review&lt;/h2&gt;
&lt;p&gt;Using the &lt;code class=&quot;language-text&quot;&gt;var me = this;&lt;/code&gt; convention is purely to save some byte because &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; cannot be minified but &lt;code class=&quot;language-text&quot;&gt;me&lt;/code&gt; can. The savings won’t be drastic but every little bit helps but you have to be cautious as it could cost you bytes. If you ask me, this is a code style issue also and code style (quality) should be just as high of a priority as what your code is doing. I take my code style very seriously so lining colons and equal signs up and also applying &lt;code class=&quot;language-text&quot;&gt;me = this&lt;/code&gt; wherever it will save a byte is very important to me.&lt;/p&gt;
&lt;p&gt;A downside to this, which is just a visual annoyance, is in your IDE you probably have syntax highlighting and keywords usually get a blue (or other color depending ont he IDE) highlight but &lt;code class=&quot;language-text&quot;&gt;me&lt;/code&gt; will not so you can’t easily visually see the scope. My eyes simply have been trained to see me easily but I do miss seeing &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt; highlighted. The syntax highlighting in the above examples show this.&lt;/p&gt;
&lt;p&gt;Results may vary.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Build configs using Sencha Command]]></title><description><![CDATA[Many times when developing a Sencha Touch 2 app I often have to call remote data with a  to fill s. Simple thing to build a  with a…]]></description><link>https://mitchellsimoens.com/2012/06/19/build-configs-using-sencha-command/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/06/19/build-configs-using-sencha-command/</guid><pubDate>Tue, 19 Jun 2012 11:08:03 GMT</pubDate><content:encoded>&lt;p&gt;Many times when developing a Sencha Touch 2 app I often have to call remote data with a &lt;code class=&quot;language-text&quot;&gt;Store&lt;/code&gt; to fill &lt;code class=&quot;language-text&quot;&gt;List&lt;/code&gt;s. Simple thing to build a &lt;code class=&quot;language-text&quot;&gt;Store&lt;/code&gt; with a &lt;code class=&quot;language-text&quot;&gt;Proxy&lt;/code&gt; pointing to some server side script or &lt;code class=&quot;language-text&quot;&gt;JSON&lt;/code&gt; file. Simple stuff. Lately I have been using &lt;a href=&quot;http://nodejs.org/&quot; title=&quot;Node.js&quot; target=&quot;_blank&quot;&gt;Node.js&lt;/a&gt; for many of my servers but this can still be used if you are using &lt;a href=&quot;http://www.apache.org/&quot; title=&quot;Apache&quot; target=&quot;_blank&quot;&gt;Apache&lt;/a&gt; + &lt;a href=&quot;http://www.php.net/&quot; title=&quot;PHP&quot; target=&quot;_blank&quot;&gt;PHP&lt;/a&gt; or &lt;a href=&quot;http://www.silkjs.org/&quot; title=&quot;SilkJS&quot; target=&quot;_blank&quot;&gt;SilkJS&lt;/a&gt; or whatever. I test the server code locally but of course when I deploy I will have the remote server setup and want to use the remote server for production and local server for development as I’m sure many are also doing. Before starting, this is assumed you have a fresh app created using Sencha Command via:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cd /path/to/sencha-touch-2.0.1.1/
sencha app create Test ../Test&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since I have different environments with different a different base url for each environment I create a &lt;code class=&quot;language-text&quot;&gt;Config&lt;/code&gt; utility class to easily change the base url for when I deploy. This utility class looks like this in a simple form:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Test.util.Config&amp;#39;, {
    singleton : true,

    config : {
        baseUrl : &amp;#39;http://www.mitchellsimoens.com/&amp;#39;
    },

    constructor : function(config) {
        this.initConfig(config);

        this.callParent([config]);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So this will create a &lt;code class=&quot;language-text&quot;&gt;Test.util.Config&lt;/code&gt; singleton class which we can execute the &lt;code class=&quot;language-text&quot;&gt;Test.util.Config.getBaseUrl()&lt;/code&gt; in your &lt;code class=&quot;language-text&quot;&gt;Store&lt;/code&gt;s like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Test.store.Users&amp;#39;, {
    extend : &amp;#39;Ext.data.Store&amp;#39;,

    requires : [
        &amp;#39;Test.model.User&amp;#39;
    ],

    config : {
        autoLoad : true,
        model    : &amp;#39;Test.model.User&amp;#39;,
        proxy    : {
            type  : &amp;#39;ajax&amp;#39;,
            url   : Test.util.Config.getBaseUrl() + &amp;#39;get/users&amp;#39;
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When the &lt;code class=&quot;language-text&quot;&gt;Users.js&lt;/code&gt; file is evalutaed by the browser it will execute the &lt;code class=&quot;language-text&quot;&gt;Test.util.Config.getBaseUrl()&lt;/code&gt; and so the url that is on the prototype is actually &lt;code class=&quot;language-text&quot;&gt;&amp;#39;http://www.mitchellsimoens.com/get/users&amp;#39;&lt;/code&gt; which is fantastic. To make this work your &lt;code class=&quot;language-text&quot;&gt;app.js&lt;/code&gt; file should look like (removed some code):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.Loader.setPath(&amp;#39;Test&amp;#39;, &amp;#39;app&amp;#39;);

Ext.require([
    &amp;#39;Test.util.Config&amp;#39;
]);

Ext.application({
    //..

    stores : [
        &amp;#39;Users&amp;#39;
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So we have an application with a &lt;code class=&quot;language-text&quot;&gt;Users Store&lt;/code&gt; and a &lt;code class=&quot;language-text&quot;&gt;Config&lt;/code&gt; utility class and the Users store is autoLoading from &lt;code class=&quot;language-text&quot;&gt;http://www.mitchellsimoens.com/get/users&lt;/code&gt; but we are still in development so we want to hit &lt;code class=&quot;language-text&quot;&gt;localhost&lt;/code&gt; not &lt;code class=&quot;language-text&quot;&gt;www.mitchellsimoens.com&lt;/code&gt;. We could just change the &lt;code class=&quot;language-text&quot;&gt;baseUrl&lt;/code&gt; config in &lt;code class=&quot;language-text&quot;&gt;Test.util.Config&lt;/code&gt; but that’s manual and there is an automatic way for when you do a build and that is using &lt;code class=&quot;language-text&quot;&gt;//&amp;amp;#60;debug&amp;amp;#62;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;//&amp;amp;#60;/debug&amp;amp;#62;&lt;/code&gt;. When you do any build:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cd /path/to/Test
sencha app build [testing|production|package|native]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Anything between the &lt;code class=&quot;language-text&quot;&gt;//&amp;amp;#60;debug&amp;amp;#62;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;//&amp;amp;#60;/debug&amp;amp;#62;&lt;/code&gt; will automatically get removed. Get where I am going? So instead of manually changing the &lt;code class=&quot;language-text&quot;&gt;baseUrl&lt;/code&gt;, just do something like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Test.util.Config&amp;#39;, {
    singleton : true,

    config : {
        baseUrl : &amp;#39;http://www.mitchellsimoens.com/&amp;#39;
    },

    constructor : function (config) {
        this.initConfig(config);

        this.callParent([config]);
    }
//&amp;lt;debug&amp;gt;
},
function () {
    this.setConfig({
        baseUrl : &amp;#39;http://localhost/&amp;#39;
    });
//&amp;lt;/debug&amp;gt;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What this will do is when the &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; is finished creating the class definition and creating the singleton class it will execute the callback function which we are using to set the &lt;code class=&quot;language-text&quot;&gt;baseUrl&lt;/code&gt; config to &lt;code class=&quot;language-text&quot;&gt;&amp;#39;http://localhost/&amp;#39;&lt;/code&gt; which is overriding the &lt;code class=&quot;language-text&quot;&gt;&amp;#39;http://www.mitchellsimoens.com/&amp;#39;&lt;/code&gt;. And since we wrapped the new code in &lt;code class=&quot;language-text&quot;&gt;//&amp;amp;#60;debug&amp;amp;#62;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;//&amp;amp;#60;/debug&amp;amp;#62;&lt;/code&gt; it will remove this override when we do any of the builds automatically switching the &lt;code class=&quot;language-text&quot;&gt;baseUrl&lt;/code&gt; for us not manually.&lt;/p&gt;
&lt;p&gt;Further more, when you use &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;uses&lt;/code&gt; properties when creating class definitions you can remove those lines saving some space as they should all be within the built &lt;code class=&quot;language-text&quot;&gt;app.js&lt;/code&gt; file. So our &lt;code class=&quot;language-text&quot;&gt;Users Store&lt;/code&gt; we have above could be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Test.store.Users&amp;#39;, {
    extend : &amp;#39;Ext.data.Store&amp;#39;,

    //&amp;lt;debug&amp;gt;
    requires : [
        &amp;#39;Test.model.User&amp;#39;
    ],
    //&amp;lt;/debug&amp;gt;

    config : {
        autoLoad : true,
        model    : &amp;#39;Test.model.User&amp;#39;,
        proxy    : {
            type  : &amp;#39;ajax&amp;#39;,
            url   : Test.util.Config.getBaseUrl() + &amp;#39;get/users&amp;#39;
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And that will remove the &lt;code class=&quot;language-text&quot;&gt;requires&lt;/code&gt; property when you do a build saving 3 lines (plus the two for the debug comments) as it’s not needed in a production build.&lt;/p&gt;
&lt;p&gt;This is a trick of the trade that I found when developing Sencha Touch 2 apps using Sencha Command and one trick that I am really loving!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Friends and life]]></title><description><![CDATA[I’m a very open and honest person; I don’t try to be something I’m not. I will always admit I don’t know everything which is actually one of…]]></description><link>https://mitchellsimoens.com/2012/04/04/friends-and-life/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/04/04/friends-and-life/</guid><pubDate>Wed, 04 Apr 2012 13:29:03 GMT</pubDate><content:encoded>&lt;p&gt;I’m a very open and honest person; I don’t try to be something I’m not. I will always admit I don’t know everything which is actually one of the values of myself that I hold dear, it helps me always push myself.&lt;/p&gt;
&lt;p&gt;Some of you may have noticed that I got engaged recently and am trying to plan a wedding which looks to be end of April 2013 so Danielle and I have plenty of time to plan. First up is location and picking guest list and the wedding party. All this planning is both fun and overwhelming, I knew there would be a lot of things but dealing with a woman who has been thinking about ideas for last 25 or so years quite a lot to keep up with.&lt;/p&gt;
&lt;p&gt;Back when I was a teenager I was a very sensitive person which I allowed for things to hurt me. So as I matured I tried to grow away from that and have successfully been able to control my emotions a lot more. Hell, controlling what I think about has become pretty easy minus the big life things. So as I am planning the wedding and picking my wedding party I realized something that, to be honest, bothers me… friends.&lt;/p&gt;
&lt;p&gt;When I was young, talking before I was 16, I had friends that I would hang out with. Once I started working I lost those friends and gained new ones which is fine. I’ve gone through a couple evolutions in my life and in each evolution I lost all my friends as they weren’t able or willing to be ok with my changes. They were friends but not good friends. There is one friend that has stuck with me for last 10 years and no doubt will be (and has accepted) to be my best man but I can’t have a wedding party of one. In my current evolution, my “geek” evolution I have made many new friends and am very happy with where I am with these friends but it still bothers me that I don’t have more friends from back when I was a kid or a teenager. I have pretty much chosen who is in my wedding party (haven’t asked everyone yet) and couldn’t be more thrilled for the group of guys I will be having don’t get me wrong, I have been in a couple wedding recently and see them having friends that have been around for a long time.&lt;/p&gt;
&lt;p&gt;I guess the moral of this is growing up sucks. You want to hold on to what was but still move towards what will be. It’s a struggle, it’s a personal struggle. I have told Danielle that you can’t live in the past, all you can do is learn and move on. But your past is what made you, what sculpted you.&lt;/p&gt;
&lt;p&gt;Disclaimer - I know this is personal and not really tech related but it is therapeutic to write things.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Fullscreen Madness!]]></title><description><![CDATA[Sencha Touch 2 is a fantastic framework, my favorite to work with and most likely will be until Sencha Touch 3 comes out (no public dates…]]></description><link>https://mitchellsimoens.com/2012/02/10/fullscreen-madness/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/02/10/fullscreen-madness/</guid><pubDate>Fri, 10 Feb 2012 11:47:03 GMT</pubDate><content:encoded>&lt;p&gt;Sencha Touch 2 is a fantastic framework, my favorite to work with and most likely will be until Sencha Touch 3 comes out (no public dates yet :) ). I’m a mobile developer at heart I guess or maybe I just like that I don’t have to worry about IE. Either case Sencha Touch 2 is fantastic and by looking at the popularity in the &lt;a href=&quot;http://www.sencha.com/forum/forumdisplay.php?89-Sencha-Touch-2.x-Forums&quot;&gt;Sencha Touch 2 forums&lt;/a&gt; I’m not the only one loving it! Helping people out a lot, I’m noticing a lot of people using the &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; config option where they shouldn’t which makes me think that the function of the &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; config isn’t explained very well. Today, I hope to change this.&lt;/p&gt;
&lt;h2&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Before we dive into what the &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; config does, I want to make you aware of a critical piece of the puzzle. When you launch a Sencha Touch 2 app, the framework creates a component that will act as the viewport for your app. The instance is saved to &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt;. Quick explanation of what &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; is is it’s an &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt; using card layout. Bit more info is you may have noticed the classes in the &lt;code class=&quot;language-text&quot;&gt;Ext.viewport&lt;/code&gt; namespace (remember JavaScript is case-sensitive so &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; !== &lt;code class=&quot;language-text&quot;&gt;Ext.viewport&lt;/code&gt;). &lt;code class=&quot;language-text&quot;&gt;Ext.viewport.Android&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Ext.viewport.Ios&lt;/code&gt; both extend &lt;code class=&quot;language-text&quot;&gt;Ext.viewport.Default&lt;/code&gt; and help setup the viewport based on what platform is currently viewing your application. &lt;code class=&quot;language-text&quot;&gt;Ext.viewport.Viewport&lt;/code&gt; acts as a factory for creating the correct viewport class. Each platform has it’s own quirks and issues and this helps navigate around these to provide better performance.&lt;/p&gt;
&lt;p&gt;You can configure the &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; by using the viewport config in &lt;a href=&quot;http://docs.sencha.com/touch/2-0/#!/api/Ext-method-setup&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.setup&lt;/code&gt;&lt;/a&gt; or the viewport config in &lt;a href=&quot;http://docs.sencha.com/touch/2-0/#!/api/Ext-method-application&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.application&lt;/code&gt;&lt;/a&gt;. Each link links to the online API Docs and there are examples for this so I don’t have to show that code.&lt;/p&gt;
&lt;p&gt;To sum &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; up… &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; is an &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt; and by default it uses card layout.&lt;/p&gt;
&lt;h2&gt;&lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; Config!&lt;/h2&gt;
&lt;p&gt;First, let’s look at a small code snippet and then break it down:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;new Ext.Container({
    fullscreen : true,
    html       : &amp;#39;Do you seem my size?&amp;#39;,
    items      : [
        {
            xtype  : &amp;#39;toolbar&amp;#39;,
            docked : &amp;#39;top&amp;#39;,
            title  : &amp;#39;Top Toolbar&amp;#39;
        },
        {
            xtype  : &amp;#39;toolbar&amp;#39;,
            docked : &amp;#39;bottom&amp;#39;,
            title  : &amp;#39;Bottom Toolbar&amp;#39;
        }
    ]
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I added the two toolbars so you can visually see the size of the &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt; we created. The important part we need to talk about is that &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; config. So you noticed that the &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt; took 100% of the height and width but how did it do that? Remember &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt;? When you create a component (using the &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; keyword like I did or &lt;code class=&quot;language-text&quot;&gt;Ext.create&lt;/code&gt;) with the &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; config set to &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; (defaults to &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;) it actually fires a &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; event on itself. Within &lt;code class=&quot;language-text&quot;&gt;Ext.viewport.Default&lt;/code&gt;, it has a listener for &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; events and when it captures one, it will take that component and add it as an item of &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt;. Since by default &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; uses card layout the &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt; that was just added as an item will take up 100% of the height and width because that’s what card layout does.&lt;/p&gt;
&lt;p&gt;To recap this, &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; listens for &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; events and adds that &lt;code class=&quot;language-text&quot;&gt;Ext.Component&lt;/code&gt; as an item.&lt;/p&gt;
&lt;h2&gt;Multiple &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt;s&lt;/h2&gt;
&lt;p&gt;What happens when we have two or more components using &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; set to &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;? Well, it keeps adding those components and adds them as a child item but you will only be able to see one at a time as that is how card layout works. You can use the &lt;code class=&quot;language-text&quot;&gt;setActiveItem&lt;/code&gt; method on &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; to navigate through your “fullscreen” components:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;new Ext.Container({
    fullscreen : true,
    html       : &amp;#39;Do you seem my size?&amp;#39;,
    items      : [
        {
            xtype  : &amp;#39;toolbar&amp;#39;,
            docked : &amp;#39;top&amp;#39;,
            title  : &amp;#39;Top Toolbar&amp;#39;,
            items  : [
                {
                    text    : &amp;#39;Go 2nd&amp;#39;,
                    ui      : &amp;#39;confirm&amp;#39;,
                    handler : function() {
                        Ext.Viewport.setActiveItem(1);
                    }
                }
            ]
        },
        {
            xtype  : &amp;#39;toolbar&amp;#39;,
            docked : &amp;#39;bottom&amp;#39;,
            title  : &amp;#39;Bottom Toolbar&amp;#39;
        }
    ]
});

new Ext.Container({
    fullscreen : true,
    html       : &amp;#39;Second One&amp;#39;
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So we have two &lt;code class=&quot;language-text&quot;&gt;Ext.Containers&lt;/code&gt; using &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; set to &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;. The active item will be the first container as &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; won’t change the active item, it will just add it as an item. I added a button to the top toolbar of the first container that simple executes &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport.setActiveItem(1)&lt;/code&gt; which will switch to the item at index 1 of &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; which is the second container.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;We quickly learned what &lt;code class=&quot;language-text&quot;&gt;Ext.Viewport&lt;/code&gt; is and how to configure it. We then dove into how the &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; config works behind the scenes and then saw how we can use multiple items with the &lt;code class=&quot;language-text&quot;&gt;fullscreen&lt;/code&gt; config set to &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ActionColumn and MVC]]></title><description><![CDATA[Being full-time on the Sencha forums gives me direct access to the community which gives me an idea of some frequently asked questions that…]]></description><link>https://mitchellsimoens.com/2012/02/04/actioncolumn-and-mvc/</link><guid isPermaLink="false">https://mitchellsimoens.com/2012/02/04/actioncolumn-and-mvc/</guid><pubDate>Sat, 04 Feb 2012 20:38:03 GMT</pubDate><content:encoded>&lt;p&gt;Being full-time on the &lt;a href=&quot;http://www.sencha.com/forums/&quot; title=&quot;Sencha forums&quot; target=&quot;_blank&quot;&gt;Sencha forums&lt;/a&gt; gives me direct access to the community which gives me an idea of some frequently asked questions that I hope to blog more to answer.&lt;/p&gt;
&lt;h2&gt;Mission&lt;/h2&gt;
&lt;p&gt;Building applications with Ext JS 4 is very easy with the MVC architecture but sometimes it’s not always easy to know how to use MVC with certain widgets or features of Ext JS 4. Today I would like to discuss how I went about using ActionColumns and MVC specifically how to control when you click on an ActionColumn item within a controller.&lt;/p&gt;
&lt;h2&gt;Setting the Stage&lt;/h2&gt;
&lt;p&gt;Let’s set the stage! I’m going to use the Array Grid example that comes with every Ext JS release but turn it from an ordinary example into a more MVC example. Here are the controller, model, view and application code that we can start with:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Mitch.controller.Main&amp;#39;, {
    extend : &amp;#39;Ext.app.Controller&amp;#39;,

    init : function() {
        //this.control will go here
    }
});

Ext.define(&amp;#39;Mitch.model.Company&amp;#39;, {
    extend : &amp;#39;Ext.data.Model&amp;#39;,

    idProperty : &amp;#39;company&amp;#39;,
    fields     : [
       { name : &amp;#39;company&amp;#39;                                            },
       { name : &amp;#39;price&amp;#39;,      type : &amp;#39;float&amp;#39;                         },
       { name : &amp;#39;change&amp;#39;,     type : &amp;#39;float&amp;#39;                         },
       { name : &amp;#39;pctChange&amp;#39;,  type : &amp;#39;float&amp;#39;                         },
       { name : &amp;#39;lastChange&amp;#39;, type : &amp;#39;date&amp;#39;, dateFormat : &amp;#39;n/j h:ia&amp;#39; }
    ]
});

Ext.define(&amp;#39;Mitch.view.Viewport&amp;#39;, {
    extend : &amp;#39;Ext.grid.Panel&amp;#39;,
    xtype  : &amp;#39;mitch-viewport&amp;#39;,

    multiSelect : true,
    height      : 350,
    width       : 600,
    title       : &amp;#39;Array Grid&amp;#39;,

    initComponent : function() {
        var me = this;

        me.columns    = me.buildColumns();
        me.store      = me.buildStore();
        me.viewConfig = {
            stripeRows          : true,
            enableTextSelection : true
        };

        Mitch.view.Viewport.superclass.initComponent.call(me);
    },

    buildStore : function() {
        return new Ext.data.Store({
            model : &amp;#39;Mitch.model.Company&amp;#39;,
            data  : [
                [&amp;#39;3m Co&amp;#39;,                               71.72, 0.02,  0.03,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Alcoa Inc&amp;#39;,                           29.01, 0.42,  1.47,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Altria Group Inc&amp;#39;,                    83.81, 0.28,  0.34,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;American Express Company&amp;#39;,            52.55, 0.01,  0.02,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;American International Group, Inc.&amp;#39;,  64.13, 0.31,  0.49,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;AT&amp;amp;amp;T Inc.&amp;#39;,                           31.61, -0.48, -1.54, &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Boeing Co.&amp;#39;,                          75.43, 0.53,  0.71,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Caterpillar Inc.&amp;#39;,                    67.27, 0.92,  1.39,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Citigroup, Inc.&amp;#39;,                     49.37, 0.02,  0.04,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;E.I. du Pont de Nemours and Company&amp;#39;, 40.48, 0.51,  1.28,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Exxon Mobil Corp&amp;#39;,                    68.1,  -0.43, -0.64, &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;General Electric Company&amp;#39;,            34.14, -0.08, -0.23, &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;General Motors Corporation&amp;#39;,          30.27, 1.09,  3.74,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Hewlett-Packard Co.&amp;#39;,                 36.53, -0.03, -0.08, &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Honeywell Intl Inc&amp;#39;,                  38.77, 0.05,  0.13,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Intel Corporation&amp;#39;,                   19.88, 0.31,  1.58,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;International Business Machines&amp;#39;,     81.41, 0.44,  0.54,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Johnson &amp;amp;amp; Johnson&amp;#39;,                   64.72, 0.06,  0.09,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;JP Morgan &amp;amp;amp; Chase &amp;amp;amp; Co&amp;#39;,              45.73, 0.07,  0.15,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;McDonald\&amp;#39;s Corporation&amp;#39;,             36.76, 0.86,  2.40,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Merck &amp;amp;amp; Co., Inc.&amp;#39;,                   40.96, 0.41,  1.01,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Microsoft Corporation&amp;#39;,               25.84, 0.14,  0.54,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Pfizer Inc&amp;#39;,                          27.96, 0.4,   1.45,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;The Coca-Cola Company&amp;#39;,               45.07, 0.26,  0.58,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;The Home Depot, Inc.&amp;#39;,                34.64, 0.35,  1.02,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;The Procter &amp;amp;amp; Gamble Company&amp;#39;,        61.91, 0.01,  0.02,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;United Technologies Corporation&amp;#39;,     63.26, 0.55,  0.88,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Verizon Communications&amp;#39;,              35.57, 0.39,  1.11,  &amp;#39;9/1 12:00am&amp;#39;],
                [&amp;#39;Wal-Mart Stores, Inc.&amp;#39;,               45.45, 0.73,  1.63,  &amp;#39;9/1 12:00am&amp;#39;]
            ]
        });
    },

    buildColumns : function() {
        return [
            {
                text      : &amp;#39;Company&amp;#39;,
                flex      : 1,
                sortable  : false,
                dataIndex : &amp;#39;company&amp;#39;
            },
            {
                text      : &amp;#39;Price&amp;#39;,
                width     : 75,
                sortable  : true,
                renderer  : &amp;#39;usMoney&amp;#39;,
                dataIndex : &amp;#39;price&amp;#39;
            },
            {
                text      : &amp;#39;Change&amp;#39;,
                width     : 75,
                sortable  : true,
                renderer  : &amp;#39;usMoney&amp;#39;,
                dataIndex : &amp;#39;change&amp;#39;
            },
            {
                text      : &amp;#39;% Change&amp;#39;,
                width     : 75,
                sortable  : true,
                renderer  : function(v) { return v + &amp;#39;%&amp;#39;; },
                dataIndex : &amp;#39;pctChange&amp;#39;
            },
            {
                text      : &amp;#39;Last Updated&amp;#39;,
                width     : 85,
                sortable  : true,
                renderer  : Ext.util.Format.dateRenderer(&amp;#39;m/d/Y&amp;#39;),
                dataIndex : &amp;#39;lastChange&amp;#39;
            },
            {
                xtype        : &amp;#39;actioncolumn&amp;#39;,
                menuDisabled : true,
                sortable     : false,
                width        : 50,
                items        : [
                    {
                        icon    : &amp;#39;../SDK/extjs/examples/shared/icons/fam/delete.gif&amp;#39;,
                        tooltip : &amp;#39;Sell stock&amp;#39;,
                        handler : function(grid, rowIndex, colIndex) {
                            var rec = store.getAt(rowIndex);
                            alert(&amp;#39;Sell &amp;#39; + rec.get(&amp;#39;company&amp;#39;));
                        }
                    },
                    {
                        getClass : function(v, meta, rec) {
                            if (rec.get(&amp;#39;change&amp;#39;) &amp;lt; 0) {
                                this.items[1].tooltip = &amp;#39;Hold stock&amp;#39;;
                                return &amp;#39;alert-col&amp;#39;;
                            } else {
                                this.items[1].tooltip = &amp;#39;Buy stock&amp;#39;;
                                return &amp;#39;buy-col&amp;#39;;
                            }
                        },
                        handler  : function(grid, rowIndex, colIndex) {
                            var rec = grid.getStore().getAt(rowIndex);
                            alert((rec.get(&amp;#39;change&amp;#39;) &amp;lt; 0 ? &amp;#39;Hold &amp;#39; : &amp;#39;Buy &amp;#39;) + rec.get(&amp;#39;company&amp;#39;));
                        }
                    }
                ]
            }
        ];
    }
});

Ext.application({
    name        : &amp;#39;Mitch&amp;#39;,
    controllers : [ &amp;#39;Main&amp;#39; ],

    launch : function() {
        new Mitch.view.Viewport({
            renderTo : document.body
        });
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bunch of code but very easy to follow. Currently the Main controller doesn’t do anything and you can see we have two items under the ActionColumn but it’s not very MVCish. I know you can use the ComponentQuery ‘mitch-viewport actioncolumn’ to resolve the ActionColumn so in the Main controller I just decided to test if I can listen to the a click event on the ActionColumn in a controller and it actually worked! Here is how to capture the click event:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Mitch.controller.Main&amp;#39;, {
    extend : &amp;#39;Ext.app.Controller&amp;#39;,

    init : function() {
        this.control({
            &amp;#39;mitch-viewport actioncolumn&amp;#39; : {
                click : this.handleActionColumn
            }
        });
    },

    handleActionColumn : function(gridview, el, rowIndex, colIndex, e, rec, rowEl) {
        console.log(arguments);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So if you click on an item in the ActionColumn the controller will console.log the arguments out so you can inspect them. You could actually stop here and use this as is but upon inspecting the different arguments (there are quite a few) I saw a problem… there isn’t an easy way to distinguish which icon in the ActionColumn was actually clicked on. You could add some logic in to look look at the actual target to see which icon was clicked on but there is an easier and less expensive way than parsing the DOM.&lt;/p&gt;
&lt;h2&gt;Custom Events&lt;/h2&gt;
&lt;p&gt;I would hope we all know that you don’t have to stick with the default events that are fired within the framework, we can actually fire custom events using fireEvent but I know I didn’t have that thought when I first started off. So why not use fireEvent within the handler of each item in the ActionColumn so that we don’t have to dig into the DOM? Why have a catch-all click event that is on the column? We can have a general event that is fired but easily distinguishable from one another and name it ‘itemclick’!&lt;/p&gt;
&lt;h2&gt;Fire &lt;code class=&quot;language-text&quot;&gt;itemclick&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;So we chose to fire a custom event call ‘itemclick’, first we need to decide what kind of arguments we want to fire this event with. The scope of the handler is that of the ActionColumn which is where we are going to fire the event on. We would maybe want the ActionColumn, grid, rowIndex, colIndex, record, eventObject, the node clicked on and since we are firing the event, we can make it easy on ourselves and put a custom argument to tell the action we should take. Let’s look at the code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    xtype        : &amp;#39;actioncolumn&amp;#39;,
    menuDisabled : true,
    sortable     : false,
    width        : 50,
    items        : [
        {
            icon    : &amp;#39;../SDK/extjs/examples/shared/icons/fam/delete.gif&amp;#39;,
            tooltip : &amp;#39;Sell stock&amp;#39;,
            handler : function(grid, rowIndex, colIndex, node, e, record, rowNode) {
                this.fireEvent(&amp;#39;itemclick&amp;#39;, this, &amp;#39;sell&amp;#39;, grid, rowIndex, colIndex, record, node);
            }
        },
        {
            getClass : function(v, meta, rec) { /* */
            },
            handler  : function(grid, rowIndex, colIndex, node, e, record, rowNode) {
                var action = record.get(&amp;#39;change&amp;#39;) &amp;amp;lt; 0 ? &amp;#39;hold&amp;#39; : &amp;#39;buy&amp;#39;;
                this.fireEvent(&amp;#39;itemclick&amp;#39;, this, action, grid, rowIndex, colIndex, record, node);
            }
        }
    ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So you can see how we can use the fireEvent and fired the ‘itemclick’ event onto this which is the ActionColumn. Now we can update the Main controller like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;Mitch.controller.Main&amp;#39;, {
    extend : &amp;#39;Ext.app.Controller&amp;#39;,

    init : function() {
        this.control({
            &amp;#39;mitch-viewport actioncolumn&amp;#39; : {
                itemclick : this.handleActionColumn
            }
        });
    },

    handleActionColumn : function(column, action, grid, rowIndex, colIndex, record, node) {
        console.log(action);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you update the view and the controller now and click on an icon in the ActionColumn, you would see the action console.log into the developer tools console being one of these options: ‘sell’, ‘hold’ or ‘buy’. Now based on that action we can then do whatever application and business logic that is required. Since we have the power of firing our own event you could actually fire the event on the grid itself so that your control method in your controller is easily managable and not have too many different ComponentQuery selectors but I would prefix the ‘itemclick’ event with ‘action’ so that the event name means something and doesn’t collide with any existing events.&lt;/p&gt;
&lt;h2&gt;Recap&lt;/h2&gt;
&lt;p&gt;First we took the Array Grid example and turned it into a simple MVC application. We then tested to see what events fire on the ActionColumn that we could use and found the click event was fired on the ActionColumn even though that particular event is documented in the API docs (I looked at the source for the ActionColumn and saw the possibility, don’t be afraid to look at the source!). We inspected the arguments that are fired with the click event and saw that we could use it but would have to query the DOM to see which item in the ActionColumn was actually clicked on. We decided that there could be a less expensive way to accomplish what we wanted to do than to play with the DOM as doing anything with the DOM (read/write) has a high performance hit. We found out we can fire our own events which should be faster than the DOM and so we modified our code to do this and found out it was very simple to do! Now we can go forth and do actual actions with our custom ‘itemclick’ event!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ext.define and listeners as a property... bad!]]></title><description><![CDATA[Note As of Ext JS 5 this blog is not true. We have made changes to Ext JS to handle the listeners as a property. In face, for MVVM, this is…]]></description><link>https://mitchellsimoens.com/2011/12/27/ext-define-and-listeners-as-a-property-bad/</link><guid isPermaLink="false">https://mitchellsimoens.com/2011/12/27/ext-define-and-listeners-as-a-property-bad/</guid><pubDate>Tue, 27 Dec 2011 12:01:03 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; As of Ext JS 5 this blog is not true. We have made changes to Ext JS to handle the listeners as a property. In face, for MVVM, this is now the recommended practice. In Ext JS 6, a subclass cannot override the superclass’ listeners property.&lt;/p&gt;
&lt;p&gt;Recently I have noticed a lot of people on the forums using the &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt;, in my opinion, the wrong way. Being event driven is a great tactic in application development, one that I often use. Template methods are great and have their uses but for things that are reacting to user interactions, events are going to be your best friend.&lt;/p&gt;
&lt;p&gt;Let’s look at a quick piece of code. Grids are used a lot and I often create an abstract class to handle all my grids as most of the stuff in grids can be abstracted out instead of having tons of duplicate code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.grid.Abstract&amp;#39;, {
    extend : &amp;#39;Ext.grid.Panel&amp;#39;,
    alias  : &amp;#39;widget.myapp-grid-abstract&amp;#39;,

    initComponent : function() {
        Ext.apply(this, {
            dockedItems : this.buildDocks(),
            selModel    : this.buildSelModel()
        });

        this.callParent(arguments);
    },

    buildDocks : function() {
        var docks = Ext.Array.from(this.dockedItems);

        docks.push({
            xtype : &amp;#39;toolbar&amp;#39;,
            dock  : &amp;#39;top&amp;#39;,
            items : [
                {
                    text     : &amp;#39;Delete&amp;#39;,
                    disabled : true,
                    action   : &amp;#39;delete&amp;#39;
                }
            ]
        });

        return docks;
    },

    buildSelModel : function() {
        return {
            type : &amp;#39;rowmodel&amp;#39;,
            mode : &amp;#39;SIMPLE&amp;#39;
        };
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So you can see from this code (which usually isn’t the entire abstract class) that we are adding a top docked &lt;code class=&quot;language-text&quot;&gt;Ext.Toolbar&lt;/code&gt; with a disabled delete button and defining a selection model with &lt;code class=&quot;language-text&quot;&gt;mode&lt;/code&gt; set to ‘SIMPLE’. The delete button should enable and disable based on the number of rows selected, disabled if the number of rows selected is zero, otherwise enable it. Usually you would extend an abstract class but for this blog we will just instantiate the abstract class like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;new MyApp.view.grid.Abstract({
    renderTo : Ext.getBody(),
    width    : 400,
    height   : 400,
    title    : &amp;#39;Test Grid&amp;#39;,
    columns  : [
        {
            header    : &amp;#39;Row&amp;#39;,
            flex      : 1,
            dataIndex : &amp;#39;row&amp;#39;
        }
    ],
    store    : new Ext.data.Store({
        fields : [&amp;#39;row&amp;#39;],
        data   : [
            { row : &amp;#39;One&amp;#39;   },
            { row : &amp;#39;Two&amp;#39;   },
            { row : &amp;#39;Three&amp;#39; },
            { row : &amp;#39;Four&amp;#39;  },
            { row : &amp;#39;Five&amp;#39;  }
        ]
    })
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So now we have a grid rendering as expected, time to handle the user interaction using the &lt;code class=&quot;language-text&quot;&gt;selectionchange&lt;/code&gt; event on the grid panel. This is where the problem lies. I have seen many developers add &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt; like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.grid.Abstract&amp;#39;, {
    extend : &amp;#39;Ext.grid.Panel&amp;#39;,
    alias  : &amp;#39;widget.grid-abstract&amp;#39;,

    listeners : {
        selectionchange : function(selModel, selected) {
            var view = selModel.view,
                grid = view.up(&amp;#39;gridpanel&amp;#39;),
                btn  = grid.down(&amp;#39;button[action=delete]&amp;#39;);

            btn.setDisabled(selected.length === 0);
        }
    },

    initComponent : function() {
        /**/
    },

    buildDocks : function() {
        /**/
    },

    buildSelModel : function() {
        /**/
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice the &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt; property we just set on the class’ prototype. And this works but I have always been told just because it works doesn’t mean it’s right; to me, this is an invalid use of &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt;. &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt; is listed as a config option so what happens when you instantiate the class like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;new MyApp.view.grid.Abstract({
    /**/
    listeners : {
        afterrender : function() {
            console.log(&amp;#39;my grid has rendered!&amp;#39;);
        }
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, try to enable that delete button by selecting a row. Did it work? The problem here is anything you pass in the config object will overwrite anything you set on the prototype in &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; so the &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt; you set to listen for the &lt;code class=&quot;language-text&quot;&gt;selectionchange&lt;/code&gt; event is now overwritten by the &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt; config object listening for the &lt;code class=&quot;language-text&quot;&gt;afterrender&lt;/code&gt; when we instantiated. You now easily broke your abstract class. This is why you should never use &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt; when using &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So how do we go about to rectify this situation so that we can have our config listeners not overwrite our class listeners? The simple usage of &lt;code class=&quot;language-text&quot;&gt;on()&lt;/code&gt; will allow this, the only cavet is that we have to clean up the listener but that’s simple. Let’s delete the &lt;code class=&quot;language-text&quot;&gt;listeners&lt;/code&gt; from the &lt;code class=&quot;language-text&quot;&gt;Ext.define&lt;/code&gt; and put the &lt;code class=&quot;language-text&quot;&gt;on()&lt;/code&gt; usage into &lt;code class=&quot;language-text&quot;&gt;initComponent&lt;/code&gt; and use &lt;code class=&quot;language-text&quot;&gt;un()&lt;/code&gt; in &lt;code class=&quot;language-text&quot;&gt;beforeDestroy&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyApp.view.grid.Abstract&amp;#39;, {
    extend : &amp;#39;Ext.grid.Panel&amp;#39;,
    alias  : &amp;#39;widget.grid-abstract&amp;#39;,

    initComponent : function() {
        var me = this;

        Ext.apply(me, {
            dockedItems : me.buildDocks(),
            selModel    : me.buildSelModel()
        });

        me.callParent();

        me.on(&amp;#39;selectionchange&amp;#39;, me.handleSelectionChange, me);
    },

    beforeDestroy: function() {
        var me = this;

        me.un(&amp;#39;selectionchange&amp;#39;, me.handleSelectionChange, me);

        me.callParent(arguments);
    },

    buildDocks : function() {
        /**/
    },

    buildSelModel : function() {
        /**/
    },

    handleSelectionChange : function(selModel, selected) {
        var view = selModel.view,
            grid = view.up(&amp;#39;gridpanel&amp;#39;),
            btn  = grid.down(&amp;#39;button[action=delete]&amp;#39;);

        btn.setDisabled(selected.length === 0);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Can you see where I used &lt;code class=&quot;language-text&quot;&gt;on()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;un()&lt;/code&gt;? Now, when you render the grid, the listeners you placed in the config object that has an &lt;code class=&quot;language-text&quot;&gt;afterrender&lt;/code&gt; listener gets executed and if you select a row, the delete button will now enable.&lt;/p&gt;
&lt;p&gt;Awesome! Now we have a full functional abstract class that has event listeners that cannot be affected when instantiating a class.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[About me]]></title><description><![CDATA[I thought I would start this blog off by introducing myself. Many have talked to me but probably don’t know how I became the man I am today…]]></description><link>https://mitchellsimoens.com/2011/12/17/about-me/</link><guid isPermaLink="false">https://mitchellsimoens.com/2011/12/17/about-me/</guid><pubDate>Sat, 17 Dec 2011 17:16:03 GMT</pubDate><content:encoded>&lt;p&gt;I thought I would start this blog off by introducing myself. Many have talked to me but probably don’t know how I became the man I am today. It was a rough road but here it is, I won’t spend years talking about it, I promise.&lt;/p&gt;
&lt;h2&gt;Early Years&lt;/h2&gt;
&lt;p&gt;Born in Iowa City, Iowa USA on February 2, 1984 (on a farm), I moved down to Saint Louis, Missouri USA in 1988 where I have called home ever since. I was a shy, quiet yet adventurous child. I never had lots of friends but kept a small group close. I was into sport, soccer being my favorite and devoted lots of my time practicing which didn’t leave me much time to spend inside playing video games.&lt;/p&gt;
&lt;h2&gt;Teen Years&lt;/h2&gt;
&lt;p&gt;Like I said, I was an adventurous child I would go places where I shouldn’t go. I lived in the suburbs of Saint Louis so it’s not like I could get into much trouble. There used to be lots of trails and creeks where I used to ride my bike doing tricks… trying to at least. I stopped playing soccer and decided to tear appart my parent’s $4,000 Compaq. My mother came home with everything spread around the room. Little later I got everything put back together and told her I wasn’t too sure I’d get that back together; this is what started my whole nerdness. I started learning by dissecting so when I got a truck when I turned 16, installing a head unit was a fun experiment. Using the Compaq, I started playing online games and joined an online group. This is where I fell into web design as they needed someone to help and I took on that challenge. Of course it was using Frontpage and Geocities but had to use existing Perl scripts but ditched that for PHP. For the next couple years I would spend 100% of my time within PHP. When I turned 16, I also started working at QuikTrip (convenient store chain around the USA) and thought that was what I was going to do for the rest of my life. It took priority over everything, school included. Growing up the way I did, my work ethic was top notch. Working 15 hours wouldn’t be a problem to me.&lt;/p&gt;
&lt;p&gt;In the middle of the teen years, I tried escaping a problem I had. My father and I were close; hunting, fishing, sports were things that we did together a lot. The problem I felt is that we would never express our feelings toward each other. He would just push me to be better and if I didn’t live up to what he expected me to be, I felt he was disappointed in me. My family has a history of depression and I look back and I wish I would have seen this and prevented myself going down that road. I tried to work more and keep myself active but I would have terrible mood swings. The smallest thing would set me off. Alcohol would also play a large roll in all of this. This would go on for the better part of a decade.&lt;/p&gt;
&lt;h2&gt;Adult Years&lt;/h2&gt;
&lt;p&gt;After high school, I tried going to Maryville University here in Saint Louis going for a degree in eCommerce. I didn’t mind going to school but QuikTrip always trumped it so I bailed out after half a semester. I would then focus on my career at QuikTrip keeping my hobby of web developing on the side. My father also works at QuikTrip and has been very successful and for the first time I felt like he was proud of my accomplishments at following him in his footsteps. I started moving up and taking on projects but keeping him in the dark about my drinking and depression. Going to work drunk was fine as long as I had cologne to mask the smell and energy drinks to keep me awake as I wouldn’t sleep. I stayed away from pills or marijuana and have never tried that; I take pride in this actually.&lt;/p&gt;
&lt;p&gt;I haven’t talked much about females in my life as they weren’t really my priority. Yes, I dated and lost my virginity at age 16 but I just didn’t really care about them. After high school they played more of a role. I always seemed to get good looking girls but they would use me because working at QuikTrip I made great money. I built a house, had a truck, car (1994 Ford Mustang 5.0), and a motorcycle (Kawasaki Ninja 600R) all before I could legally drink. Started building my house when I was 19. I would do anything for the girl in my life but looking back, it seems they took advantage of me. Maybe not their fault as I let them. This would not help my depression and confidence. This eventually would teach me about myself and help me later on.&lt;/p&gt;
&lt;p&gt;When I was 22, one night waking up in my own vomit, I decided to stop drinking. After that decision, I would only drink socially. I still got drunk once in a while but wouldn’t even be close to drinking like I used to. I went from drinking almost every waking minute to only having a couple here and there. This self control really made myself start taking a long look at what kind of man I was growing up to be. I started taking more action to improve myself and I would have to hit rock bottom and rebuild myself. I quit QuikTrip, foreclosed on my house, moved back in with my parents. Was out of work for 2 months before I started working at Sam’s Club. I was seasonal but after 2 weeks turned full-time. When I start a new job, I work very hard to make myself a crucial asset to my employer. Started making my way up but saw some questionable things being done by management (TVs went missing, favoritism, etc) so I stepped down and kind of was just living day by day. I turned to my hobby of web developing and started contracting. This was just a side job and never really took off.&lt;/p&gt;
&lt;h2&gt;Love of my life :)&lt;/h2&gt;
&lt;p&gt;Early 2008 my mother went to visit one of her long time friends. They used to work next door to each other for many many years at the U.S. Department of Veterans Affairs but in 2007 my mother’s friend got a divorce and moved to Florida to pursue a different job within the U.S. Department of Veterans Affairs and her daughter moved down a couple months later. As my mother was down there, her daughter (Danielle Collins) started texting me and we hit it off right away. 2 months later on May 3rd, over the phone and hundreds of miles away, I asked Danielle if she would be my girlfriend. About every other month, one of us would fly to the other to actually see each other, when we were away from each other, Skype had to do. Long distance isn’t easy but I do believe it allowed us to really connect and become each other’s best friend. Fast forward to August 2011, after over 3 years of dating we finally decided to make the hard decision of having her quit her job and move in with me. This was a huge and scary step in our relationship but enough was enough with long distance. We have been living together for a few months now and things couldn’t be going better. Sure we have our little arguments ehre and there but the transition from being a thousand miles away from each other to seeing each other each day hasn’t been as hard as I was afraid. I would do anything for her and hope to get engaged this next year as soon as I find a ring that I am proud to give her.&lt;/p&gt;
&lt;h2&gt;Ext JS/Sencha Years&lt;/h2&gt;
&lt;p&gt;Around 2004/2005 I started pushing myself to learn more about web developing. I was using Prototype, Scriptaculous and whatever else I could get my hands on. My thirst for knowledge was driving me in a million directions. It wasn’t till late in 2007 till I heard of this Ext JS and dropped everything and started trying to wrap my head around this. Early 2008 I jumped on the forums asking for help… I was very green. Next couple years my thirst for knowledge really pushed me to learn a lot about Ext JS and people like Jay Garcia, Nige “Animal” White, Shea “VinylFox” Fredricks, Condor really helped me out. It wasn’t till 2010 until I started getting some traction after helping with the book Ext JS in Action authored by Jay Garcia and some projects. People started coming to me for work so things were looking up. October 2010 I had a full-time opportunity as a web developer so I quit Sam’s Club to pursue web developing as a career. The guy I was working for didn’t like my coding style so he made me code like him. After 3 months of working for him and not liking it, I had another opportunity and took it. I like the guy I was working for, I can work from home, and the pay was great compared to what I was making. In a matter of about 4 months, my pay quadrupled! I thought I would work there for a long time but then I got an email from Ed Spencer at Sencha. At first, I was reluctant because I felt quite loyal to my current boss but I decided to give it a shot so I was flown out to Redwood City, CA USA for my interview. I then talked to Jeff Hartley who seemed very happy to speak with me and decided to offer me a job. I went back home and struggled to make a decision. After talking to family and friends, I decided that it was in my best interest to accept Sencha’s offer and handed in a one month notice to my current boss so that I could finish up things and he could find my replacement.&lt;/p&gt;
&lt;p&gt;Joining Sencha in March of 2011 as part of the Professional Services team, I quickly became a bit of a star (self proclaimed). Not being cocky but I could now show my talents off on a larger scale and for many peers who actually understand what is coded. My first assignment in Sencha was working at a certain client (cannot be named) working with Doug Hendricks and Jack Ratcliff who also work at Sencha on the Professional Services team. Doug was traveling a lot but Jack worked locally with me so I became close to working with him… enjoyed bouncing ideas off him and just talking with him on a daily basis. Jack moved on to another project so it was just Doug and I so I was by myself onsite. As of October 21st, I moved on to be the Senior Forum Manager (I got to pick my own title :) ).&lt;/p&gt;
&lt;p&gt;That brings us up to today! You probably have started seeing me spam the forums! My mission is to help people learn, not just give answers. I want to guide people to the answer so I’m sorry if you expect example code but that’s not really going to help you grow as a Sencha developer.&lt;/p&gt;
&lt;p&gt;Sorry if it was a long post but I appreciate you reading it and getting to know me. I hope to talk to you via Twitter or on the Forums but my true wish is to be able to attend meetups and conferences to meet you in person.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Help with cleanup]]></title><description><![CDATA[We are only in the developer preview stages of Sencha Touch 2 but we are already seeing so many great things. Performance in Android is…]]></description><link>https://mitchellsimoens.com/2011/12/11/help-with-cleanup/</link><guid isPermaLink="false">https://mitchellsimoens.com/2011/12/11/help-with-cleanup/</guid><pubDate>Sun, 11 Dec 2011 17:38:03 GMT</pubDate><content:encoded>&lt;p&gt;We are only in the developer preview stages of &lt;strong&gt;Sencha Touch 2&lt;/strong&gt; but we are already seeing so many great things. Performance in Android is superb. Scrolling is so native feeling that users won’t really be able to tell it’s really just a web page. Orientation changing is faster than the actual browser. The list goes on and on but I just stumbled on something that will help you clean up after your defined components.&lt;/p&gt;
&lt;p&gt;Lots of times, we as developers set references onto components to keep track of things. We now can use the config Object with the getters and setters which is very useful I have to admit. But sometimes that’s just a bit much for what we need. We just want to set a reference and refer to it whenever we want but the problem with this is it can leak memory. So what we would do is either listen for the destroy event or use one of the destroy methods and call the superclass. But what if &lt;strong&gt;Sencha Touch&lt;/strong&gt; as a framework can take care of it? Enter the referenceList.&lt;/p&gt;
&lt;p&gt;Every subclass of &lt;code class=&quot;language-text&quot;&gt;Ext.AbstractComponent&lt;/code&gt; gets an Array placed as &lt;code class=&quot;language-text&quot;&gt;referenceList&lt;/code&gt;. All this is is an Array of Strings which are references on the component. You will see that the referenceList Array will have ‘element’ and sometimes ‘innerElement’ (depending on if it is an &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt; or subclass). When the component is destroyed, the destroy method will iterate over the referenceList Array, execute the destroy method on that reference and then delete it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// Destroy all element references
for (i = 0,ln = referenceList.length; i &amp;amp;amp;lt; ln; i++) {
    reference = referenceList[i];
    this[reference].destroy();
    delete this[reference];
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now you can see the comment says that it will destroy all element references but technically you can put anything in there that has a destroy method. Very simple to clean up your references. Let’s look at an example…&lt;/p&gt;
&lt;p&gt;Say you want a fullscreened &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt; but you need to detect when that &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt;’s size changes. By default, &lt;code class=&quot;language-text&quot;&gt;Ext.Container&lt;/code&gt; doesn’t monitor it’s own size so you have to initialize your own &lt;code class=&quot;language-text&quot;&gt;Ext.util.SizeMonitor&lt;/code&gt; in order to do this. I will caution you, &lt;code class=&quot;language-text&quot;&gt;Ext.util.SizeMonitor&lt;/code&gt; adds in overhead so don’t go crazy adding it to everything. This is an example of a subclass that does just this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyContainer&amp;#39;, {
    extend : &amp;#39;Ext.Container&amp;#39;,

    config : {
        fullscreen : true
    },

    initialize: function() {
        var me      = this,
            refList = me.referenceList;

        me.sizeMonitor = Ext.create(&amp;#39;Ext.util.SizeMonitor&amp;#39;, {
            element  : me.element,
            callback : me.onSizeChange,
            scope    : me
        });

        me.on(&amp;#39;painted&amp;#39;, &amp;#39;onPainted&amp;#39;, me, { single : true });

        me.callParent();
    },

    onPainted: function(cmp) {
        cmp.sizeMonitor.refresh();
    },

    onSizeChange: function() {
        this.fireEvent(&amp;#39;sizechanged&amp;#39;, this);
    }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Couple things I want to point out here. First, you can see we are placing a reference to the &lt;code class=&quot;language-text&quot;&gt;Ext.util.SizeMonitor&lt;/code&gt; instance to &lt;code class=&quot;language-text&quot;&gt;this.sizeMonitor&lt;/code&gt;. Second, you have to execute the refresh method on the &lt;code class=&quot;language-text&quot;&gt;Ext.util.SizeMonitor&lt;/code&gt; instance when the component has been painted, this is what will make the size change be picked up. This may be better suited for the config Object to get the getter and setter but it’s just an example for this blog post. So right now we have a fully working example with a reference that could be a memory leak, we could listen for the ‘destroy’ event and clean it up ourselves but there is a built in way to do it as mentioned before, the referenceList Array. So after you set the reference, we just need to push a String to the referenceList Array and it will automatically be cleaned up for us:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ext.define(&amp;#39;MyContainer&amp;#39;, {
    //..

    initialize: function() {
        var me      = this,
            refList = me.referenceList;

        me.sizeMonitor = Ext.create(&amp;#39;Ext.util.SizeMonitor&amp;#39;, {
            element  : me.element,
            callback : me.onSizeChange,
            scope    : me
        });
        refList.push(&amp;#39;sizeMonitor&amp;#39;);

        me.on(&amp;#39;painted&amp;#39;, &amp;#39;onPainted&amp;#39;, me, { single : true });

        me.callParent();
    },

    //...
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That simple! But remember, it must have that destroy method or else you will get a JavaScript error as there is no check if a destroy method is present. Kind of wish there was for other references but it’s not really what this was meant for.&lt;/p&gt;
&lt;p&gt;Enjoy all the &lt;strong&gt;Sencha Touch 2&lt;/strong&gt; goodness!&lt;/p&gt;</content:encoded></item></channel></rss>